ARM GAS  /tmp/cc1ThuXR.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_ll_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.USB_CoreInit,"ax",%progbits
  20              		.align	1
  21              		.global	USB_CoreInit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	USB_CoreInit:
  27              	.LFB235:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Copyright (c) 2016 STMicroelectronics.
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
ARM GAS  /tmp/cc1ThuXR.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  29              		.loc 1 84 1
  30              		.cfi_startproc
  31              		@ args = 56, pretend = 16, frame = 16
ARM GAS  /tmp/cc1ThuXR.s 			page 3


  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 84B0     		sub	sp, sp, #16
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36 0002 80B5     		push	{r7, lr}
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39              		.cfi_offset 7, -24
  40              		.cfi_offset 14, -20
  41 0004 84B0     		sub	sp, sp, #16
  42              	.LCFI2:
  43              		.cfi_def_cfa_offset 40
  44 0006 00AF     		add	r7, sp, #0
  45              	.LCFI3:
  46              		.cfi_def_cfa_register 7
  47 0008 7860     		str	r0, [r7, #4]
  48 000a 07F11C00 		add	r0, r7, #28
  49 000e 80E80E00 		stm	r0, {r1, r2, r3}
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  50              		.loc 1 86 10
  51 0012 3B6B     		ldr	r3, [r7, #48]
  52              		.loc 1 86 6
  53 0014 012B     		cmp	r3, #1
  54 0016 22D1     		bne	.L2
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  55              		.loc 1 88 17
  56 0018 7B68     		ldr	r3, [r7, #4]
  57 001a 9B6B     		ldr	r3, [r3, #56]
  58 001c 23F48032 		bic	r2, r3, #65536
  59 0020 7B68     		ldr	r3, [r7, #4]
  60 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  61              		.loc 1 91 19
  62 0024 7B68     		ldr	r3, [r7, #4]
  63 0026 DB68     		ldr	r3, [r3, #12]
  64 0028 23F48403 		bic	r3, r3, #4325376
  65 002c 23F04003 		bic	r3, r3, #64
  66 0030 7A68     		ldr	r2, [r7, #4]
  67 0032 D360     		str	r3, [r2, #12]
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  68              		.loc 1 94 19
  69 0034 7B68     		ldr	r3, [r7, #4]
  70 0036 DB68     		ldr	r3, [r3, #12]
  71 0038 23F44012 		bic	r2, r3, #3145728
  72 003c 7B68     		ldr	r3, [r7, #4]
  73 003e DA60     		str	r2, [r3, #12]
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  74              		.loc 1 95 12
  75 0040 FB6C     		ldr	r3, [r7, #76]
  76              		.loc 1 95 8
  77 0042 012B     		cmp	r3, #1
ARM GAS  /tmp/cc1ThuXR.s 			page 4


  78 0044 05D1     		bne	.L3
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  79              		.loc 1 97 21
  80 0046 7B68     		ldr	r3, [r7, #4]
  81 0048 DB68     		ldr	r3, [r3, #12]
  82 004a 43F48012 		orr	r2, r3, #1048576
  83 004e 7B68     		ldr	r3, [r7, #4]
  84 0050 DA60     		str	r2, [r3, #12]
  85              	.L3:
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  86              		.loc 1 101 11
  87 0052 7868     		ldr	r0, [r7, #4]
  88 0054 FFF7FEFF 		bl	USB_CoreReset
  89 0058 0346     		mov	r3, r0
  90 005a FB73     		strb	r3, [r7, #15]
  91 005c 1AE0     		b	.L4
  92              	.L2:
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  93              		.loc 1 106 19
  94 005e 7B68     		ldr	r3, [r7, #4]
  95 0060 DB68     		ldr	r3, [r3, #12]
  96 0062 43F04002 		orr	r2, r3, #64
  97 0066 7B68     		ldr	r3, [r7, #4]
  98 0068 DA60     		str	r2, [r3, #12]
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  99              		.loc 1 109 11
 100 006a 7868     		ldr	r0, [r7, #4]
 101 006c FFF7FEFF 		bl	USB_CoreReset
 102 0070 0346     		mov	r3, r0
 103 0072 FB73     		strb	r3, [r7, #15]
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 104              		.loc 1 111 12
 105 0074 3B6C     		ldr	r3, [r7, #64]
 106              		.loc 1 111 8
 107 0076 002B     		cmp	r3, #0
 108 0078 06D1     		bne	.L5
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 109              		.loc 1 114 19
 110 007a 7B68     		ldr	r3, [r7, #4]
 111 007c 9B6B     		ldr	r3, [r3, #56]
 112 007e 43F48032 		orr	r2, r3, #65536
 113 0082 7B68     		ldr	r3, [r7, #4]
 114 0084 9A63     		str	r2, [r3, #56]
 115 0086 05E0     		b	.L4
ARM GAS  /tmp/cc1ThuXR.s 			page 5


 116              	.L5:
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 117              		.loc 1 119 19
 118 0088 7B68     		ldr	r3, [r7, #4]
 119 008a 9B6B     		ldr	r3, [r3, #56]
 120 008c 23F48032 		bic	r2, r3, #65536
 121 0090 7B68     		ldr	r3, [r7, #4]
 122 0092 9A63     		str	r2, [r3, #56]
 123              	.L4:
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 124              		.loc 1 123 10
 125 0094 BB6A     		ldr	r3, [r7, #40]
 126              		.loc 1 123 6
 127 0096 012B     		cmp	r3, #1
 128 0098 0BD1     		bne	.L6
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 129              		.loc 1 125 19
 130 009a 7B68     		ldr	r3, [r7, #4]
 131 009c 9B68     		ldr	r3, [r3, #8]
 132 009e 43F00602 		orr	r2, r3, #6
 133 00a2 7B68     		ldr	r3, [r7, #4]
 134 00a4 9A60     		str	r2, [r3, #8]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 135              		.loc 1 126 19
 136 00a6 7B68     		ldr	r3, [r7, #4]
 137 00a8 9B68     		ldr	r3, [r3, #8]
 138 00aa 43F02002 		orr	r2, r3, #32
 139 00ae 7B68     		ldr	r3, [r7, #4]
 140 00b0 9A60     		str	r2, [r3, #8]
 141              	.L6:
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 142              		.loc 1 129 10
 143 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 144              		.loc 1 130 1
 145 00b4 1846     		mov	r0, r3
 146 00b6 1037     		adds	r7, r7, #16
 147              	.LCFI4:
 148              		.cfi_def_cfa_offset 24
 149 00b8 BD46     		mov	sp, r7
 150              	.LCFI5:
 151              		.cfi_def_cfa_register 13
 152              		@ sp needed
 153 00ba BDE88040 		pop	{r7, lr}
 154              	.LCFI6:
 155              		.cfi_restore 14
 156              		.cfi_restore 7
ARM GAS  /tmp/cc1ThuXR.s 			page 6


 157              		.cfi_def_cfa_offset 16
 158 00be 04B0     		add	sp, sp, #16
 159              	.LCFI7:
 160              		.cfi_def_cfa_offset 0
 161 00c0 7047     		bx	lr
 162              		.cfi_endproc
 163              	.LFE235:
 165              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 166              		.align	1
 167              		.global	USB_SetTurnaroundTime
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	USB_SetTurnaroundTime:
 173              	.LFB236:
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 174              		.loc 1 141 1
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 24
 177              		@ frame_needed = 1, uses_anonymous_args = 0
 178              		@ link register save eliminated.
 179 0000 80B4     		push	{r7}
 180              	.LCFI8:
 181              		.cfi_def_cfa_offset 4
 182              		.cfi_offset 7, -4
 183 0002 87B0     		sub	sp, sp, #28
 184              	.LCFI9:
 185              		.cfi_def_cfa_offset 32
 186 0004 00AF     		add	r7, sp, #0
 187              	.LCFI10:
 188              		.cfi_def_cfa_register 7
 189 0006 F860     		str	r0, [r7, #12]
 190 0008 B960     		str	r1, [r7, #8]
 191 000a 1346     		mov	r3, r2
 192 000c FB71     		strb	r3, [r7, #7]
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 193              		.loc 1 148 6
 194 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 195 0010 022B     		cmp	r3, #2
 196 0012 65D1     		bne	.L9
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/cc1ThuXR.s 			page 7


 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 197              		.loc 1 150 8
 198 0014 BB68     		ldr	r3, [r7, #8]
 199 0016 414A     		ldr	r2, .L23
 200 0018 9342     		cmp	r3, r2
 201 001a 06D9     		bls	.L10
 202              		.loc 1 150 29 discriminator 1
 203 001c BB68     		ldr	r3, [r7, #8]
 204 001e 404A     		ldr	r2, .L23+4
 205 0020 9342     		cmp	r3, r2
 206 0022 02D2     		bcs	.L10
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 207              		.loc 1 153 14
 208 0024 0F23     		movs	r3, #15
 209 0026 7B61     		str	r3, [r7, #20]
 210 0028 62E0     		b	.L20
 211              	.L10:
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 212              		.loc 1 155 13
 213 002a BB68     		ldr	r3, [r7, #8]
 214 002c 3C4A     		ldr	r2, .L23+4
 215 002e 9342     		cmp	r3, r2
 216 0030 06D3     		bcc	.L12
 217              		.loc 1 155 34 discriminator 1
 218 0032 BB68     		ldr	r3, [r7, #8]
 219 0034 3B4A     		ldr	r2, .L23+8
 220 0036 9342     		cmp	r3, r2
 221 0038 02D2     		bcs	.L12
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 222              		.loc 1 158 14
 223 003a 0E23     		movs	r3, #14
 224 003c 7B61     		str	r3, [r7, #20]
 225 003e 57E0     		b	.L20
 226              	.L12:
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 227              		.loc 1 160 13
 228 0040 BB68     		ldr	r3, [r7, #8]
 229 0042 384A     		ldr	r2, .L23+8
 230 0044 9342     		cmp	r3, r2
 231 0046 06D3     		bcc	.L13
 232              		.loc 1 160 34 discriminator 1
 233 0048 BB68     		ldr	r3, [r7, #8]
 234 004a 374A     		ldr	r2, .L23+12
 235 004c 9342     		cmp	r3, r2
 236 004e 02D2     		bcs	.L13
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 237              		.loc 1 163 14
 238 0050 0D23     		movs	r3, #13
 239 0052 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/cc1ThuXR.s 			page 8


 240 0054 4CE0     		b	.L20
 241              	.L13:
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 242              		.loc 1 165 13
 243 0056 BB68     		ldr	r3, [r7, #8]
 244 0058 334A     		ldr	r2, .L23+12
 245 005a 9342     		cmp	r3, r2
 246 005c 06D3     		bcc	.L14
 247              		.loc 1 165 34 discriminator 1
 248 005e BB68     		ldr	r3, [r7, #8]
 249 0060 324A     		ldr	r2, .L23+16
 250 0062 9342     		cmp	r3, r2
 251 0064 02D8     		bhi	.L14
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 252              		.loc 1 168 14
 253 0066 0C23     		movs	r3, #12
 254 0068 7B61     		str	r3, [r7, #20]
 255 006a 41E0     		b	.L20
 256              	.L14:
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 257              		.loc 1 170 13
 258 006c BB68     		ldr	r3, [r7, #8]
 259 006e 2F4A     		ldr	r2, .L23+16
 260 0070 9342     		cmp	r3, r2
 261 0072 06D9     		bls	.L15
 262              		.loc 1 170 34 discriminator 1
 263 0074 BB68     		ldr	r3, [r7, #8]
 264 0076 2E4A     		ldr	r2, .L23+20
 265 0078 9342     		cmp	r3, r2
 266 007a 02D8     		bhi	.L15
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 267              		.loc 1 173 14
 268 007c 0B23     		movs	r3, #11
 269 007e 7B61     		str	r3, [r7, #20]
 270 0080 36E0     		b	.L20
 271              	.L15:
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 272              		.loc 1 175 13
 273 0082 BB68     		ldr	r3, [r7, #8]
 274 0084 2A4A     		ldr	r2, .L23+20
 275 0086 9342     		cmp	r3, r2
 276 0088 06D9     		bls	.L16
 277              		.loc 1 175 34 discriminator 1
 278 008a BB68     		ldr	r3, [r7, #8]
 279 008c 294A     		ldr	r2, .L23+24
 280 008e 9342     		cmp	r3, r2
 281 0090 02D8     		bhi	.L16
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
ARM GAS  /tmp/cc1ThuXR.s 			page 9


 282              		.loc 1 178 14
 283 0092 0A23     		movs	r3, #10
 284 0094 7B61     		str	r3, [r7, #20]
 285 0096 2BE0     		b	.L20
 286              	.L16:
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 287              		.loc 1 180 13
 288 0098 BB68     		ldr	r3, [r7, #8]
 289 009a 264A     		ldr	r2, .L23+24
 290 009c 9342     		cmp	r3, r2
 291 009e 06D9     		bls	.L17
 292              		.loc 1 180 34 discriminator 1
 293 00a0 BB68     		ldr	r3, [r7, #8]
 294 00a2 254A     		ldr	r2, .L23+28
 295 00a4 9342     		cmp	r3, r2
 296 00a6 02D2     		bcs	.L17
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 297              		.loc 1 183 14
 298 00a8 0923     		movs	r3, #9
 299 00aa 7B61     		str	r3, [r7, #20]
 300 00ac 20E0     		b	.L20
 301              	.L17:
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 302              		.loc 1 185 13
 303 00ae BB68     		ldr	r3, [r7, #8]
 304 00b0 214A     		ldr	r2, .L23+28
 305 00b2 9342     		cmp	r3, r2
 306 00b4 06D3     		bcc	.L18
 307              		.loc 1 185 34 discriminator 1
 308 00b6 BB68     		ldr	r3, [r7, #8]
 309 00b8 204A     		ldr	r2, .L23+32
 310 00ba 9342     		cmp	r3, r2
 311 00bc 02D8     		bhi	.L18
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 312              		.loc 1 188 14
 313 00be 0823     		movs	r3, #8
 314 00c0 7B61     		str	r3, [r7, #20]
 315 00c2 15E0     		b	.L20
 316              	.L18:
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 317              		.loc 1 190 13
 318 00c4 BB68     		ldr	r3, [r7, #8]
 319 00c6 1D4A     		ldr	r2, .L23+32
 320 00c8 9342     		cmp	r3, r2
 321 00ca 06D9     		bls	.L19
 322              		.loc 1 190 34 discriminator 1
 323 00cc BB68     		ldr	r3, [r7, #8]
 324 00ce 1C4A     		ldr	r2, .L23+36
 325 00d0 9342     		cmp	r3, r2
 326 00d2 02D2     		bcs	.L19
ARM GAS  /tmp/cc1ThuXR.s 			page 10


 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 327              		.loc 1 193 14
 328 00d4 0723     		movs	r3, #7
 329 00d6 7B61     		str	r3, [r7, #20]
 330 00d8 0AE0     		b	.L20
 331              	.L19:
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 332              		.loc 1 198 14
 333 00da 0623     		movs	r3, #6
 334 00dc 7B61     		str	r3, [r7, #20]
 335 00de 07E0     		b	.L20
 336              	.L9:
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 337              		.loc 1 201 11
 338 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 339 00e2 002B     		cmp	r3, #0
 340 00e4 02D1     		bne	.L21
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 341              		.loc 1 203 12
 342 00e6 0923     		movs	r3, #9
 343 00e8 7B61     		str	r3, [r7, #20]
 344 00ea 01E0     		b	.L20
 345              	.L21:
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 346              		.loc 1 207 12
 347 00ec 0923     		movs	r3, #9
 348 00ee 7B61     		str	r3, [r7, #20]
 349              	.L20:
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 350              		.loc 1 210 17
 351 00f0 FB68     		ldr	r3, [r7, #12]
 352 00f2 DB68     		ldr	r3, [r3, #12]
 353 00f4 23F47052 		bic	r2, r3, #15360
 354 00f8 FB68     		ldr	r3, [r7, #12]
 355 00fa DA60     		str	r2, [r3, #12]
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 356              		.loc 1 211 17
 357 00fc FB68     		ldr	r3, [r7, #12]
 358 00fe DA68     		ldr	r2, [r3, #12]
 359              		.loc 1 211 39
 360 0100 7B69     		ldr	r3, [r7, #20]
 361 0102 9B02     		lsls	r3, r3, #10
 362              		.loc 1 211 20
ARM GAS  /tmp/cc1ThuXR.s 			page 11


 363 0104 03F47053 		and	r3, r3, #15360
 364              		.loc 1 211 17
 365 0108 1A43     		orrs	r2, r2, r3
 366 010a FB68     		ldr	r3, [r7, #12]
 367 010c DA60     		str	r2, [r3, #12]
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 368              		.loc 1 213 10
 369 010e 0023     		movs	r3, #0
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 370              		.loc 1 214 1
 371 0110 1846     		mov	r0, r3
 372 0112 1C37     		adds	r7, r7, #28
 373              	.LCFI11:
 374              		.cfi_def_cfa_offset 4
 375 0114 BD46     		mov	sp, r7
 376              	.LCFI12:
 377              		.cfi_def_cfa_register 13
 378              		@ sp needed
 379 0116 5DF8047B 		ldr	r7, [sp], #4
 380              	.LCFI13:
 381              		.cfi_restore 7
 382              		.cfi_def_cfa_offset 0
 383 011a 7047     		bx	lr
 384              	.L24:
 385              		.align	2
 386              	.L23:
 387 011c BFACD800 		.word	14199999
 388 0120 C0E1E400 		.word	15000000
 389 0124 0024F400 		.word	16000000
 390 0128 80730601 		.word	17200000
 391 012c 9F491A01 		.word	18499999
 392 0130 FF2C3101 		.word	19999999
 393 0134 3FA44C01 		.word	21799999
 394 0138 00366E01 		.word	24000000
 395 013c 1FABA601 		.word	27699999
 396 0140 0048E801 		.word	32000000
 397              		.cfi_endproc
 398              	.LFE236:
 400              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 401              		.align	1
 402              		.global	USB_EnableGlobalInt
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	USB_EnableGlobalInt:
 408              	.LFB237:
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 409              		.loc 1 223 1
ARM GAS  /tmp/cc1ThuXR.s 			page 12


 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 8
 412              		@ frame_needed = 1, uses_anonymous_args = 0
 413              		@ link register save eliminated.
 414 0000 80B4     		push	{r7}
 415              	.LCFI14:
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 83B0     		sub	sp, sp, #12
 419              	.LCFI15:
 420              		.cfi_def_cfa_offset 16
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI16:
 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 425              		.loc 1 224 17
 426 0008 7B68     		ldr	r3, [r7, #4]
 427 000a 9B68     		ldr	r3, [r3, #8]
 428 000c 43F00102 		orr	r2, r3, #1
 429 0010 7B68     		ldr	r3, [r7, #4]
 430 0012 9A60     		str	r2, [r3, #8]
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 431              		.loc 1 225 10
 432 0014 0023     		movs	r3, #0
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 433              		.loc 1 226 1
 434 0016 1846     		mov	r0, r3
 435 0018 0C37     		adds	r7, r7, #12
 436              	.LCFI17:
 437              		.cfi_def_cfa_offset 4
 438 001a BD46     		mov	sp, r7
 439              	.LCFI18:
 440              		.cfi_def_cfa_register 13
 441              		@ sp needed
 442 001c 5DF8047B 		ldr	r7, [sp], #4
 443              	.LCFI19:
 444              		.cfi_restore 7
 445              		.cfi_def_cfa_offset 0
 446 0020 7047     		bx	lr
 447              		.cfi_endproc
 448              	.LFE237:
 450              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 451              		.align	1
 452              		.global	USB_DisableGlobalInt
 453              		.syntax unified
 454              		.thumb
 455              		.thumb_func
 457              	USB_DisableGlobalInt:
 458              	.LFB238:
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/cc1ThuXR.s 			page 13


 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 459              		.loc 1 235 1
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 8
 462              		@ frame_needed = 1, uses_anonymous_args = 0
 463              		@ link register save eliminated.
 464 0000 80B4     		push	{r7}
 465              	.LCFI20:
 466              		.cfi_def_cfa_offset 4
 467              		.cfi_offset 7, -4
 468 0002 83B0     		sub	sp, sp, #12
 469              	.LCFI21:
 470              		.cfi_def_cfa_offset 16
 471 0004 00AF     		add	r7, sp, #0
 472              	.LCFI22:
 473              		.cfi_def_cfa_register 7
 474 0006 7860     		str	r0, [r7, #4]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 475              		.loc 1 236 17
 476 0008 7B68     		ldr	r3, [r7, #4]
 477 000a 9B68     		ldr	r3, [r3, #8]
 478 000c 23F00102 		bic	r2, r3, #1
 479 0010 7B68     		ldr	r3, [r7, #4]
 480 0012 9A60     		str	r2, [r3, #8]
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 481              		.loc 1 237 10
 482 0014 0023     		movs	r3, #0
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 483              		.loc 1 238 1
 484 0016 1846     		mov	r0, r3
 485 0018 0C37     		adds	r7, r7, #12
 486              	.LCFI23:
 487              		.cfi_def_cfa_offset 4
 488 001a BD46     		mov	sp, r7
 489              	.LCFI24:
 490              		.cfi_def_cfa_register 13
 491              		@ sp needed
 492 001c 5DF8047B 		ldr	r7, [sp], #4
 493              	.LCFI25:
 494              		.cfi_restore 7
 495              		.cfi_def_cfa_offset 0
 496 0020 7047     		bx	lr
 497              		.cfi_endproc
 498              	.LFE238:
 500              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 501              		.align	1
 502              		.global	USB_SetCurrentMode
 503              		.syntax unified
 504              		.thumb
 505              		.thumb_func
 507              	USB_SetCurrentMode:
 508              	.LFB239:
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/cc1ThuXR.s 			page 14


 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode  current core mode
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 509              		.loc 1 250 1
 510              		.cfi_startproc
 511              		@ args = 0, pretend = 0, frame = 16
 512              		@ frame_needed = 1, uses_anonymous_args = 0
 513 0000 80B5     		push	{r7, lr}
 514              	.LCFI26:
 515              		.cfi_def_cfa_offset 8
 516              		.cfi_offset 7, -8
 517              		.cfi_offset 14, -4
 518 0002 84B0     		sub	sp, sp, #16
 519              	.LCFI27:
 520              		.cfi_def_cfa_offset 24
 521 0004 00AF     		add	r7, sp, #0
 522              	.LCFI28:
 523              		.cfi_def_cfa_register 7
 524 0006 7860     		str	r0, [r7, #4]
 525 0008 0B46     		mov	r3, r1
 526 000a FB70     		strb	r3, [r7, #3]
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ms = 0U;
 527              		.loc 1 251 12
 528 000c 0023     		movs	r3, #0
 529 000e FB60     		str	r3, [r7, #12]
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 530              		.loc 1 253 17
 531 0010 7B68     		ldr	r3, [r7, #4]
 532 0012 DB68     		ldr	r3, [r3, #12]
 533 0014 23F0C042 		bic	r2, r3, #1610612736
 534 0018 7B68     		ldr	r3, [r7, #4]
 535 001a DA60     		str	r2, [r3, #12]
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 536              		.loc 1 255 6
 537 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 538 001e 012B     		cmp	r3, #1
 539 0020 15D1     		bne	.L30
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 540              		.loc 1 257 19
 541 0022 7B68     		ldr	r3, [r7, #4]
 542 0024 DB68     		ldr	r3, [r3, #12]
 543 0026 43F00052 		orr	r2, r3, #536870912
 544 002a 7B68     		ldr	r3, [r7, #4]
 545 002c DA60     		str	r2, [r3, #12]
 546              	.L32:
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
ARM GAS  /tmp/cc1ThuXR.s 			page 15


 547              		.loc 1 261 7 discriminator 2
 548 002e 0120     		movs	r0, #1
 549 0030 FFF7FEFF 		bl	HAL_Delay
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 550              		.loc 1 262 9 discriminator 2
 551 0034 FB68     		ldr	r3, [r7, #12]
 552 0036 0133     		adds	r3, r3, #1
 553 0038 FB60     		str	r3, [r7, #12]
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 554              		.loc 1 263 15 discriminator 2
 555 003a 7868     		ldr	r0, [r7, #4]
 556 003c FFF7FEFF 		bl	USB_GetMode
 557 0040 0346     		mov	r3, r0
 558              		.loc 1 263 5 discriminator 2
 559 0042 012B     		cmp	r3, #1
 560 0044 1ED0     		beq	.L31
 561              		.loc 1 263 61 discriminator 1
 562 0046 FB68     		ldr	r3, [r7, #12]
 563 0048 312B     		cmp	r3, #49
 564 004a F0D9     		bls	.L32
 565 004c 1AE0     		b	.L31
 566              	.L30:
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 567              		.loc 1 265 11
 568 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 569 0050 002B     		cmp	r3, #0
 570 0052 15D1     		bne	.L33
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 571              		.loc 1 267 19
 572 0054 7B68     		ldr	r3, [r7, #4]
 573 0056 DB68     		ldr	r3, [r3, #12]
 574 0058 43F08042 		orr	r2, r3, #1073741824
 575 005c 7B68     		ldr	r3, [r7, #4]
 576 005e DA60     		str	r2, [r3, #12]
 577              	.L34:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
 578              		.loc 1 271 7 discriminator 2
 579 0060 0120     		movs	r0, #1
 580 0062 FFF7FEFF 		bl	HAL_Delay
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 581              		.loc 1 272 9 discriminator 2
 582 0066 FB68     		ldr	r3, [r7, #12]
 583 0068 0133     		adds	r3, r3, #1
 584 006a FB60     		str	r3, [r7, #12]
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 585              		.loc 1 273 15 discriminator 2
 586 006c 7868     		ldr	r0, [r7, #4]
 587 006e FFF7FEFF 		bl	USB_GetMode
 588 0072 0346     		mov	r3, r0
 589              		.loc 1 273 5 discriminator 2
 590 0074 002B     		cmp	r3, #0
 591 0076 05D0     		beq	.L31
ARM GAS  /tmp/cc1ThuXR.s 			page 16


 592              		.loc 1 273 63 discriminator 1
 593 0078 FB68     		ldr	r3, [r7, #12]
 594 007a 312B     		cmp	r3, #49
 595 007c F0D9     		bls	.L34
 596 007e 01E0     		b	.L31
 597              	.L33:
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 598              		.loc 1 277 12
 599 0080 0123     		movs	r3, #1
 600 0082 05E0     		b	.L35
 601              	.L31:
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ms == 50U)
 602              		.loc 1 280 6
 603 0084 FB68     		ldr	r3, [r7, #12]
 604 0086 322B     		cmp	r3, #50
 605 0088 01D1     		bne	.L36
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 606              		.loc 1 282 12
 607 008a 0123     		movs	r3, #1
 608 008c 00E0     		b	.L35
 609              	.L36:
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 610              		.loc 1 285 10
 611 008e 0023     		movs	r3, #0
 612              	.L35:
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 613              		.loc 1 286 1
 614 0090 1846     		mov	r0, r3
 615 0092 1037     		adds	r7, r7, #16
 616              	.LCFI29:
 617              		.cfi_def_cfa_offset 8
 618 0094 BD46     		mov	sp, r7
 619              	.LCFI30:
 620              		.cfi_def_cfa_register 13
 621              		@ sp needed
 622 0096 80BD     		pop	{r7, pc}
 623              		.cfi_endproc
 624              	.LFE239:
 626              		.section	.text.USB_DevInit,"ax",%progbits
 627              		.align	1
 628              		.global	USB_DevInit
 629              		.syntax unified
 630              		.thumb
 631              		.thumb_func
 633              	USB_DevInit:
 634              	.LFB240:
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
ARM GAS  /tmp/cc1ThuXR.s 			page 17


 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 635              		.loc 1 297 1
 636              		.cfi_startproc
 637              		@ args = 56, pretend = 16, frame = 24
 638              		@ frame_needed = 1, uses_anonymous_args = 0
 639 0000 84B0     		sub	sp, sp, #16
 640              	.LCFI31:
 641              		.cfi_def_cfa_offset 16
 642 0002 80B5     		push	{r7, lr}
 643              	.LCFI32:
 644              		.cfi_def_cfa_offset 24
 645              		.cfi_offset 7, -24
 646              		.cfi_offset 14, -20
 647 0004 86B0     		sub	sp, sp, #24
 648              	.LCFI33:
 649              		.cfi_def_cfa_offset 48
 650 0006 00AF     		add	r7, sp, #0
 651              	.LCFI34:
 652              		.cfi_def_cfa_register 7
 653 0008 7860     		str	r0, [r7, #4]
 654 000a 07F12400 		add	r0, r7, #36
 655 000e 80E80E00 		stm	r0, {r1, r2, r3}
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 656              		.loc 1 298 21
 657 0012 0023     		movs	r3, #0
 658 0014 FB75     		strb	r3, [r7, #23]
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 659              		.loc 1 299 12
 660 0016 7B68     		ldr	r3, [r7, #4]
 661 0018 FB60     		str	r3, [r7, #12]
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 662              		.loc 1 302 10
 663 001a 0023     		movs	r3, #0
 664 001c 3B61     		str	r3, [r7, #16]
 665              		.loc 1 302 3
 666 001e 09E0     		b	.L38
 667              	.L39:
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 668              		.loc 1 304 22 discriminator 3
 669 0020 7A68     		ldr	r2, [r7, #4]
 670 0022 3B69     		ldr	r3, [r7, #16]
 671 0024 4033     		adds	r3, r3, #64
 672 0026 9B00     		lsls	r3, r3, #2
 673 0028 1344     		add	r3, r3, r2
 674 002a 0022     		movs	r2, #0
 675 002c 5A60     		str	r2, [r3, #4]
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/cc1ThuXR.s 			page 18


 676              		.loc 1 302 26 discriminator 3
 677 002e 3B69     		ldr	r3, [r7, #16]
 678 0030 0133     		adds	r3, r3, #1
 679 0032 3B61     		str	r3, [r7, #16]
 680              	.L38:
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 681              		.loc 1 302 3 discriminator 1
 682 0034 3B69     		ldr	r3, [r7, #16]
 683 0036 0E2B     		cmp	r3, #14
 684 0038 F2D9     		bls	.L39
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 685              		.loc 1 309 10
 686 003a FB6C     		ldr	r3, [r7, #76]
 687              		.loc 1 309 6
 688 003c 002B     		cmp	r3, #0
 689 003e 1CD1     		bne	.L40
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 690              		.loc 1 311 23
 691 0040 FB68     		ldr	r3, [r7, #12]
 692 0042 03F50063 		add	r3, r3, #2048
 693 0046 5B68     		ldr	r3, [r3, #4]
 694 0048 FA68     		ldr	r2, [r7, #12]
 695 004a 02F50062 		add	r2, r2, #2048
 696 004e 43F00203 		orr	r3, r3, #2
 697 0052 5360     		str	r3, [r2, #4]
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 698              		.loc 1 314 17
 699 0054 7B68     		ldr	r3, [r7, #4]
 700 0056 9B6B     		ldr	r3, [r3, #56]
 701 0058 23F40012 		bic	r2, r3, #2097152
 702 005c 7B68     		ldr	r3, [r7, #4]
 703 005e 9A63     		str	r2, [r3, #56]
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 704              		.loc 1 317 19
 705 0060 7B68     		ldr	r3, [r7, #4]
 706 0062 1B68     		ldr	r3, [r3]
 707 0064 43F04002 		orr	r2, r3, #64
 708 0068 7B68     		ldr	r3, [r7, #4]
 709 006a 1A60     		str	r2, [r3]
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 710              		.loc 1 318 19
 711 006c 7B68     		ldr	r3, [r7, #4]
 712 006e 1B68     		ldr	r3, [r3]
 713 0070 43F08002 		orr	r2, r3, #128
 714 0074 7B68     		ldr	r3, [r7, #4]
 715 0076 1A60     		str	r2, [r3]
 716 0078 05E0     		b	.L41
 717              	.L40:
ARM GAS  /tmp/cc1ThuXR.s 			page 19


 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 718              		.loc 1 323 17
 719 007a 7B68     		ldr	r3, [r7, #4]
 720 007c 9B6B     		ldr	r3, [r3, #56]
 721 007e 43F40012 		orr	r2, r3, #2097152
 722 0082 7B68     		ldr	r3, [r7, #4]
 723 0084 9A63     		str	r2, [r3, #56]
 724              	.L41:
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_NOVBUSSENS;
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 725              		.loc 1 347 3
 726 0086 FB68     		ldr	r3, [r7, #12]
 727 0088 03F56063 		add	r3, r3, #3584
 728 008c 1A46     		mov	r2, r3
 729              		.loc 1 347 16
 730 008e 0023     		movs	r3, #0
 731 0090 1360     		str	r3, [r2]
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 732              		.loc 1 350 21
 733 0092 FB68     		ldr	r3, [r7, #12]
 734 0094 03F50063 		add	r3, r3, #2048
 735 0098 1946     		mov	r1, r3
 736 009a FB68     		ldr	r3, [r7, #12]
 737 009c 03F50063 		add	r3, r3, #2048
 738 00a0 1A46     		mov	r2, r3
 739 00a2 0B68     		ldr	r3, [r1]
 740 00a4 1360     		str	r3, [r2]
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
ARM GAS  /tmp/cc1ThuXR.s 			page 20


 741              		.loc 1 352 10
 742 00a6 BB6B     		ldr	r3, [r7, #56]
 743              		.loc 1 352 6
 744 00a8 012B     		cmp	r3, #1
 745 00aa 0CD1     		bne	.L42
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 746              		.loc 1 354 12
 747 00ac FB6A     		ldr	r3, [r7, #44]
 748              		.loc 1 354 8
 749 00ae 002B     		cmp	r3, #0
 750 00b0 04D1     		bne	.L43
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 751              		.loc 1 357 13
 752 00b2 0021     		movs	r1, #0
 753 00b4 7868     		ldr	r0, [r7, #4]
 754 00b6 FFF7FEFF 		bl	USB_SetDevSpeed
 755 00ba 08E0     		b	.L44
 756              	.L43:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 757              		.loc 1 362 13
 758 00bc 0121     		movs	r1, #1
 759 00be 7868     		ldr	r0, [r7, #4]
 760 00c0 FFF7FEFF 		bl	USB_SetDevSpeed
 761 00c4 03E0     		b	.L44
 762              	.L42:
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 763              		.loc 1 368 11
 764 00c6 0321     		movs	r1, #3
 765 00c8 7868     		ldr	r0, [r7, #4]
 766 00ca FFF7FEFF 		bl	USB_SetDevSpeed
 767              	.L44:
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 768              		.loc 1 372 7
 769 00ce 1021     		movs	r1, #16
 770 00d0 7868     		ldr	r0, [r7, #4]
 771 00d2 FFF7FEFF 		bl	USB_FlushTxFifo
 772 00d6 0346     		mov	r3, r0
 773              		.loc 1 372 6
 774 00d8 002B     		cmp	r3, #0
 775 00da 01D0     		beq	.L45
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
ARM GAS  /tmp/cc1ThuXR.s 			page 21


 776              		.loc 1 374 9
 777 00dc 0123     		movs	r3, #1
 778 00de FB75     		strb	r3, [r7, #23]
 779              	.L45:
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 780              		.loc 1 377 7
 781 00e0 7868     		ldr	r0, [r7, #4]
 782 00e2 FFF7FEFF 		bl	USB_FlushRxFifo
 783 00e6 0346     		mov	r3, r0
 784              		.loc 1 377 6
 785 00e8 002B     		cmp	r3, #0
 786 00ea 01D0     		beq	.L46
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 787              		.loc 1 379 9
 788 00ec 0123     		movs	r3, #1
 789 00ee FB75     		strb	r3, [r7, #23]
 790              	.L46:
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 791              		.loc 1 383 3
 792 00f0 FB68     		ldr	r3, [r7, #12]
 793 00f2 03F50063 		add	r3, r3, #2048
 794 00f6 1A46     		mov	r2, r3
 795              		.loc 1 383 24
 796 00f8 0023     		movs	r3, #0
 797 00fa 1361     		str	r3, [r2, #16]
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 798              		.loc 1 384 3
 799 00fc FB68     		ldr	r3, [r7, #12]
 800 00fe 03F50063 		add	r3, r3, #2048
 801 0102 1A46     		mov	r2, r3
 802              		.loc 1 384 24
 803 0104 0023     		movs	r3, #0
 804 0106 5361     		str	r3, [r2, #20]
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 805              		.loc 1 385 3
 806 0108 FB68     		ldr	r3, [r7, #12]
 807 010a 03F50063 		add	r3, r3, #2048
 808 010e 1A46     		mov	r2, r3
 809              		.loc 1 385 25
 810 0110 0023     		movs	r3, #0
 811 0112 D361     		str	r3, [r2, #28]
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 812              		.loc 1 387 10
 813 0114 0023     		movs	r3, #0
 814 0116 3B61     		str	r3, [r7, #16]
 815              		.loc 1 387 3
 816 0118 43E0     		b	.L47
 817              	.L51:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
ARM GAS  /tmp/cc1ThuXR.s 			page 22


 818              		.loc 1 389 10
 819 011a 3B69     		ldr	r3, [r7, #16]
 820 011c 5A01     		lsls	r2, r3, #5
 821 011e FB68     		ldr	r3, [r7, #12]
 822 0120 1344     		add	r3, r3, r2
 823 0122 03F51063 		add	r3, r3, #2304
 824              		.loc 1 389 22
 825 0126 1B68     		ldr	r3, [r3]
 826              		.loc 1 389 32
 827 0128 03F00043 		and	r3, r3, #-2147483648
 828              		.loc 1 389 8
 829 012c B3F1004F 		cmp	r3, #-2147483648
 830 0130 18D1     		bne	.L48
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 831              		.loc 1 391 10
 832 0132 3B69     		ldr	r3, [r7, #16]
 833 0134 002B     		cmp	r3, #0
 834 0136 0AD1     		bne	.L49
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 835              		.loc 1 393 9
 836 0138 3B69     		ldr	r3, [r7, #16]
 837 013a 5A01     		lsls	r2, r3, #5
 838 013c FB68     		ldr	r3, [r7, #12]
 839 013e 1344     		add	r3, r3, r2
 840 0140 03F51063 		add	r3, r3, #2304
 841 0144 1A46     		mov	r2, r3
 842              		.loc 1 393 31
 843 0146 4FF00063 		mov	r3, #134217728
 844 014a 1360     		str	r3, [r2]
 845 014c 13E0     		b	.L50
 846              	.L49:
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 847              		.loc 1 397 9
 848 014e 3B69     		ldr	r3, [r7, #16]
 849 0150 5A01     		lsls	r2, r3, #5
 850 0152 FB68     		ldr	r3, [r7, #12]
 851 0154 1344     		add	r3, r3, r2
 852 0156 03F51063 		add	r3, r3, #2304
 853 015a 1A46     		mov	r2, r3
 854              		.loc 1 397 31
 855 015c 4FF09043 		mov	r3, #1207959552
 856 0160 1360     		str	r3, [r2]
 857 0162 08E0     		b	.L50
 858              	.L48:
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 859              		.loc 1 402 7
 860 0164 3B69     		ldr	r3, [r7, #16]
 861 0166 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/cc1ThuXR.s 			page 23


 862 0168 FB68     		ldr	r3, [r7, #12]
 863 016a 1344     		add	r3, r3, r2
 864 016c 03F51063 		add	r3, r3, #2304
 865 0170 1A46     		mov	r2, r3
 866              		.loc 1 402 29
 867 0172 0023     		movs	r3, #0
 868 0174 1360     		str	r3, [r2]
 869              	.L50:
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 870              		.loc 1 405 5 discriminator 2
 871 0176 3B69     		ldr	r3, [r7, #16]
 872 0178 5A01     		lsls	r2, r3, #5
 873 017a FB68     		ldr	r3, [r7, #12]
 874 017c 1344     		add	r3, r3, r2
 875 017e 03F51063 		add	r3, r3, #2304
 876 0182 1A46     		mov	r2, r3
 877              		.loc 1 405 28 discriminator 2
 878 0184 0023     		movs	r3, #0
 879 0186 1361     		str	r3, [r2, #16]
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 880              		.loc 1 406 5 discriminator 2
 881 0188 3B69     		ldr	r3, [r7, #16]
 882 018a 5A01     		lsls	r2, r3, #5
 883 018c FB68     		ldr	r3, [r7, #12]
 884 018e 1344     		add	r3, r3, r2
 885 0190 03F51063 		add	r3, r3, #2304
 886 0194 1A46     		mov	r2, r3
 887              		.loc 1 406 28 discriminator 2
 888 0196 4FF67F33 		movw	r3, #64383
 889 019a 9360     		str	r3, [r2, #8]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 890              		.loc 1 387 40 discriminator 2
 891 019c 3B69     		ldr	r3, [r7, #16]
 892 019e 0133     		adds	r3, r3, #1
 893 01a0 3B61     		str	r3, [r7, #16]
 894              	.L47:
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 895              		.loc 1 387 23 discriminator 1
 896 01a2 7B6A     		ldr	r3, [r7, #36]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 897              		.loc 1 387 3 discriminator 1
 898 01a4 3A69     		ldr	r2, [r7, #16]
 899 01a6 9A42     		cmp	r2, r3
 900 01a8 B7D3     		bcc	.L51
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 901              		.loc 1 409 10
 902 01aa 0023     		movs	r3, #0
 903 01ac 3B61     		str	r3, [r7, #16]
 904              		.loc 1 409 3
 905 01ae 43E0     		b	.L52
 906              	.L56:
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
ARM GAS  /tmp/cc1ThuXR.s 			page 24


 907              		.loc 1 411 10
 908 01b0 3B69     		ldr	r3, [r7, #16]
 909 01b2 5A01     		lsls	r2, r3, #5
 910 01b4 FB68     		ldr	r3, [r7, #12]
 911 01b6 1344     		add	r3, r3, r2
 912 01b8 03F53063 		add	r3, r3, #2816
 913              		.loc 1 411 23
 914 01bc 1B68     		ldr	r3, [r3]
 915              		.loc 1 411 33
 916 01be 03F00043 		and	r3, r3, #-2147483648
 917              		.loc 1 411 8
 918 01c2 B3F1004F 		cmp	r3, #-2147483648
 919 01c6 18D1     		bne	.L53
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 920              		.loc 1 413 10
 921 01c8 3B69     		ldr	r3, [r7, #16]
 922 01ca 002B     		cmp	r3, #0
 923 01cc 0AD1     		bne	.L54
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 924              		.loc 1 415 9
 925 01ce 3B69     		ldr	r3, [r7, #16]
 926 01d0 5A01     		lsls	r2, r3, #5
 927 01d2 FB68     		ldr	r3, [r7, #12]
 928 01d4 1344     		add	r3, r3, r2
 929 01d6 03F53063 		add	r3, r3, #2816
 930 01da 1A46     		mov	r2, r3
 931              		.loc 1 415 32
 932 01dc 4FF00063 		mov	r3, #134217728
 933 01e0 1360     		str	r3, [r2]
 934 01e2 13E0     		b	.L55
 935              	.L54:
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 936              		.loc 1 419 9
 937 01e4 3B69     		ldr	r3, [r7, #16]
 938 01e6 5A01     		lsls	r2, r3, #5
 939 01e8 FB68     		ldr	r3, [r7, #12]
 940 01ea 1344     		add	r3, r3, r2
 941 01ec 03F53063 		add	r3, r3, #2816
 942 01f0 1A46     		mov	r2, r3
 943              		.loc 1 419 32
 944 01f2 4FF09043 		mov	r3, #1207959552
 945 01f6 1360     		str	r3, [r2]
 946 01f8 08E0     		b	.L55
 947              	.L53:
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 948              		.loc 1 424 7
 949 01fa 3B69     		ldr	r3, [r7, #16]
 950 01fc 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/cc1ThuXR.s 			page 25


 951 01fe FB68     		ldr	r3, [r7, #12]
 952 0200 1344     		add	r3, r3, r2
 953 0202 03F53063 		add	r3, r3, #2816
 954 0206 1A46     		mov	r2, r3
 955              		.loc 1 424 30
 956 0208 0023     		movs	r3, #0
 957 020a 1360     		str	r3, [r2]
 958              	.L55:
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 959              		.loc 1 427 5 discriminator 2
 960 020c 3B69     		ldr	r3, [r7, #16]
 961 020e 5A01     		lsls	r2, r3, #5
 962 0210 FB68     		ldr	r3, [r7, #12]
 963 0212 1344     		add	r3, r3, r2
 964 0214 03F53063 		add	r3, r3, #2816
 965 0218 1A46     		mov	r2, r3
 966              		.loc 1 427 29 discriminator 2
 967 021a 0023     		movs	r3, #0
 968 021c 1361     		str	r3, [r2, #16]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 969              		.loc 1 428 5 discriminator 2
 970 021e 3B69     		ldr	r3, [r7, #16]
 971 0220 5A01     		lsls	r2, r3, #5
 972 0222 FB68     		ldr	r3, [r7, #12]
 973 0224 1344     		add	r3, r3, r2
 974 0226 03F53063 		add	r3, r3, #2816
 975 022a 1A46     		mov	r2, r3
 976              		.loc 1 428 29 discriminator 2
 977 022c 4FF67F33 		movw	r3, #64383
 978 0230 9360     		str	r3, [r2, #8]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 979              		.loc 1 409 40 discriminator 2
 980 0232 3B69     		ldr	r3, [r7, #16]
 981 0234 0133     		adds	r3, r3, #1
 982 0236 3B61     		str	r3, [r7, #16]
 983              	.L52:
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 984              		.loc 1 409 23 discriminator 1
 985 0238 7B6A     		ldr	r3, [r7, #36]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 986              		.loc 1 409 3 discriminator 1
 987 023a 3A69     		ldr	r2, [r7, #16]
 988 023c 9A42     		cmp	r2, r3
 989 023e B7D3     		bcc	.L56
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 990              		.loc 1 431 24
 991 0240 FB68     		ldr	r3, [r7, #12]
 992 0242 03F50063 		add	r3, r3, #2048
 993 0246 1B69     		ldr	r3, [r3, #16]
 994 0248 FA68     		ldr	r2, [r7, #12]
 995 024a 02F50062 		add	r2, r2, #2048
 996 024e 23F48073 		bic	r3, r3, #256
 997 0252 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 26


 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 998              		.loc 1 434 17
 999 0254 7B68     		ldr	r3, [r7, #4]
 1000 0256 0022     		movs	r2, #0
 1001 0258 9A61     		str	r2, [r3, #24]
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 1002              		.loc 1 437 17
 1003 025a 7B68     		ldr	r3, [r7, #4]
 1004 025c 6FF08042 		mvn	r2, #1073741824
 1005 0260 5A61     		str	r2, [r3, #20]
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 1006              		.loc 1 440 10
 1007 0262 3B6B     		ldr	r3, [r7, #48]
 1008              		.loc 1 440 6
 1009 0264 002B     		cmp	r3, #0
 1010 0266 05D1     		bne	.L57
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 1011              		.loc 1 442 19
 1012 0268 7B68     		ldr	r3, [r7, #4]
 1013 026a 9B69     		ldr	r3, [r3, #24]
 1014 026c 43F01002 		orr	r2, r3, #16
 1015 0270 7B68     		ldr	r3, [r7, #4]
 1016 0272 9A61     		str	r2, [r3, #24]
 1017              	.L57:
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 1018              		.loc 1 446 17
 1019 0274 7B68     		ldr	r3, [r7, #4]
 1020 0276 9A69     		ldr	r2, [r3, #24]
 1021 0278 0F4B     		ldr	r3, .L61
 1022 027a 1343     		orrs	r3, r3, r2
 1023 027c 7A68     		ldr	r2, [r7, #4]
 1024 027e 9361     		str	r3, [r2, #24]
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 1025              		.loc 1 451 10
 1026 0280 FB6B     		ldr	r3, [r7, #60]
 1027              		.loc 1 451 6
 1028 0282 002B     		cmp	r3, #0
 1029 0284 05D0     		beq	.L58
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 1030              		.loc 1 453 19
 1031 0286 7B68     		ldr	r3, [r7, #4]
 1032 0288 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/cc1ThuXR.s 			page 27


 1033 028a 43F00802 		orr	r2, r3, #8
 1034 028e 7B68     		ldr	r3, [r7, #4]
 1035 0290 9A61     		str	r2, [r3, #24]
 1036              	.L58:
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 1037              		.loc 1 456 10
 1038 0292 FB6C     		ldr	r3, [r7, #76]
 1039              		.loc 1 456 6
 1040 0294 012B     		cmp	r3, #1
 1041 0296 07D1     		bne	.L59
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 1042              		.loc 1 458 19
 1043 0298 7B68     		ldr	r3, [r7, #4]
 1044 029a 9B69     		ldr	r3, [r3, #24]
 1045 029c 43F08043 		orr	r3, r3, #1073741824
 1046 02a0 43F00403 		orr	r3, r3, #4
 1047 02a4 7A68     		ldr	r2, [r7, #4]
 1048 02a6 9361     		str	r3, [r2, #24]
 1049              	.L59:
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 1050              		.loc 1 461 10
 1051 02a8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1052              		.loc 1 462 1
 1053 02aa 1846     		mov	r0, r3
 1054 02ac 1837     		adds	r7, r7, #24
 1055              	.LCFI35:
 1056              		.cfi_def_cfa_offset 24
 1057 02ae BD46     		mov	sp, r7
 1058              	.LCFI36:
 1059              		.cfi_def_cfa_register 13
 1060              		@ sp needed
 1061 02b0 BDE88040 		pop	{r7, lr}
 1062              	.LCFI37:
 1063              		.cfi_restore 14
 1064              		.cfi_restore 7
 1065              		.cfi_def_cfa_offset 16
 1066 02b4 04B0     		add	sp, sp, #16
 1067              	.LCFI38:
 1068              		.cfi_def_cfa_offset 0
 1069 02b6 7047     		bx	lr
 1070              	.L62:
 1071              		.align	2
 1072              	.L61:
 1073 02b8 00383C80 		.word	-2143537152
 1074              		.cfi_endproc
 1075              	.LFE240:
 1077              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1078              		.align	1
 1079              		.global	USB_FlushTxFifo
 1080              		.syntax unified
 1081              		.thumb
ARM GAS  /tmp/cc1ThuXR.s 			page 28


 1082              		.thumb_func
 1084              	USB_FlushTxFifo:
 1085              	.LFB241:
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1086              		.loc 1 473 1
 1087              		.cfi_startproc
 1088              		@ args = 0, pretend = 0, frame = 16
 1089              		@ frame_needed = 1, uses_anonymous_args = 0
 1090              		@ link register save eliminated.
 1091 0000 80B4     		push	{r7}
 1092              	.LCFI39:
 1093              		.cfi_def_cfa_offset 4
 1094              		.cfi_offset 7, -4
 1095 0002 85B0     		sub	sp, sp, #20
 1096              	.LCFI40:
 1097              		.cfi_def_cfa_offset 24
 1098 0004 00AF     		add	r7, sp, #0
 1099              	.LCFI41:
 1100              		.cfi_def_cfa_register 7
 1101 0006 7860     		str	r0, [r7, #4]
 1102 0008 3960     		str	r1, [r7]
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1103              		.loc 1 474 17
 1104 000a 0023     		movs	r3, #0
 1105 000c FB60     		str	r3, [r7, #12]
 1106              	.L66:
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1107              		.loc 1 479 10
 1108 000e FB68     		ldr	r3, [r7, #12]
 1109 0010 0133     		adds	r3, r3, #1
 1110 0012 FB60     		str	r3, [r7, #12]
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1111              		.loc 1 481 15
 1112 0014 FB68     		ldr	r3, [r7, #12]
 1113              		.loc 1 481 8
 1114 0016 134A     		ldr	r2, .L69
 1115 0018 9342     		cmp	r3, r2
 1116 001a 01D9     		bls	.L64
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1117              		.loc 1 483 14
 1118 001c 0323     		movs	r3, #3
ARM GAS  /tmp/cc1ThuXR.s 			page 29


 1119 001e 1BE0     		b	.L65
 1120              	.L64:
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1121              		.loc 1 485 17
 1122 0020 7B68     		ldr	r3, [r7, #4]
 1123 0022 1B69     		ldr	r3, [r3, #16]
 1124              		.loc 1 485 3
 1125 0024 002B     		cmp	r3, #0
 1126 0026 F2DA     		bge	.L66
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush TX Fifo */
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1127              		.loc 1 488 9
 1128 0028 0023     		movs	r3, #0
 1129 002a FB60     		str	r3, [r7, #12]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1130              		.loc 1 489 51
 1131 002c 3B68     		ldr	r3, [r7]
 1132 002e 9B01     		lsls	r3, r3, #6
 1133              		.loc 1 489 44
 1134 0030 43F02002 		orr	r2, r3, #32
 1135              		.loc 1 489 17
 1136 0034 7B68     		ldr	r3, [r7, #4]
 1137 0036 1A61     		str	r2, [r3, #16]
 1138              	.L68:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1139              		.loc 1 493 10
 1140 0038 FB68     		ldr	r3, [r7, #12]
 1141 003a 0133     		adds	r3, r3, #1
 1142 003c FB60     		str	r3, [r7, #12]
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1143              		.loc 1 495 15
 1144 003e FB68     		ldr	r3, [r7, #12]
 1145              		.loc 1 495 8
 1146 0040 084A     		ldr	r2, .L69
 1147 0042 9342     		cmp	r3, r2
 1148 0044 01D9     		bls	.L67
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1149              		.loc 1 497 14
 1150 0046 0323     		movs	r3, #3
 1151 0048 06E0     		b	.L65
 1152              	.L67:
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1153              		.loc 1 499 17
 1154 004a 7B68     		ldr	r3, [r7, #4]
 1155 004c 1B69     		ldr	r3, [r3, #16]
 1156              		.loc 1 499 27
 1157 004e 03F02003 		and	r3, r3, #32
 1158              		.loc 1 499 3
 1159 0052 202B     		cmp	r3, #32
ARM GAS  /tmp/cc1ThuXR.s 			page 30


 1160 0054 F0D0     		beq	.L68
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1161              		.loc 1 501 10
 1162 0056 0023     		movs	r3, #0
 1163              	.L65:
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1164              		.loc 1 502 1
 1165 0058 1846     		mov	r0, r3
 1166 005a 1437     		adds	r7, r7, #20
 1167              	.LCFI42:
 1168              		.cfi_def_cfa_offset 4
 1169 005c BD46     		mov	sp, r7
 1170              	.LCFI43:
 1171              		.cfi_def_cfa_register 13
 1172              		@ sp needed
 1173 005e 5DF8047B 		ldr	r7, [sp], #4
 1174              	.LCFI44:
 1175              		.cfi_restore 7
 1176              		.cfi_def_cfa_offset 0
 1177 0062 7047     		bx	lr
 1178              	.L70:
 1179              		.align	2
 1180              	.L69:
 1181 0064 400D0300 		.word	200000
 1182              		.cfi_endproc
 1183              	.LFE241:
 1185              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1186              		.align	1
 1187              		.global	USB_FlushRxFifo
 1188              		.syntax unified
 1189              		.thumb
 1190              		.thumb_func
 1192              	USB_FlushRxFifo:
 1193              	.LFB242:
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1194              		.loc 1 510 1
 1195              		.cfi_startproc
 1196              		@ args = 0, pretend = 0, frame = 16
 1197              		@ frame_needed = 1, uses_anonymous_args = 0
 1198              		@ link register save eliminated.
 1199 0000 80B4     		push	{r7}
 1200              	.LCFI45:
 1201              		.cfi_def_cfa_offset 4
 1202              		.cfi_offset 7, -4
 1203 0002 85B0     		sub	sp, sp, #20
 1204              	.LCFI46:
 1205              		.cfi_def_cfa_offset 24
 1206 0004 00AF     		add	r7, sp, #0
 1207              	.LCFI47:
ARM GAS  /tmp/cc1ThuXR.s 			page 31


 1208              		.cfi_def_cfa_register 7
 1209 0006 7860     		str	r0, [r7, #4]
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1210              		.loc 1 511 17
 1211 0008 0023     		movs	r3, #0
 1212 000a FB60     		str	r3, [r7, #12]
 1213              	.L74:
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1214              		.loc 1 516 10
 1215 000c FB68     		ldr	r3, [r7, #12]
 1216 000e 0133     		adds	r3, r3, #1
 1217 0010 FB60     		str	r3, [r7, #12]
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1218              		.loc 1 518 15
 1219 0012 FB68     		ldr	r3, [r7, #12]
 1220              		.loc 1 518 8
 1221 0014 114A     		ldr	r2, .L77
 1222 0016 9342     		cmp	r3, r2
 1223 0018 01D9     		bls	.L72
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1224              		.loc 1 520 14
 1225 001a 0323     		movs	r3, #3
 1226 001c 18E0     		b	.L73
 1227              	.L72:
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1228              		.loc 1 522 17
 1229 001e 7B68     		ldr	r3, [r7, #4]
 1230 0020 1B69     		ldr	r3, [r3, #16]
 1231              		.loc 1 522 3
 1232 0022 002B     		cmp	r3, #0
 1233 0024 F2DA     		bge	.L74
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush RX Fifo */
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1234              		.loc 1 525 9
 1235 0026 0023     		movs	r3, #0
 1236 0028 FB60     		str	r3, [r7, #12]
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1237              		.loc 1 526 17
 1238 002a 7B68     		ldr	r3, [r7, #4]
 1239 002c 1022     		movs	r2, #16
 1240 002e 1A61     		str	r2, [r3, #16]
 1241              	.L76:
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1242              		.loc 1 530 10
 1243 0030 FB68     		ldr	r3, [r7, #12]
 1244 0032 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc1ThuXR.s 			page 32


 1245 0034 FB60     		str	r3, [r7, #12]
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1246              		.loc 1 532 15
 1247 0036 FB68     		ldr	r3, [r7, #12]
 1248              		.loc 1 532 8
 1249 0038 084A     		ldr	r2, .L77
 1250 003a 9342     		cmp	r3, r2
 1251 003c 01D9     		bls	.L75
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1252              		.loc 1 534 14
 1253 003e 0323     		movs	r3, #3
 1254 0040 06E0     		b	.L73
 1255              	.L75:
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1256              		.loc 1 536 17
 1257 0042 7B68     		ldr	r3, [r7, #4]
 1258 0044 1B69     		ldr	r3, [r3, #16]
 1259              		.loc 1 536 27
 1260 0046 03F01003 		and	r3, r3, #16
 1261              		.loc 1 536 3
 1262 004a 102B     		cmp	r3, #16
 1263 004c F0D0     		beq	.L76
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1264              		.loc 1 538 10
 1265 004e 0023     		movs	r3, #0
 1266              	.L73:
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1267              		.loc 1 539 1
 1268 0050 1846     		mov	r0, r3
 1269 0052 1437     		adds	r7, r7, #20
 1270              	.LCFI48:
 1271              		.cfi_def_cfa_offset 4
 1272 0054 BD46     		mov	sp, r7
 1273              	.LCFI49:
 1274              		.cfi_def_cfa_register 13
 1275              		@ sp needed
 1276 0056 5DF8047B 		ldr	r7, [sp], #4
 1277              	.LCFI50:
 1278              		.cfi_restore 7
 1279              		.cfi_def_cfa_offset 0
 1280 005a 7047     		bx	lr
 1281              	.L78:
 1282              		.align	2
 1283              	.L77:
 1284 005c 400D0300 		.word	200000
 1285              		.cfi_endproc
 1286              	.LFE242:
 1288              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1289              		.align	1
 1290              		.global	USB_SetDevSpeed
 1291              		.syntax unified
 1292              		.thumb
 1293              		.thumb_func
ARM GAS  /tmp/cc1ThuXR.s 			page 33


 1295              	USB_SetDevSpeed:
 1296              	.LFB243:
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1297              		.loc 1 553 1
 1298              		.cfi_startproc
 1299              		@ args = 0, pretend = 0, frame = 16
 1300              		@ frame_needed = 1, uses_anonymous_args = 0
 1301              		@ link register save eliminated.
 1302 0000 80B4     		push	{r7}
 1303              	.LCFI51:
 1304              		.cfi_def_cfa_offset 4
 1305              		.cfi_offset 7, -4
 1306 0002 85B0     		sub	sp, sp, #20
 1307              	.LCFI52:
 1308              		.cfi_def_cfa_offset 24
 1309 0004 00AF     		add	r7, sp, #0
 1310              	.LCFI53:
 1311              		.cfi_def_cfa_register 7
 1312 0006 7860     		str	r0, [r7, #4]
 1313 0008 0B46     		mov	r3, r1
 1314 000a FB70     		strb	r3, [r7, #3]
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1315              		.loc 1 554 12
 1316 000c 7B68     		ldr	r3, [r7, #4]
 1317 000e FB60     		str	r3, [r7, #12]
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1318              		.loc 1 556 21
 1319 0010 FB68     		ldr	r3, [r7, #12]
 1320 0012 03F50063 		add	r3, r3, #2048
 1321 0016 1A68     		ldr	r2, [r3]
 1322 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1323 001a F968     		ldr	r1, [r7, #12]
 1324 001c 01F50061 		add	r1, r1, #2048
 1325 0020 1343     		orrs	r3, r3, r2
 1326 0022 0B60     		str	r3, [r1]
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1327              		.loc 1 557 10
 1328 0024 0023     		movs	r3, #0
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1329              		.loc 1 558 1
 1330 0026 1846     		mov	r0, r3
 1331 0028 1437     		adds	r7, r7, #20
 1332              	.LCFI54:
ARM GAS  /tmp/cc1ThuXR.s 			page 34


 1333              		.cfi_def_cfa_offset 4
 1334 002a BD46     		mov	sp, r7
 1335              	.LCFI55:
 1336              		.cfi_def_cfa_register 13
 1337              		@ sp needed
 1338 002c 5DF8047B 		ldr	r7, [sp], #4
 1339              	.LCFI56:
 1340              		.cfi_restore 7
 1341              		.cfi_def_cfa_offset 0
 1342 0030 7047     		bx	lr
 1343              		.cfi_endproc
 1344              	.LFE243:
 1346              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1347              		.align	1
 1348              		.global	USB_GetDevSpeed
 1349              		.syntax unified
 1350              		.thumb
 1351              		.thumb_func
 1353              	USB_GetDevSpeed:
 1354              	.LFB244:
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_HS_SPEED: High speed mode
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1355              		.loc 1 569 1
 1356              		.cfi_startproc
 1357              		@ args = 0, pretend = 0, frame = 24
 1358              		@ frame_needed = 1, uses_anonymous_args = 0
 1359              		@ link register save eliminated.
 1360 0000 80B4     		push	{r7}
 1361              	.LCFI57:
 1362              		.cfi_def_cfa_offset 4
 1363              		.cfi_offset 7, -4
 1364 0002 87B0     		sub	sp, sp, #28
 1365              	.LCFI58:
 1366              		.cfi_def_cfa_offset 32
 1367 0004 00AF     		add	r7, sp, #0
 1368              	.LCFI59:
 1369              		.cfi_def_cfa_register 7
 1370 0006 7860     		str	r0, [r7, #4]
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1371              		.loc 1 570 12
 1372 0008 7B68     		ldr	r3, [r7, #4]
 1373 000a 3B61     		str	r3, [r7, #16]
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1374              		.loc 1 572 27
 1375 000c 3B69     		ldr	r3, [r7, #16]
 1376 000e 03F50063 		add	r3, r3, #2048
 1377              		.loc 1 572 38
ARM GAS  /tmp/cc1ThuXR.s 			page 35


 1378 0012 9B68     		ldr	r3, [r3, #8]
 1379              		.loc 1 572 12
 1380 0014 03F00603 		and	r3, r3, #6
 1381 0018 FB60     		str	r3, [r7, #12]
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1382              		.loc 1 574 6
 1383 001a FB68     		ldr	r3, [r7, #12]
 1384 001c 002B     		cmp	r3, #0
 1385 001e 02D1     		bne	.L82
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1386              		.loc 1 576 11
 1387 0020 0023     		movs	r3, #0
 1388 0022 FB75     		strb	r3, [r7, #23]
 1389 0024 0AE0     		b	.L83
 1390              	.L82:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1391              		.loc 1 578 11
 1392 0026 FB68     		ldr	r3, [r7, #12]
 1393 0028 022B     		cmp	r3, #2
 1394 002a 02D0     		beq	.L84
 1395              		.loc 1 578 65 discriminator 1
 1396 002c FB68     		ldr	r3, [r7, #12]
 1397 002e 062B     		cmp	r3, #6
 1398 0030 02D1     		bne	.L85
 1399              	.L84:
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1400              		.loc 1 581 11
 1401 0032 0223     		movs	r3, #2
 1402 0034 FB75     		strb	r3, [r7, #23]
 1403 0036 01E0     		b	.L83
 1404              	.L85:
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1405              		.loc 1 585 11
 1406 0038 0F23     		movs	r3, #15
 1407 003a FB75     		strb	r3, [r7, #23]
 1408              	.L83:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1409              		.loc 1 588 10
 1410 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1411              		.loc 1 589 1
 1412 003e 1846     		mov	r0, r3
 1413 0040 1C37     		adds	r7, r7, #28
 1414              	.LCFI60:
 1415              		.cfi_def_cfa_offset 4
 1416 0042 BD46     		mov	sp, r7
 1417              	.LCFI61:
ARM GAS  /tmp/cc1ThuXR.s 			page 36


 1418              		.cfi_def_cfa_register 13
 1419              		@ sp needed
 1420 0044 5DF8047B 		ldr	r7, [sp], #4
 1421              	.LCFI62:
 1422              		.cfi_restore 7
 1423              		.cfi_def_cfa_offset 0
 1424 0048 7047     		bx	lr
 1425              		.cfi_endproc
 1426              	.LFE244:
 1428              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1429              		.align	1
 1430              		.global	USB_ActivateEndpoint
 1431              		.syntax unified
 1432              		.thumb
 1433              		.thumb_func
 1435              	USB_ActivateEndpoint:
 1436              	.LFB245:
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1437              		.loc 1 598 1
 1438              		.cfi_startproc
 1439              		@ args = 0, pretend = 0, frame = 16
 1440              		@ frame_needed = 1, uses_anonymous_args = 0
 1441              		@ link register save eliminated.
 1442 0000 80B4     		push	{r7}
 1443              	.LCFI63:
 1444              		.cfi_def_cfa_offset 4
 1445              		.cfi_offset 7, -4
 1446 0002 85B0     		sub	sp, sp, #20
 1447              	.LCFI64:
 1448              		.cfi_def_cfa_offset 24
 1449 0004 00AF     		add	r7, sp, #0
 1450              	.LCFI65:
 1451              		.cfi_def_cfa_register 7
 1452 0006 7860     		str	r0, [r7, #4]
 1453 0008 3960     		str	r1, [r7]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1454              		.loc 1 599 12
 1455 000a 7B68     		ldr	r3, [r7, #4]
 1456 000c FB60     		str	r3, [r7, #12]
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1457              		.loc 1 600 32
 1458 000e 3B68     		ldr	r3, [r7]
 1459 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1460              		.loc 1 600 12
 1461 0012 BB60     		str	r3, [r7, #8]
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1462              		.loc 1 602 9
 1463 0014 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/cc1ThuXR.s 			page 37


 1464 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1465              		.loc 1 602 6
 1466 0018 012B     		cmp	r3, #1
 1467 001a 3AD1     		bne	.L88
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1468              		.loc 1 604 27
 1469 001c FB68     		ldr	r3, [r7, #12]
 1470 001e 03F50063 		add	r3, r3, #2048
 1471 0022 DA69     		ldr	r2, [r3, #28]
 1472              		.loc 1 604 75
 1473 0024 3B68     		ldr	r3, [r7]
 1474 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1475              		.loc 1 604 81
 1476 0028 03F00F03 		and	r3, r3, #15
 1477              		.loc 1 604 54
 1478 002c 0121     		movs	r1, #1
 1479 002e 01FA03F3 		lsl	r3, r1, r3
 1480              		.loc 1 604 52
 1481 0032 9BB2     		uxth	r3, r3
 1482              		.loc 1 604 27
 1483 0034 F968     		ldr	r1, [r7, #12]
 1484 0036 01F50061 		add	r1, r1, #2048
 1485 003a 1343     		orrs	r3, r3, r2
 1486 003c CB61     		str	r3, [r1, #28]
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1487              		.loc 1 606 10
 1488 003e BB68     		ldr	r3, [r7, #8]
 1489 0040 5A01     		lsls	r2, r3, #5
 1490 0042 FB68     		ldr	r3, [r7, #12]
 1491 0044 1344     		add	r3, r3, r2
 1492 0046 03F51063 		add	r3, r3, #2304
 1493              		.loc 1 606 26
 1494 004a 1B68     		ldr	r3, [r3]
 1495              		.loc 1 606 36
 1496 004c 03F40043 		and	r3, r3, #32768
 1497              		.loc 1 606 8
 1498 0050 002B     		cmp	r3, #0
 1499 0052 55D1     		bne	.L89
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1500              		.loc 1 608 33
 1501 0054 BB68     		ldr	r3, [r7, #8]
 1502 0056 5A01     		lsls	r2, r3, #5
 1503 0058 FB68     		ldr	r3, [r7, #12]
 1504 005a 1344     		add	r3, r3, r2
 1505 005c 03F51063 		add	r3, r3, #2304
 1506 0060 1A68     		ldr	r2, [r3]
 1507              		.loc 1 608 39
 1508 0062 3B68     		ldr	r3, [r7]
 1509 0064 DB68     		ldr	r3, [r3, #12]
 1510              		.loc 1 608 51
 1511 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1512              		.loc 1 609 49
 1513 006a 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/cc1ThuXR.s 			page 38


 1514 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1515              		.loc 1 609 56
 1516 006e 9B04     		lsls	r3, r3, #18
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1517              		.loc 1 608 76
 1518 0070 1943     		orrs	r1, r1, r3
 1519              		.loc 1 609 72
 1520 0072 BB68     		ldr	r3, [r7, #8]
 1521 0074 9B05     		lsls	r3, r3, #22
 1522              		.loc 1 609 63
 1523 0076 0B43     		orrs	r3, r3, r1
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1524              		.loc 1 608 33
 1525 0078 1343     		orrs	r3, r3, r2
 1526 007a BA68     		ldr	r2, [r7, #8]
 1527 007c 5101     		lsls	r1, r2, #5
 1528 007e FA68     		ldr	r2, [r7, #12]
 1529 0080 0A44     		add	r2, r2, r1
 1530 0082 02F51062 		add	r2, r2, #2304
 1531 0086 43F08053 		orr	r3, r3, #268435456
 1532 008a 43F40043 		orr	r3, r3, #32768
 1533 008e 1360     		str	r3, [r2]
 1534 0090 36E0     		b	.L89
 1535              	.L88:
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1536              		.loc 1 616 27
 1537 0092 FB68     		ldr	r3, [r7, #12]
 1538 0094 03F50063 		add	r3, r3, #2048
 1539 0098 DA69     		ldr	r2, [r3, #28]
 1540              		.loc 1 616 76
 1541 009a 3B68     		ldr	r3, [r7]
 1542 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1543              		.loc 1 616 82
 1544 009e 03F00F03 		and	r3, r3, #15
 1545              		.loc 1 616 55
 1546 00a2 0121     		movs	r1, #1
 1547 00a4 01FA03F3 		lsl	r3, r1, r3
 1548              		.loc 1 616 52
 1549 00a8 1B04     		lsls	r3, r3, #16
 1550              		.loc 1 616 27
 1551 00aa F968     		ldr	r1, [r7, #12]
 1552 00ac 01F50061 		add	r1, r1, #2048
 1553 00b0 1343     		orrs	r3, r3, r2
 1554 00b2 CB61     		str	r3, [r1, #28]
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1555              		.loc 1 618 11
 1556 00b4 BB68     		ldr	r3, [r7, #8]
 1557 00b6 5A01     		lsls	r2, r3, #5
 1558 00b8 FB68     		ldr	r3, [r7, #12]
 1559 00ba 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc1ThuXR.s 			page 39


 1560 00bc 03F53063 		add	r3, r3, #2816
 1561              		.loc 1 618 28
 1562 00c0 1B68     		ldr	r3, [r3]
 1563              		.loc 1 618 39
 1564 00c2 03F40043 		and	r3, r3, #32768
 1565              		.loc 1 618 8
 1566 00c6 002B     		cmp	r3, #0
 1567 00c8 1AD1     		bne	.L89
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1568              		.loc 1 620 34
 1569 00ca BB68     		ldr	r3, [r7, #8]
 1570 00cc 5A01     		lsls	r2, r3, #5
 1571 00ce FB68     		ldr	r3, [r7, #12]
 1572 00d0 1344     		add	r3, r3, r2
 1573 00d2 03F53063 		add	r3, r3, #2816
 1574 00d6 1A68     		ldr	r2, [r3]
 1575              		.loc 1 620 40
 1576 00d8 3B68     		ldr	r3, [r7]
 1577 00da DB68     		ldr	r3, [r3, #12]
 1578              		.loc 1 620 52
 1579 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1580              		.loc 1 621 50
 1581 00e0 3B68     		ldr	r3, [r7]
 1582 00e2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1583              		.loc 1 621 57
 1584 00e4 9B04     		lsls	r3, r3, #18
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1585              		.loc 1 620 77
 1586 00e6 0B43     		orrs	r3, r3, r1
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1587              		.loc 1 620 34
 1588 00e8 1343     		orrs	r3, r3, r2
 1589 00ea BA68     		ldr	r2, [r7, #8]
 1590 00ec 5101     		lsls	r1, r2, #5
 1591 00ee FA68     		ldr	r2, [r7, #12]
 1592 00f0 0A44     		add	r2, r2, r1
 1593 00f2 02F53062 		add	r2, r2, #2816
 1594 00f6 43F08053 		orr	r3, r3, #268435456
 1595 00fa 43F40043 		orr	r3, r3, #32768
 1596 00fe 1360     		str	r3, [r2]
 1597              	.L89:
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1598              		.loc 1 626 10
 1599 0100 0023     		movs	r3, #0
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1600              		.loc 1 627 1
 1601 0102 1846     		mov	r0, r3
 1602 0104 1437     		adds	r7, r7, #20
 1603              	.LCFI66:
 1604              		.cfi_def_cfa_offset 4
 1605 0106 BD46     		mov	sp, r7
ARM GAS  /tmp/cc1ThuXR.s 			page 40


 1606              	.LCFI67:
 1607              		.cfi_def_cfa_register 13
 1608              		@ sp needed
 1609 0108 5DF8047B 		ldr	r7, [sp], #4
 1610              	.LCFI68:
 1611              		.cfi_restore 7
 1612              		.cfi_def_cfa_offset 0
 1613 010c 7047     		bx	lr
 1614              		.cfi_endproc
 1615              	.LFE245:
 1617              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1618              		.align	1
 1619              		.global	USB_ActivateDedicatedEndpoint
 1620              		.syntax unified
 1621              		.thumb
 1622              		.thumb_func
 1624              	USB_ActivateDedicatedEndpoint:
 1625              	.LFB246:
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1626              		.loc 1 636 1
 1627              		.cfi_startproc
 1628              		@ args = 0, pretend = 0, frame = 16
 1629              		@ frame_needed = 1, uses_anonymous_args = 0
 1630              		@ link register save eliminated.
 1631 0000 80B4     		push	{r7}
 1632              	.LCFI69:
 1633              		.cfi_def_cfa_offset 4
 1634              		.cfi_offset 7, -4
 1635 0002 85B0     		sub	sp, sp, #20
 1636              	.LCFI70:
 1637              		.cfi_def_cfa_offset 24
 1638 0004 00AF     		add	r7, sp, #0
 1639              	.LCFI71:
 1640              		.cfi_def_cfa_register 7
 1641 0006 7860     		str	r0, [r7, #4]
 1642 0008 3960     		str	r1, [r7]
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1643              		.loc 1 637 12
 1644 000a 7B68     		ldr	r3, [r7, #4]
 1645 000c FB60     		str	r3, [r7, #12]
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1646              		.loc 1 638 32
 1647 000e 3B68     		ldr	r3, [r7]
 1648 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1649              		.loc 1 638 12
 1650 0012 BB60     		str	r3, [r7, #8]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
ARM GAS  /tmp/cc1ThuXR.s 			page 41


 1651              		.loc 1 641 9
 1652 0014 3B68     		ldr	r3, [r7]
 1653 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1654              		.loc 1 641 6
 1655 0018 012B     		cmp	r3, #1
 1656 001a 3AD1     		bne	.L92
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1657              		.loc 1 643 11
 1658 001c BB68     		ldr	r3, [r7, #8]
 1659 001e 5A01     		lsls	r2, r3, #5
 1660 0020 FB68     		ldr	r3, [r7, #12]
 1661 0022 1344     		add	r3, r3, r2
 1662 0024 03F51063 		add	r3, r3, #2304
 1663              		.loc 1 643 27
 1664 0028 1B68     		ldr	r3, [r3]
 1665              		.loc 1 643 38
 1666 002a 03F40043 		and	r3, r3, #32768
 1667              		.loc 1 643 8
 1668 002e 002B     		cmp	r3, #0
 1669 0030 1DD1     		bne	.L93
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1670              		.loc 1 645 33
 1671 0032 BB68     		ldr	r3, [r7, #8]
 1672 0034 5A01     		lsls	r2, r3, #5
 1673 0036 FB68     		ldr	r3, [r7, #12]
 1674 0038 1344     		add	r3, r3, r2
 1675 003a 03F51063 		add	r3, r3, #2304
 1676 003e 1A68     		ldr	r2, [r3]
 1677              		.loc 1 645 39
 1678 0040 3B68     		ldr	r3, [r7]
 1679 0042 DB68     		ldr	r3, [r3, #12]
 1680              		.loc 1 645 51
 1681 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1682              		.loc 1 646 49
 1683 0048 3B68     		ldr	r3, [r7]
 1684 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1685              		.loc 1 646 56
 1686 004c 9B04     		lsls	r3, r3, #18
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1687              		.loc 1 645 76
 1688 004e 1943     		orrs	r1, r1, r3
 1689              		.loc 1 646 72
 1690 0050 BB68     		ldr	r3, [r7, #8]
 1691 0052 9B05     		lsls	r3, r3, #22
 1692              		.loc 1 646 63
 1693 0054 0B43     		orrs	r3, r3, r1
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1694              		.loc 1 645 33
 1695 0056 1343     		orrs	r3, r3, r2
 1696 0058 BA68     		ldr	r2, [r7, #8]
 1697 005a 5101     		lsls	r1, r2, #5
 1698 005c FA68     		ldr	r2, [r7, #12]
 1699 005e 0A44     		add	r2, r2, r1
 1700 0060 02F51062 		add	r2, r2, #2304
ARM GAS  /tmp/cc1ThuXR.s 			page 42


 1701 0064 43F08053 		orr	r3, r3, #268435456
 1702 0068 43F40043 		orr	r3, r3, #32768
 1703 006c 1360     		str	r3, [r2]
 1704              	.L93:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1705              		.loc 1 651 27
 1706 006e FB68     		ldr	r3, [r7, #12]
 1707 0070 03F50063 		add	r3, r3, #2048
 1708 0074 DA6B     		ldr	r2, [r3, #60]
 1709              		.loc 1 651 75
 1710 0076 3B68     		ldr	r3, [r7]
 1711 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1712              		.loc 1 651 81
 1713 007a 03F00F03 		and	r3, r3, #15
 1714              		.loc 1 651 54
 1715 007e 0121     		movs	r1, #1
 1716 0080 01FA03F3 		lsl	r3, r1, r3
 1717              		.loc 1 651 52
 1718 0084 9BB2     		uxth	r3, r3
 1719              		.loc 1 651 27
 1720 0086 F968     		ldr	r1, [r7, #12]
 1721 0088 01F50061 		add	r1, r1, #2048
 1722 008c 1343     		orrs	r3, r3, r2
 1723 008e CB63     		str	r3, [r1, #60]
 1724 0090 37E0     		b	.L94
 1725              	.L92:
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1726              		.loc 1 655 11
 1727 0092 BB68     		ldr	r3, [r7, #8]
 1728 0094 5A01     		lsls	r2, r3, #5
 1729 0096 FB68     		ldr	r3, [r7, #12]
 1730 0098 1344     		add	r3, r3, r2
 1731 009a 03F53063 		add	r3, r3, #2816
 1732              		.loc 1 655 28
 1733 009e 1B68     		ldr	r3, [r3]
 1734              		.loc 1 655 39
 1735 00a0 03F40043 		and	r3, r3, #32768
 1736              		.loc 1 655 8
 1737 00a4 002B     		cmp	r3, #0
 1738 00a6 1BD1     		bne	.L95
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1739              		.loc 1 657 34
 1740 00a8 BB68     		ldr	r3, [r7, #8]
 1741 00aa 5A01     		lsls	r2, r3, #5
 1742 00ac FB68     		ldr	r3, [r7, #12]
 1743 00ae 1344     		add	r3, r3, r2
 1744 00b0 03F53063 		add	r3, r3, #2816
 1745 00b4 1A68     		ldr	r2, [r3]
 1746              		.loc 1 657 40
ARM GAS  /tmp/cc1ThuXR.s 			page 43


 1747 00b6 3B68     		ldr	r3, [r7]
 1748 00b8 DB68     		ldr	r3, [r3, #12]
 1749              		.loc 1 657 52
 1750 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1751              		.loc 1 658 50
 1752 00be 3B68     		ldr	r3, [r7]
 1753 00c0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1754              		.loc 1 658 57
 1755 00c2 9B04     		lsls	r3, r3, #18
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1756              		.loc 1 657 77
 1757 00c4 1943     		orrs	r1, r1, r3
 1758              		.loc 1 658 73
 1759 00c6 BB68     		ldr	r3, [r7, #8]
 1760 00c8 9B05     		lsls	r3, r3, #22
 1761              		.loc 1 658 64
 1762 00ca 0B43     		orrs	r3, r3, r1
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1763              		.loc 1 657 34
 1764 00cc 1343     		orrs	r3, r3, r2
 1765 00ce BA68     		ldr	r2, [r7, #8]
 1766 00d0 5101     		lsls	r1, r2, #5
 1767 00d2 FA68     		ldr	r2, [r7, #12]
 1768 00d4 0A44     		add	r2, r2, r1
 1769 00d6 02F53062 		add	r2, r2, #2816
 1770 00da 43F40043 		orr	r3, r3, #32768
 1771 00de 1360     		str	r3, [r2]
 1772              	.L95:
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1773              		.loc 1 662 27
 1774 00e0 FB68     		ldr	r3, [r7, #12]
 1775 00e2 03F50063 		add	r3, r3, #2048
 1776 00e6 DA6B     		ldr	r2, [r3, #60]
 1777              		.loc 1 662 76
 1778 00e8 3B68     		ldr	r3, [r7]
 1779 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1780              		.loc 1 662 82
 1781 00ec 03F00F03 		and	r3, r3, #15
 1782              		.loc 1 662 55
 1783 00f0 0121     		movs	r1, #1
 1784 00f2 01FA03F3 		lsl	r3, r1, r3
 1785              		.loc 1 662 52
 1786 00f6 1B04     		lsls	r3, r3, #16
 1787              		.loc 1 662 27
 1788 00f8 F968     		ldr	r1, [r7, #12]
 1789 00fa 01F50061 		add	r1, r1, #2048
 1790 00fe 1343     		orrs	r3, r3, r2
 1791 0100 CB63     		str	r3, [r1, #60]
 1792              	.L94:
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1793              		.loc 1 665 10
ARM GAS  /tmp/cc1ThuXR.s 			page 44


 1794 0102 0023     		movs	r3, #0
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1795              		.loc 1 666 1
 1796 0104 1846     		mov	r0, r3
 1797 0106 1437     		adds	r7, r7, #20
 1798              	.LCFI72:
 1799              		.cfi_def_cfa_offset 4
 1800 0108 BD46     		mov	sp, r7
 1801              	.LCFI73:
 1802              		.cfi_def_cfa_register 13
 1803              		@ sp needed
 1804 010a 5DF8047B 		ldr	r7, [sp], #4
 1805              	.LCFI74:
 1806              		.cfi_restore 7
 1807              		.cfi_def_cfa_offset 0
 1808 010e 7047     		bx	lr
 1809              		.cfi_endproc
 1810              	.LFE246:
 1812              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1813              		.align	1
 1814              		.global	USB_DeactivateEndpoint
 1815              		.syntax unified
 1816              		.thumb
 1817              		.thumb_func
 1819              	USB_DeactivateEndpoint:
 1820              	.LFB247:
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1821              		.loc 1 675 1
 1822              		.cfi_startproc
 1823              		@ args = 0, pretend = 0, frame = 16
 1824              		@ frame_needed = 1, uses_anonymous_args = 0
 1825              		@ link register save eliminated.
 1826 0000 80B4     		push	{r7}
 1827              	.LCFI75:
 1828              		.cfi_def_cfa_offset 4
 1829              		.cfi_offset 7, -4
 1830 0002 85B0     		sub	sp, sp, #20
 1831              	.LCFI76:
 1832              		.cfi_def_cfa_offset 24
 1833 0004 00AF     		add	r7, sp, #0
 1834              	.LCFI77:
 1835              		.cfi_def_cfa_register 7
 1836 0006 7860     		str	r0, [r7, #4]
 1837 0008 3960     		str	r1, [r7]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1838              		.loc 1 676 12
 1839 000a 7B68     		ldr	r3, [r7, #4]
 1840 000c FB60     		str	r3, [r7, #12]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
ARM GAS  /tmp/cc1ThuXR.s 			page 45


 1841              		.loc 1 677 32
 1842 000e 3B68     		ldr	r3, [r7]
 1843 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1844              		.loc 1 677 12
 1845 0012 BB60     		str	r3, [r7, #8]
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1846              		.loc 1 680 9
 1847 0014 3B68     		ldr	r3, [r7]
 1848 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1849              		.loc 1 680 6
 1850 0018 012B     		cmp	r3, #1
 1851 001a 61D1     		bne	.L98
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1852              		.loc 1 682 10
 1853 001c BB68     		ldr	r3, [r7, #8]
 1854 001e 5A01     		lsls	r2, r3, #5
 1855 0020 FB68     		ldr	r3, [r7, #12]
 1856 0022 1344     		add	r3, r3, r2
 1857 0024 03F51063 		add	r3, r3, #2304
 1858              		.loc 1 682 26
 1859 0028 1B68     		ldr	r3, [r3]
 1860              		.loc 1 682 36
 1861 002a 03F00043 		and	r3, r3, #-2147483648
 1862              		.loc 1 682 8
 1863 002e B3F1004F 		cmp	r3, #-2147483648
 1864 0032 1FD1     		bne	.L99
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1865              		.loc 1 684 33
 1866 0034 BB68     		ldr	r3, [r7, #8]
 1867 0036 5A01     		lsls	r2, r3, #5
 1868 0038 FB68     		ldr	r3, [r7, #12]
 1869 003a 1344     		add	r3, r3, r2
 1870 003c 03F51063 		add	r3, r3, #2304
 1871 0040 1B68     		ldr	r3, [r3]
 1872 0042 BA68     		ldr	r2, [r7, #8]
 1873 0044 5101     		lsls	r1, r2, #5
 1874 0046 FA68     		ldr	r2, [r7, #12]
 1875 0048 0A44     		add	r2, r2, r1
 1876 004a 02F51062 		add	r2, r2, #2304
 1877 004e 43F00063 		orr	r3, r3, #134217728
 1878 0052 1360     		str	r3, [r2]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1879              		.loc 1 685 33
 1880 0054 BB68     		ldr	r3, [r7, #8]
 1881 0056 5A01     		lsls	r2, r3, #5
 1882 0058 FB68     		ldr	r3, [r7, #12]
 1883 005a 1344     		add	r3, r3, r2
 1884 005c 03F51063 		add	r3, r3, #2304
 1885 0060 1B68     		ldr	r3, [r3]
 1886 0062 BA68     		ldr	r2, [r7, #8]
 1887 0064 5101     		lsls	r1, r2, #5
 1888 0066 FA68     		ldr	r2, [r7, #12]
 1889 0068 0A44     		add	r2, r2, r1
ARM GAS  /tmp/cc1ThuXR.s 			page 46


 1890 006a 02F51062 		add	r2, r2, #2304
 1891 006e 43F08043 		orr	r3, r3, #1073741824
 1892 0072 1360     		str	r3, [r2]
 1893              	.L99:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1894              		.loc 1 688 27
 1895 0074 FB68     		ldr	r3, [r7, #12]
 1896 0076 03F50063 		add	r3, r3, #2048
 1897 007a DA6B     		ldr	r2, [r3, #60]
 1898              		.loc 1 688 77
 1899 007c 3B68     		ldr	r3, [r7]
 1900 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1901              		.loc 1 688 83
 1902 0080 03F00F03 		and	r3, r3, #15
 1903              		.loc 1 688 56
 1904 0084 0121     		movs	r1, #1
 1905 0086 01FA03F3 		lsl	r3, r1, r3
 1906              		.loc 1 688 54
 1907 008a 9BB2     		uxth	r3, r3
 1908              		.loc 1 688 30
 1909 008c DB43     		mvns	r3, r3
 1910              		.loc 1 688 27
 1911 008e F968     		ldr	r1, [r7, #12]
 1912 0090 01F50061 		add	r1, r1, #2048
 1913 0094 1340     		ands	r3, r3, r2
 1914 0096 CB63     		str	r3, [r1, #60]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1915              		.loc 1 689 27
 1916 0098 FB68     		ldr	r3, [r7, #12]
 1917 009a 03F50063 		add	r3, r3, #2048
 1918 009e DA69     		ldr	r2, [r3, #28]
 1919              		.loc 1 689 77
 1920 00a0 3B68     		ldr	r3, [r7]
 1921 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1922              		.loc 1 689 83
 1923 00a4 03F00F03 		and	r3, r3, #15
 1924              		.loc 1 689 56
 1925 00a8 0121     		movs	r1, #1
 1926 00aa 01FA03F3 		lsl	r3, r1, r3
 1927              		.loc 1 689 54
 1928 00ae 9BB2     		uxth	r3, r3
 1929              		.loc 1 689 30
 1930 00b0 DB43     		mvns	r3, r3
 1931              		.loc 1 689 27
 1932 00b2 F968     		ldr	r1, [r7, #12]
 1933 00b4 01F50061 		add	r1, r1, #2048
 1934 00b8 1340     		ands	r3, r3, r2
 1935 00ba CB61     		str	r3, [r1, #28]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1936              		.loc 1 690 31
 1937 00bc BB68     		ldr	r3, [r7, #8]
 1938 00be 5A01     		lsls	r2, r3, #5
 1939 00c0 FB68     		ldr	r3, [r7, #12]
 1940 00c2 1344     		add	r3, r3, r2
 1941 00c4 03F51063 		add	r3, r3, #2304
ARM GAS  /tmp/cc1ThuXR.s 			page 47


 1942 00c8 1A68     		ldr	r2, [r3]
 1943 00ca BB68     		ldr	r3, [r7, #8]
 1944 00cc 5901     		lsls	r1, r3, #5
 1945 00ce FB68     		ldr	r3, [r7, #12]
 1946 00d0 0B44     		add	r3, r3, r1
 1947 00d2 03F51063 		add	r3, r3, #2304
 1948 00d6 1946     		mov	r1, r3
 1949 00d8 354B     		ldr	r3, .L103
 1950 00da 1340     		ands	r3, r3, r2
 1951 00dc 0B60     		str	r3, [r1]
 1952 00de 60E0     		b	.L100
 1953              	.L98:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1954              		.loc 1 698 10
 1955 00e0 BB68     		ldr	r3, [r7, #8]
 1956 00e2 5A01     		lsls	r2, r3, #5
 1957 00e4 FB68     		ldr	r3, [r7, #12]
 1958 00e6 1344     		add	r3, r3, r2
 1959 00e8 03F53063 		add	r3, r3, #2816
 1960              		.loc 1 698 27
 1961 00ec 1B68     		ldr	r3, [r3]
 1962              		.loc 1 698 37
 1963 00ee 03F00043 		and	r3, r3, #-2147483648
 1964              		.loc 1 698 8
 1965 00f2 B3F1004F 		cmp	r3, #-2147483648
 1966 00f6 1FD1     		bne	.L101
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1967              		.loc 1 700 34
 1968 00f8 BB68     		ldr	r3, [r7, #8]
 1969 00fa 5A01     		lsls	r2, r3, #5
 1970 00fc FB68     		ldr	r3, [r7, #12]
 1971 00fe 1344     		add	r3, r3, r2
 1972 0100 03F53063 		add	r3, r3, #2816
 1973 0104 1B68     		ldr	r3, [r3]
 1974 0106 BA68     		ldr	r2, [r7, #8]
 1975 0108 5101     		lsls	r1, r2, #5
 1976 010a FA68     		ldr	r2, [r7, #12]
 1977 010c 0A44     		add	r2, r2, r1
 1978 010e 02F53062 		add	r2, r2, #2816
 1979 0112 43F00063 		orr	r3, r3, #134217728
 1980 0116 1360     		str	r3, [r2]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 1981              		.loc 1 701 34
 1982 0118 BB68     		ldr	r3, [r7, #8]
 1983 011a 5A01     		lsls	r2, r3, #5
 1984 011c FB68     		ldr	r3, [r7, #12]
 1985 011e 1344     		add	r3, r3, r2
 1986 0120 03F53063 		add	r3, r3, #2816
 1987 0124 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cc1ThuXR.s 			page 48


 1988 0126 BA68     		ldr	r2, [r7, #8]
 1989 0128 5101     		lsls	r1, r2, #5
 1990 012a FA68     		ldr	r2, [r7, #12]
 1991 012c 0A44     		add	r2, r2, r1
 1992 012e 02F53062 		add	r2, r2, #2816
 1993 0132 43F08043 		orr	r3, r3, #1073741824
 1994 0136 1360     		str	r3, [r2]
 1995              	.L101:
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1996              		.loc 1 704 27
 1997 0138 FB68     		ldr	r3, [r7, #12]
 1998 013a 03F50063 		add	r3, r3, #2048
 1999 013e DA6B     		ldr	r2, [r3, #60]
 2000              		.loc 1 704 78
 2001 0140 3B68     		ldr	r3, [r7]
 2002 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2003              		.loc 1 704 84
 2004 0144 03F00F03 		and	r3, r3, #15
 2005              		.loc 1 704 57
 2006 0148 0121     		movs	r1, #1
 2007 014a 01FA03F3 		lsl	r3, r1, r3
 2008              		.loc 1 704 54
 2009 014e 1B04     		lsls	r3, r3, #16
 2010              		.loc 1 704 30
 2011 0150 DB43     		mvns	r3, r3
 2012              		.loc 1 704 27
 2013 0152 F968     		ldr	r1, [r7, #12]
 2014 0154 01F50061 		add	r1, r1, #2048
 2015 0158 1340     		ands	r3, r3, r2
 2016 015a CB63     		str	r3, [r1, #60]
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2017              		.loc 1 705 27
 2018 015c FB68     		ldr	r3, [r7, #12]
 2019 015e 03F50063 		add	r3, r3, #2048
 2020 0162 DA69     		ldr	r2, [r3, #28]
 2021              		.loc 1 705 78
 2022 0164 3B68     		ldr	r3, [r7]
 2023 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2024              		.loc 1 705 84
 2025 0168 03F00F03 		and	r3, r3, #15
 2026              		.loc 1 705 57
 2027 016c 0121     		movs	r1, #1
 2028 016e 01FA03F3 		lsl	r3, r1, r3
 2029              		.loc 1 705 54
 2030 0172 1B04     		lsls	r3, r3, #16
 2031              		.loc 1 705 30
 2032 0174 DB43     		mvns	r3, r3
 2033              		.loc 1 705 27
 2034 0176 F968     		ldr	r1, [r7, #12]
 2035 0178 01F50061 		add	r1, r1, #2048
 2036 017c 1340     		ands	r3, r3, r2
 2037 017e CB61     		str	r3, [r1, #28]
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 2038              		.loc 1 706 32
 2039 0180 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 49


 2040 0182 5A01     		lsls	r2, r3, #5
 2041 0184 FB68     		ldr	r3, [r7, #12]
 2042 0186 1344     		add	r3, r3, r2
 2043 0188 03F53063 		add	r3, r3, #2816
 2044 018c 1A68     		ldr	r2, [r3]
 2045 018e BB68     		ldr	r3, [r7, #8]
 2046 0190 5901     		lsls	r1, r3, #5
 2047 0192 FB68     		ldr	r3, [r7, #12]
 2048 0194 0B44     		add	r3, r3, r1
 2049 0196 03F53063 		add	r3, r3, #2816
 2050 019a 1946     		mov	r1, r3
 2051 019c 054B     		ldr	r3, .L103+4
 2052 019e 1340     		ands	r3, r3, r2
 2053 01a0 0B60     		str	r3, [r1]
 2054              	.L100:
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2055              		.loc 1 712 10
 2056 01a2 0023     		movs	r3, #0
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2057              		.loc 1 713 1
 2058 01a4 1846     		mov	r0, r3
 2059 01a6 1437     		adds	r7, r7, #20
 2060              	.LCFI78:
 2061              		.cfi_def_cfa_offset 4
 2062 01a8 BD46     		mov	sp, r7
 2063              	.LCFI79:
 2064              		.cfi_def_cfa_register 13
 2065              		@ sp needed
 2066 01aa 5DF8047B 		ldr	r7, [sp], #4
 2067              	.LCFI80:
 2068              		.cfi_restore 7
 2069              		.cfi_def_cfa_offset 0
 2070 01ae 7047     		bx	lr
 2071              	.L104:
 2072              		.align	2
 2073              	.L103:
 2074 01b0 007833EC 		.word	-332171264
 2075 01b4 0078F3EF 		.word	-269256704
 2076              		.cfi_endproc
 2077              	.LFE247:
 2079              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 2080              		.align	1
 2081              		.global	USB_DeactivateDedicatedEndpoint
 2082              		.syntax unified
 2083              		.thumb
 2084              		.thumb_func
 2086              	USB_DeactivateDedicatedEndpoint:
 2087              	.LFB248:
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/cc1ThuXR.s 			page 50


 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2088              		.loc 1 722 1
 2089              		.cfi_startproc
 2090              		@ args = 0, pretend = 0, frame = 16
 2091              		@ frame_needed = 1, uses_anonymous_args = 0
 2092              		@ link register save eliminated.
 2093 0000 80B4     		push	{r7}
 2094              	.LCFI81:
 2095              		.cfi_def_cfa_offset 4
 2096              		.cfi_offset 7, -4
 2097 0002 85B0     		sub	sp, sp, #20
 2098              	.LCFI82:
 2099              		.cfi_def_cfa_offset 24
 2100 0004 00AF     		add	r7, sp, #0
 2101              	.LCFI83:
 2102              		.cfi_def_cfa_register 7
 2103 0006 7860     		str	r0, [r7, #4]
 2104 0008 3960     		str	r1, [r7]
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2105              		.loc 1 723 12
 2106 000a 7B68     		ldr	r3, [r7, #4]
 2107 000c FB60     		str	r3, [r7, #12]
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2108              		.loc 1 724 32
 2109 000e 3B68     		ldr	r3, [r7]
 2110 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2111              		.loc 1 724 12
 2112 0012 BB60     		str	r3, [r7, #8]
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2113              		.loc 1 727 9
 2114 0014 3B68     		ldr	r3, [r7]
 2115 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2116              		.loc 1 727 6
 2117 0018 012B     		cmp	r3, #1
 2118 001a 4ED1     		bne	.L106
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2119              		.loc 1 729 10
 2120 001c BB68     		ldr	r3, [r7, #8]
 2121 001e 5A01     		lsls	r2, r3, #5
 2122 0020 FB68     		ldr	r3, [r7, #12]
 2123 0022 1344     		add	r3, r3, r2
 2124 0024 03F51063 		add	r3, r3, #2304
 2125              		.loc 1 729 26
 2126 0028 1B68     		ldr	r3, [r3]
 2127              		.loc 1 729 36
 2128 002a 03F00043 		and	r3, r3, #-2147483648
 2129              		.loc 1 729 8
 2130 002e B3F1004F 		cmp	r3, #-2147483648
 2131 0032 1FD1     		bne	.L107
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/cc1ThuXR.s 			page 51


 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 2132              		.loc 1 731 34
 2133 0034 BB68     		ldr	r3, [r7, #8]
 2134 0036 5A01     		lsls	r2, r3, #5
 2135 0038 FB68     		ldr	r3, [r7, #12]
 2136 003a 1344     		add	r3, r3, r2
 2137 003c 03F51063 		add	r3, r3, #2304
 2138 0040 1B68     		ldr	r3, [r3]
 2139 0042 BA68     		ldr	r2, [r7, #8]
 2140 0044 5101     		lsls	r1, r2, #5
 2141 0046 FA68     		ldr	r2, [r7, #12]
 2142 0048 0A44     		add	r2, r2, r1
 2143 004a 02F51062 		add	r2, r2, #2304
 2144 004e 43F00063 		orr	r3, r3, #134217728
 2145 0052 1360     		str	r3, [r2]
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 2146              		.loc 1 732 34
 2147 0054 BB68     		ldr	r3, [r7, #8]
 2148 0056 5A01     		lsls	r2, r3, #5
 2149 0058 FB68     		ldr	r3, [r7, #12]
 2150 005a 1344     		add	r3, r3, r2
 2151 005c 03F51063 		add	r3, r3, #2304
 2152 0060 1B68     		ldr	r3, [r3]
 2153 0062 BA68     		ldr	r2, [r7, #8]
 2154 0064 5101     		lsls	r1, r2, #5
 2155 0066 FA68     		ldr	r2, [r7, #12]
 2156 0068 0A44     		add	r2, r2, r1
 2157 006a 02F51062 		add	r2, r2, #2304
 2158 006e 43F08043 		orr	r3, r3, #1073741824
 2159 0072 1360     		str	r3, [r2]
 2160              	.L107:
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2161              		.loc 1 735 31
 2162 0074 BB68     		ldr	r3, [r7, #8]
 2163 0076 5A01     		lsls	r2, r3, #5
 2164 0078 FB68     		ldr	r3, [r7, #12]
 2165 007a 1344     		add	r3, r3, r2
 2166 007c 03F51063 		add	r3, r3, #2304
 2167 0080 1B68     		ldr	r3, [r3]
 2168 0082 BA68     		ldr	r2, [r7, #8]
 2169 0084 5101     		lsls	r1, r2, #5
 2170 0086 FA68     		ldr	r2, [r7, #12]
 2171 0088 0A44     		add	r2, r2, r1
 2172 008a 02F51062 		add	r2, r2, #2304
 2173 008e 23F40043 		bic	r3, r3, #32768
 2174 0092 1360     		str	r3, [r2]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2175              		.loc 1 736 27
 2176 0094 FB68     		ldr	r3, [r7, #12]
 2177 0096 03F50063 		add	r3, r3, #2048
 2178 009a DA69     		ldr	r2, [r3, #28]
 2179              		.loc 1 736 77
 2180 009c 3B68     		ldr	r3, [r7]
 2181 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2182              		.loc 1 736 83
ARM GAS  /tmp/cc1ThuXR.s 			page 52


 2183 00a0 03F00F03 		and	r3, r3, #15
 2184              		.loc 1 736 56
 2185 00a4 0121     		movs	r1, #1
 2186 00a6 01FA03F3 		lsl	r3, r1, r3
 2187              		.loc 1 736 54
 2188 00aa 9BB2     		uxth	r3, r3
 2189              		.loc 1 736 30
 2190 00ac DB43     		mvns	r3, r3
 2191              		.loc 1 736 27
 2192 00ae F968     		ldr	r1, [r7, #12]
 2193 00b0 01F50061 		add	r1, r1, #2048
 2194 00b4 1340     		ands	r3, r3, r2
 2195 00b6 CB61     		str	r3, [r1, #28]
 2196 00b8 4DE0     		b	.L108
 2197              	.L106:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2198              		.loc 1 740 10
 2199 00ba BB68     		ldr	r3, [r7, #8]
 2200 00bc 5A01     		lsls	r2, r3, #5
 2201 00be FB68     		ldr	r3, [r7, #12]
 2202 00c0 1344     		add	r3, r3, r2
 2203 00c2 03F53063 		add	r3, r3, #2816
 2204              		.loc 1 740 27
 2205 00c6 1B68     		ldr	r3, [r3]
 2206              		.loc 1 740 37
 2207 00c8 03F00043 		and	r3, r3, #-2147483648
 2208              		.loc 1 740 8
 2209 00cc B3F1004F 		cmp	r3, #-2147483648
 2210 00d0 1FD1     		bne	.L109
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2211              		.loc 1 742 35
 2212 00d2 BB68     		ldr	r3, [r7, #8]
 2213 00d4 5A01     		lsls	r2, r3, #5
 2214 00d6 FB68     		ldr	r3, [r7, #12]
 2215 00d8 1344     		add	r3, r3, r2
 2216 00da 03F53063 		add	r3, r3, #2816
 2217 00de 1B68     		ldr	r3, [r3]
 2218 00e0 BA68     		ldr	r2, [r7, #8]
 2219 00e2 5101     		lsls	r1, r2, #5
 2220 00e4 FA68     		ldr	r2, [r7, #12]
 2221 00e6 0A44     		add	r2, r2, r1
 2222 00e8 02F53062 		add	r2, r2, #2816
 2223 00ec 43F00063 		orr	r3, r3, #134217728
 2224 00f0 1360     		str	r3, [r2]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2225              		.loc 1 743 35
 2226 00f2 BB68     		ldr	r3, [r7, #8]
 2227 00f4 5A01     		lsls	r2, r3, #5
 2228 00f6 FB68     		ldr	r3, [r7, #12]
 2229 00f8 1344     		add	r3, r3, r2
 2230 00fa 03F53063 		add	r3, r3, #2816
 2231 00fe 1B68     		ldr	r3, [r3]
 2232 0100 BA68     		ldr	r2, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 53


 2233 0102 5101     		lsls	r1, r2, #5
 2234 0104 FA68     		ldr	r2, [r7, #12]
 2235 0106 0A44     		add	r2, r2, r1
 2236 0108 02F53062 		add	r2, r2, #2816
 2237 010c 43F08043 		orr	r3, r3, #1073741824
 2238 0110 1360     		str	r3, [r2]
 2239              	.L109:
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2240              		.loc 1 746 32
 2241 0112 BB68     		ldr	r3, [r7, #8]
 2242 0114 5A01     		lsls	r2, r3, #5
 2243 0116 FB68     		ldr	r3, [r7, #12]
 2244 0118 1344     		add	r3, r3, r2
 2245 011a 03F53063 		add	r3, r3, #2816
 2246 011e 1B68     		ldr	r3, [r3]
 2247 0120 BA68     		ldr	r2, [r7, #8]
 2248 0122 5101     		lsls	r1, r2, #5
 2249 0124 FA68     		ldr	r2, [r7, #12]
 2250 0126 0A44     		add	r2, r2, r1
 2251 0128 02F53062 		add	r2, r2, #2816
 2252 012c 23F40043 		bic	r3, r3, #32768
 2253 0130 1360     		str	r3, [r2]
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2254              		.loc 1 747 27
 2255 0132 FB68     		ldr	r3, [r7, #12]
 2256 0134 03F50063 		add	r3, r3, #2048
 2257 0138 DA69     		ldr	r2, [r3, #28]
 2258              		.loc 1 747 78
 2259 013a 3B68     		ldr	r3, [r7]
 2260 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2261              		.loc 1 747 84
 2262 013e 03F00F03 		and	r3, r3, #15
 2263              		.loc 1 747 57
 2264 0142 0121     		movs	r1, #1
 2265 0144 01FA03F3 		lsl	r3, r1, r3
 2266              		.loc 1 747 54
 2267 0148 1B04     		lsls	r3, r3, #16
 2268              		.loc 1 747 30
 2269 014a DB43     		mvns	r3, r3
 2270              		.loc 1 747 27
 2271 014c F968     		ldr	r1, [r7, #12]
 2272 014e 01F50061 		add	r1, r1, #2048
 2273 0152 1340     		ands	r3, r3, r2
 2274 0154 CB61     		str	r3, [r1, #28]
 2275              	.L108:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2276              		.loc 1 750 10
 2277 0156 0023     		movs	r3, #0
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2278              		.loc 1 751 1
 2279 0158 1846     		mov	r0, r3
 2280 015a 1437     		adds	r7, r7, #20
 2281              	.LCFI84:
ARM GAS  /tmp/cc1ThuXR.s 			page 54


 2282              		.cfi_def_cfa_offset 4
 2283 015c BD46     		mov	sp, r7
 2284              	.LCFI85:
 2285              		.cfi_def_cfa_register 13
 2286              		@ sp needed
 2287 015e 5DF8047B 		ldr	r7, [sp], #4
 2288              	.LCFI86:
 2289              		.cfi_restore 7
 2290              		.cfi_def_cfa_offset 0
 2291 0162 7047     		bx	lr
 2292              		.cfi_endproc
 2293              	.LFE248:
 2295              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2296              		.align	1
 2297              		.global	USB_EPStartXfer
 2298              		.syntax unified
 2299              		.thumb
 2300              		.thumb_func
 2302              	USB_EPStartXfer:
 2303              	.LFB249:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2304              		.loc 1 764 1
 2305              		.cfi_startproc
 2306              		@ args = 0, pretend = 0, frame = 32
 2307              		@ frame_needed = 1, uses_anonymous_args = 0
 2308 0000 80B5     		push	{r7, lr}
 2309              	.LCFI87:
 2310              		.cfi_def_cfa_offset 8
 2311              		.cfi_offset 7, -8
 2312              		.cfi_offset 14, -4
 2313 0002 8AB0     		sub	sp, sp, #40
 2314              	.LCFI88:
 2315              		.cfi_def_cfa_offset 48
 2316 0004 02AF     		add	r7, sp, #8
 2317              	.LCFI89:
 2318              		.cfi_def_cfa 7, 40
 2319 0006 F860     		str	r0, [r7, #12]
 2320 0008 B960     		str	r1, [r7, #8]
 2321 000a 1346     		mov	r3, r2
 2322 000c FB71     		strb	r3, [r7, #7]
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2323              		.loc 1 765 12
 2324 000e FB68     		ldr	r3, [r7, #12]
 2325 0010 FB61     		str	r3, [r7, #28]
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
ARM GAS  /tmp/cc1ThuXR.s 			page 55


 2326              		.loc 1 766 32
 2327 0012 BB68     		ldr	r3, [r7, #8]
 2328 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2329              		.loc 1 766 12
 2330 0016 BB61     		str	r3, [r7, #24]
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2331              		.loc 1 770 9
 2332 0018 BB68     		ldr	r3, [r7, #8]
 2333 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2334              		.loc 1 770 6
 2335 001c 012B     		cmp	r3, #1
 2336 001e 40F05C81 		bne	.L112
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2337              		.loc 1 773 11
 2338 0022 BB68     		ldr	r3, [r7, #8]
 2339 0024 9B69     		ldr	r3, [r3, #24]
 2340              		.loc 1 773 8
 2341 0026 002B     		cmp	r3, #0
 2342 0028 32D1     		bne	.L113
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2343              		.loc 1 775 34
 2344 002a BB69     		ldr	r3, [r7, #24]
 2345 002c 5A01     		lsls	r2, r3, #5
 2346 002e FB69     		ldr	r3, [r7, #28]
 2347 0030 1344     		add	r3, r3, r2
 2348 0032 03F51063 		add	r3, r3, #2304
 2349 0036 1B69     		ldr	r3, [r3, #16]
 2350 0038 BA69     		ldr	r2, [r7, #24]
 2351 003a 5101     		lsls	r1, r2, #5
 2352 003c FA69     		ldr	r2, [r7, #28]
 2353 003e 0A44     		add	r2, r2, r1
 2354 0040 02F51062 		add	r2, r2, #2304
 2355 0044 23F0FF53 		bic	r3, r3, #534773760
 2356 0048 23F4C013 		bic	r3, r3, #1572864
 2357 004c 1361     		str	r3, [r2, #16]
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2358              		.loc 1 776 34
 2359 004e BB69     		ldr	r3, [r7, #24]
 2360 0050 5A01     		lsls	r2, r3, #5
 2361 0052 FB69     		ldr	r3, [r7, #28]
 2362 0054 1344     		add	r3, r3, r2
 2363 0056 03F51063 		add	r3, r3, #2304
 2364 005a 1B69     		ldr	r3, [r3, #16]
 2365 005c BA69     		ldr	r2, [r7, #24]
 2366 005e 5101     		lsls	r1, r2, #5
 2367 0060 FA69     		ldr	r2, [r7, #28]
 2368 0062 0A44     		add	r2, r2, r1
 2369 0064 02F51062 		add	r2, r2, #2304
 2370 0068 43F40023 		orr	r3, r3, #524288
 2371 006c 1361     		str	r3, [r2, #16]
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
ARM GAS  /tmp/cc1ThuXR.s 			page 56


 2372              		.loc 1 777 34
 2373 006e BB69     		ldr	r3, [r7, #24]
 2374 0070 5A01     		lsls	r2, r3, #5
 2375 0072 FB69     		ldr	r3, [r7, #28]
 2376 0074 1344     		add	r3, r3, r2
 2377 0076 03F51063 		add	r3, r3, #2304
 2378 007a 1B69     		ldr	r3, [r3, #16]
 2379 007c BA69     		ldr	r2, [r7, #24]
 2380 007e 5101     		lsls	r1, r2, #5
 2381 0080 FA69     		ldr	r2, [r7, #28]
 2382 0082 0A44     		add	r2, r2, r1
 2383 0084 02F51062 		add	r2, r2, #2304
 2384 0088 DB0C     		lsrs	r3, r3, #19
 2385 008a DB04     		lsls	r3, r3, #19
 2386 008c 1361     		str	r3, [r2, #16]
 2387 008e 74E0     		b	.L114
 2388              	.L113:
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2389              		.loc 1 786 34
 2390 0090 BB69     		ldr	r3, [r7, #24]
 2391 0092 5A01     		lsls	r2, r3, #5
 2392 0094 FB69     		ldr	r3, [r7, #28]
 2393 0096 1344     		add	r3, r3, r2
 2394 0098 03F51063 		add	r3, r3, #2304
 2395 009c 1B69     		ldr	r3, [r3, #16]
 2396 009e BA69     		ldr	r2, [r7, #24]
 2397 00a0 5101     		lsls	r1, r2, #5
 2398 00a2 FA69     		ldr	r2, [r7, #28]
 2399 00a4 0A44     		add	r2, r2, r1
 2400 00a6 02F51062 		add	r2, r2, #2304
 2401 00aa DB0C     		lsrs	r3, r3, #19
 2402 00ac DB04     		lsls	r3, r3, #19
 2403 00ae 1361     		str	r3, [r2, #16]
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2404              		.loc 1 787 34
 2405 00b0 BB69     		ldr	r3, [r7, #24]
 2406 00b2 5A01     		lsls	r2, r3, #5
 2407 00b4 FB69     		ldr	r3, [r7, #28]
 2408 00b6 1344     		add	r3, r3, r2
 2409 00b8 03F51063 		add	r3, r3, #2304
 2410 00bc 1B69     		ldr	r3, [r3, #16]
 2411 00be BA69     		ldr	r2, [r7, #24]
 2412 00c0 5101     		lsls	r1, r2, #5
 2413 00c2 FA69     		ldr	r2, [r7, #28]
 2414 00c4 0A44     		add	r2, r2, r1
 2415 00c6 02F51062 		add	r2, r2, #2304
 2416 00ca 23F0FF53 		bic	r3, r3, #534773760
 2417 00ce 23F4C013 		bic	r3, r3, #1572864
 2418 00d2 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 57


 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2419              		.loc 1 788 34
 2420 00d4 BB69     		ldr	r3, [r7, #24]
 2421 00d6 5A01     		lsls	r2, r3, #5
 2422 00d8 FB69     		ldr	r3, [r7, #28]
 2423 00da 1344     		add	r3, r3, r2
 2424 00dc 03F51063 		add	r3, r3, #2304
 2425 00e0 1A69     		ldr	r2, [r3, #16]
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 2426              		.loc 1 789 43
 2427 00e2 BB68     		ldr	r3, [r7, #8]
 2428 00e4 9969     		ldr	r1, [r3, #24]
 2429              		.loc 1 789 58
 2430 00e6 BB68     		ldr	r3, [r7, #8]
 2431 00e8 DB68     		ldr	r3, [r3, #12]
 2432              		.loc 1 789 54
 2433 00ea 0B44     		add	r3, r3, r1
 2434              		.loc 1 789 70
 2435 00ec 591E     		subs	r1, r3, #1
 2436              		.loc 1 789 80
 2437 00ee BB68     		ldr	r3, [r7, #8]
 2438 00f0 DB68     		ldr	r3, [r3, #12]
 2439              		.loc 1 789 76
 2440 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2441              		.loc 1 789 93
 2442 00f6 D904     		lsls	r1, r3, #19
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2443              		.loc 1 788 62
 2444 00f8 9D4B     		ldr	r3, .L129
 2445 00fa 0B40     		ands	r3, r3, r1
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2446              		.loc 1 788 34
 2447 00fc B969     		ldr	r1, [r7, #24]
 2448 00fe 4801     		lsls	r0, r1, #5
 2449 0100 F969     		ldr	r1, [r7, #28]
 2450 0102 0144     		add	r1, r1, r0
 2451 0104 01F51061 		add	r1, r1, #2304
 2452 0108 1343     		orrs	r3, r3, r2
 2453 010a 0B61     		str	r3, [r1, #16]
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2454              		.loc 1 791 34
 2455 010c BB69     		ldr	r3, [r7, #24]
 2456 010e 5A01     		lsls	r2, r3, #5
 2457 0110 FB69     		ldr	r3, [r7, #28]
 2458 0112 1344     		add	r3, r3, r2
 2459 0114 03F51063 		add	r3, r3, #2304
 2460 0118 1A69     		ldr	r2, [r3, #16]
 2461              		.loc 1 791 66
 2462 011a BB68     		ldr	r3, [r7, #8]
 2463 011c 9B69     		ldr	r3, [r3, #24]
 2464              		.loc 1 791 62
 2465 011e C3F31203 		ubfx	r3, r3, #0, #19
 2466              		.loc 1 791 34
 2467 0122 B969     		ldr	r1, [r7, #24]
 2468 0124 4801     		lsls	r0, r1, #5
 2469 0126 F969     		ldr	r1, [r7, #28]
ARM GAS  /tmp/cc1ThuXR.s 			page 58


 2470 0128 0144     		add	r1, r1, r0
 2471 012a 01F51061 		add	r1, r1, #2304
 2472 012e 1343     		orrs	r3, r3, r2
 2473 0130 0B61     		str	r3, [r1, #16]
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2474              		.loc 1 793 13
 2475 0132 BB68     		ldr	r3, [r7, #8]
 2476 0134 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2477              		.loc 1 793 10
 2478 0136 012B     		cmp	r3, #1
 2479 0138 1FD1     		bne	.L114
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2480              		.loc 1 795 36
 2481 013a BB69     		ldr	r3, [r7, #24]
 2482 013c 5A01     		lsls	r2, r3, #5
 2483 013e FB69     		ldr	r3, [r7, #28]
 2484 0140 1344     		add	r3, r3, r2
 2485 0142 03F51063 		add	r3, r3, #2304
 2486 0146 1B69     		ldr	r3, [r3, #16]
 2487 0148 BA69     		ldr	r2, [r7, #24]
 2488 014a 5101     		lsls	r1, r2, #5
 2489 014c FA69     		ldr	r2, [r7, #28]
 2490 014e 0A44     		add	r2, r2, r1
 2491 0150 02F51062 		add	r2, r2, #2304
 2492 0154 23F0C043 		bic	r3, r3, #1610612736
 2493 0158 1361     		str	r3, [r2, #16]
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2494              		.loc 1 796 36
 2495 015a BB69     		ldr	r3, [r7, #24]
 2496 015c 5A01     		lsls	r2, r3, #5
 2497 015e FB69     		ldr	r3, [r7, #28]
 2498 0160 1344     		add	r3, r3, r2
 2499 0162 03F51063 		add	r3, r3, #2304
 2500 0166 1B69     		ldr	r3, [r3, #16]
 2501 0168 BA69     		ldr	r2, [r7, #24]
 2502 016a 5101     		lsls	r1, r2, #5
 2503 016c FA69     		ldr	r2, [r7, #28]
 2504 016e 0A44     		add	r2, r2, r1
 2505 0170 02F51062 		add	r2, r2, #2304
 2506 0174 43F00053 		orr	r3, r3, #536870912
 2507 0178 1361     		str	r3, [r2, #16]
 2508              	.L114:
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2509              		.loc 1 800 8
 2510 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2511 017c 012B     		cmp	r3, #1
 2512 017e 4BD1     		bne	.L115
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2513              		.loc 1 802 23
 2514 0180 BB68     		ldr	r3, [r7, #8]
 2515 0182 5B69     		ldr	r3, [r3, #20]
ARM GAS  /tmp/cc1ThuXR.s 			page 59


 2516              		.loc 1 802 10
 2517 0184 002B     		cmp	r3, #0
 2518 0186 09D0     		beq	.L116
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2519              		.loc 1 804 9
 2520 0188 BB69     		ldr	r3, [r7, #24]
 2521 018a 5A01     		lsls	r2, r3, #5
 2522 018c FB69     		ldr	r3, [r7, #28]
 2523 018e 1344     		add	r3, r3, r2
 2524 0190 03F51063 		add	r3, r3, #2304
 2525 0194 1A46     		mov	r2, r3
 2526              		.loc 1 804 50
 2527 0196 BB68     		ldr	r3, [r7, #8]
 2528 0198 5B69     		ldr	r3, [r3, #20]
 2529              		.loc 1 804 35
 2530 019a 5361     		str	r3, [r2, #20]
 2531              	.L116:
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2532              		.loc 1 807 13
 2533 019c BB68     		ldr	r3, [r7, #8]
 2534 019e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2535              		.loc 1 807 10
 2536 01a0 012B     		cmp	r3, #1
 2537 01a2 28D1     		bne	.L117
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2538              		.loc 1 809 14
 2539 01a4 FB69     		ldr	r3, [r7, #28]
 2540 01a6 03F50063 		add	r3, r3, #2048
 2541              		.loc 1 809 25
 2542 01aa 9B68     		ldr	r3, [r3, #8]
 2543              		.loc 1 809 32
 2544 01ac 03F48073 		and	r3, r3, #256
 2545              		.loc 1 809 12
 2546 01b0 002B     		cmp	r3, #0
 2547 01b2 10D1     		bne	.L118
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2548              		.loc 1 811 37
 2549 01b4 BB69     		ldr	r3, [r7, #24]
 2550 01b6 5A01     		lsls	r2, r3, #5
 2551 01b8 FB69     		ldr	r3, [r7, #28]
 2552 01ba 1344     		add	r3, r3, r2
 2553 01bc 03F51063 		add	r3, r3, #2304
 2554 01c0 1B68     		ldr	r3, [r3]
 2555 01c2 BA69     		ldr	r2, [r7, #24]
 2556 01c4 5101     		lsls	r1, r2, #5
 2557 01c6 FA69     		ldr	r2, [r7, #28]
 2558 01c8 0A44     		add	r2, r2, r1
 2559 01ca 02F51062 		add	r2, r2, #2304
 2560 01ce 43F00053 		orr	r3, r3, #536870912
 2561 01d2 1360     		str	r3, [r2]
 2562 01d4 0FE0     		b	.L117
 2563              	.L118:
ARM GAS  /tmp/cc1ThuXR.s 			page 60


 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2564              		.loc 1 815 37
 2565 01d6 BB69     		ldr	r3, [r7, #24]
 2566 01d8 5A01     		lsls	r2, r3, #5
 2567 01da FB69     		ldr	r3, [r7, #28]
 2568 01dc 1344     		add	r3, r3, r2
 2569 01de 03F51063 		add	r3, r3, #2304
 2570 01e2 1B68     		ldr	r3, [r3]
 2571 01e4 BA69     		ldr	r2, [r7, #24]
 2572 01e6 5101     		lsls	r1, r2, #5
 2573 01e8 FA69     		ldr	r2, [r7, #28]
 2574 01ea 0A44     		add	r2, r2, r1
 2575 01ec 02F51062 		add	r2, r2, #2304
 2576 01f0 43F08053 		orr	r3, r3, #268435456
 2577 01f4 1360     		str	r3, [r2]
 2578              	.L117:
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2579              		.loc 1 820 33
 2580 01f6 BB69     		ldr	r3, [r7, #24]
 2581 01f8 5A01     		lsls	r2, r3, #5
 2582 01fa FB69     		ldr	r3, [r7, #28]
 2583 01fc 1344     		add	r3, r3, r2
 2584 01fe 03F51063 		add	r3, r3, #2304
 2585 0202 1B68     		ldr	r3, [r3]
 2586 0204 BA69     		ldr	r2, [r7, #24]
 2587 0206 5101     		lsls	r1, r2, #5
 2588 0208 FA69     		ldr	r2, [r7, #28]
 2589 020a 0A44     		add	r2, r2, r1
 2590 020c 02F51062 		add	r2, r2, #2304
 2591 0210 43F00443 		orr	r3, r3, #-2080374784
 2592 0214 1360     		str	r3, [r2]
 2593 0216 33E1     		b	.L119
 2594              	.L115:
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2595              		.loc 1 825 33
 2596 0218 BB69     		ldr	r3, [r7, #24]
 2597 021a 5A01     		lsls	r2, r3, #5
 2598 021c FB69     		ldr	r3, [r7, #28]
 2599 021e 1344     		add	r3, r3, r2
 2600 0220 03F51063 		add	r3, r3, #2304
 2601 0224 1B68     		ldr	r3, [r3]
 2602 0226 BA69     		ldr	r2, [r7, #24]
 2603 0228 5101     		lsls	r1, r2, #5
 2604 022a FA69     		ldr	r2, [r7, #28]
 2605 022c 0A44     		add	r2, r2, r1
 2606 022e 02F51062 		add	r2, r2, #2304
ARM GAS  /tmp/cc1ThuXR.s 			page 61


 2607 0232 43F00443 		orr	r3, r3, #-2080374784
 2608 0236 1360     		str	r3, [r2]
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2609              		.loc 1 827 13
 2610 0238 BB68     		ldr	r3, [r7, #8]
 2611 023a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2612              		.loc 1 827 10
 2613 023c 012B     		cmp	r3, #1
 2614 023e 15D0     		beq	.L120
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2615              		.loc 1 830 15
 2616 0240 BB68     		ldr	r3, [r7, #8]
 2617 0242 9B69     		ldr	r3, [r3, #24]
 2618              		.loc 1 830 12
 2619 0244 002B     		cmp	r3, #0
 2620 0246 00F01B81 		beq	.L119
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2621              		.loc 1 832 35
 2622 024a FB69     		ldr	r3, [r7, #28]
 2623 024c 03F50063 		add	r3, r3, #2048
 2624 0250 5A6B     		ldr	r2, [r3, #52]
 2625              		.loc 1 832 48
 2626 0252 BB68     		ldr	r3, [r7, #8]
 2627 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2628              		.loc 1 832 54
 2629 0256 03F00F03 		and	r3, r3, #15
 2630              		.loc 1 832 42
 2631 025a 0121     		movs	r1, #1
 2632 025c 01FA03F3 		lsl	r3, r1, r3
 2633              		.loc 1 832 35
 2634 0260 F969     		ldr	r1, [r7, #28]
 2635 0262 01F50061 		add	r1, r1, #2048
 2636 0266 1343     		orrs	r3, r3, r2
 2637 0268 4B63     		str	r3, [r1, #52]
 2638 026a 09E1     		b	.L119
 2639              	.L120:
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2640              		.loc 1 837 14
 2641 026c FB69     		ldr	r3, [r7, #28]
 2642 026e 03F50063 		add	r3, r3, #2048
 2643              		.loc 1 837 25
 2644 0272 9B68     		ldr	r3, [r3, #8]
 2645              		.loc 1 837 32
 2646 0274 03F48073 		and	r3, r3, #256
 2647              		.loc 1 837 12
 2648 0278 002B     		cmp	r3, #0
 2649 027a 10D1     		bne	.L121
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
ARM GAS  /tmp/cc1ThuXR.s 			page 62


 2650              		.loc 1 839 37
 2651 027c BB69     		ldr	r3, [r7, #24]
 2652 027e 5A01     		lsls	r2, r3, #5
 2653 0280 FB69     		ldr	r3, [r7, #28]
 2654 0282 1344     		add	r3, r3, r2
 2655 0284 03F51063 		add	r3, r3, #2304
 2656 0288 1B68     		ldr	r3, [r3]
 2657 028a BA69     		ldr	r2, [r7, #24]
 2658 028c 5101     		lsls	r1, r2, #5
 2659 028e FA69     		ldr	r2, [r7, #28]
 2660 0290 0A44     		add	r2, r2, r1
 2661 0292 02F51062 		add	r2, r2, #2304
 2662 0296 43F00053 		orr	r3, r3, #536870912
 2663 029a 1360     		str	r3, [r2]
 2664 029c 0FE0     		b	.L122
 2665              	.L121:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2666              		.loc 1 843 37
 2667 029e BB69     		ldr	r3, [r7, #24]
 2668 02a0 5A01     		lsls	r2, r3, #5
 2669 02a2 FB69     		ldr	r3, [r7, #28]
 2670 02a4 1344     		add	r3, r3, r2
 2671 02a6 03F51063 		add	r3, r3, #2304
 2672 02aa 1B68     		ldr	r3, [r3]
 2673 02ac BA69     		ldr	r2, [r7, #24]
 2674 02ae 5101     		lsls	r1, r2, #5
 2675 02b0 FA69     		ldr	r2, [r7, #28]
 2676 02b2 0A44     		add	r2, r2, r1
 2677 02b4 02F51062 		add	r2, r2, #2304
 2678 02b8 43F08053 		orr	r3, r3, #268435456
 2679 02bc 1360     		str	r3, [r2]
 2680              	.L122:
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2681              		.loc 1 846 15
 2682 02be BB68     		ldr	r3, [r7, #8]
 2683 02c0 1969     		ldr	r1, [r3, #16]
 2684 02c2 BB68     		ldr	r3, [r7, #8]
 2685 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2686              		.loc 1 846 73
 2687 02c6 BB68     		ldr	r3, [r7, #8]
 2688 02c8 9B69     		ldr	r3, [r3, #24]
 2689              		.loc 1 846 15
 2690 02ca 98B2     		uxth	r0, r3
 2691 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2692 02ce 0093     		str	r3, [sp]
 2693 02d0 0346     		mov	r3, r0
 2694 02d2 F868     		ldr	r0, [r7, #12]
 2695 02d4 FFF7FEFF 		bl	USB_WritePacket
 2696 02d8 D2E0     		b	.L119
 2697              	.L112:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  /tmp/cc1ThuXR.s 			page 63


 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2698              		.loc 1 856 33
 2699 02da BB69     		ldr	r3, [r7, #24]
 2700 02dc 5A01     		lsls	r2, r3, #5
 2701 02de FB69     		ldr	r3, [r7, #28]
 2702 02e0 1344     		add	r3, r3, r2
 2703 02e2 03F53063 		add	r3, r3, #2816
 2704 02e6 1B69     		ldr	r3, [r3, #16]
 2705 02e8 BA69     		ldr	r2, [r7, #24]
 2706 02ea 5101     		lsls	r1, r2, #5
 2707 02ec FA69     		ldr	r2, [r7, #28]
 2708 02ee 0A44     		add	r2, r2, r1
 2709 02f0 02F53062 		add	r2, r2, #2816
 2710 02f4 DB0C     		lsrs	r3, r3, #19
 2711 02f6 DB04     		lsls	r3, r3, #19
 2712 02f8 1361     		str	r3, [r2, #16]
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2713              		.loc 1 857 33
 2714 02fa BB69     		ldr	r3, [r7, #24]
 2715 02fc 5A01     		lsls	r2, r3, #5
 2716 02fe FB69     		ldr	r3, [r7, #28]
 2717 0300 1344     		add	r3, r3, r2
 2718 0302 03F53063 		add	r3, r3, #2816
 2719 0306 1B69     		ldr	r3, [r3, #16]
 2720 0308 BA69     		ldr	r2, [r7, #24]
 2721 030a 5101     		lsls	r1, r2, #5
 2722 030c FA69     		ldr	r2, [r7, #28]
 2723 030e 0A44     		add	r2, r2, r1
 2724 0310 02F53062 		add	r2, r2, #2816
 2725 0314 23F0FF53 		bic	r3, r3, #534773760
 2726 0318 23F4C013 		bic	r3, r3, #1572864
 2727 031c 1361     		str	r3, [r2, #16]
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2728              		.loc 1 859 11
 2729 031e BB68     		ldr	r3, [r7, #8]
 2730 0320 9B69     		ldr	r3, [r3, #24]
 2731              		.loc 1 859 8
 2732 0322 002B     		cmp	r3, #0
 2733 0324 26D1     		bne	.L123
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2734              		.loc 1 861 35
 2735 0326 BB69     		ldr	r3, [r7, #24]
 2736 0328 5A01     		lsls	r2, r3, #5
 2737 032a FB69     		ldr	r3, [r7, #28]
 2738 032c 1344     		add	r3, r3, r2
 2739 032e 03F53063 		add	r3, r3, #2816
 2740 0332 1A69     		ldr	r2, [r3, #16]
 2741              		.loc 1 861 67
ARM GAS  /tmp/cc1ThuXR.s 			page 64


 2742 0334 BB68     		ldr	r3, [r7, #8]
 2743 0336 DB68     		ldr	r3, [r3, #12]
 2744              		.loc 1 861 63
 2745 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2746              		.loc 1 861 35
 2747 033c B969     		ldr	r1, [r7, #24]
 2748 033e 4801     		lsls	r0, r1, #5
 2749 0340 F969     		ldr	r1, [r7, #28]
 2750 0342 0144     		add	r1, r1, r0
 2751 0344 01F53061 		add	r1, r1, #2816
 2752 0348 1343     		orrs	r3, r3, r2
 2753 034a 0B61     		str	r3, [r1, #16]
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2754              		.loc 1 862 35
 2755 034c BB69     		ldr	r3, [r7, #24]
 2756 034e 5A01     		lsls	r2, r3, #5
 2757 0350 FB69     		ldr	r3, [r7, #28]
 2758 0352 1344     		add	r3, r3, r2
 2759 0354 03F53063 		add	r3, r3, #2816
 2760 0358 1B69     		ldr	r3, [r3, #16]
 2761 035a BA69     		ldr	r2, [r7, #24]
 2762 035c 5101     		lsls	r1, r2, #5
 2763 035e FA69     		ldr	r2, [r7, #28]
 2764 0360 0A44     		add	r2, r2, r1
 2765 0362 02F53062 		add	r2, r2, #2816
 2766 0366 43F40023 		orr	r3, r3, #524288
 2767 036a 1361     		str	r3, [r2, #16]
 2768 036c 3AE0     		b	.L124
 2769              	.L130:
 2770 036e 00BF     		.align	2
 2771              	.L129:
 2772 0370 0000F81F 		.word	536346624
 2773              	.L123:
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2774              		.loc 1 866 30
 2775 0374 BB68     		ldr	r3, [r7, #8]
 2776 0376 9A69     		ldr	r2, [r3, #24]
 2777              		.loc 1 866 45
 2778 0378 BB68     		ldr	r3, [r7, #8]
 2779 037a DB68     		ldr	r3, [r3, #12]
 2780              		.loc 1 866 41
 2781 037c 1344     		add	r3, r3, r2
 2782              		.loc 1 866 57
 2783 037e 5A1E     		subs	r2, r3, #1
 2784              		.loc 1 866 67
 2785 0380 BB68     		ldr	r3, [r7, #8]
 2786 0382 DB68     		ldr	r3, [r3, #12]
 2787              		.loc 1 866 63
 2788 0384 B2FBF3F3 		udiv	r3, r2, r3
 2789              		.loc 1 866 14
 2790 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 2791              		.loc 1 867 25
 2792 038a BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 65


 2793 038c DB68     		ldr	r3, [r3, #12]
 2794              		.loc 1 867 37
 2795 038e FA8A     		ldrh	r2, [r7, #22]
 2796 0390 03FB02F2 		mul	r2, r3, r2
 2797              		.loc 1 867 21
 2798 0394 BB68     		ldr	r3, [r7, #8]
 2799 0396 DA61     		str	r2, [r3, #28]
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2800              		.loc 1 869 35
 2801 0398 BB69     		ldr	r3, [r7, #24]
 2802 039a 5A01     		lsls	r2, r3, #5
 2803 039c FB69     		ldr	r3, [r7, #28]
 2804 039e 1344     		add	r3, r3, r2
 2805 03a0 03F53063 		add	r3, r3, #2816
 2806 03a4 1A69     		ldr	r2, [r3, #16]
 2807              		.loc 1 869 65
 2808 03a6 FB8A     		ldrh	r3, [r7, #22]
 2809              		.loc 1 869 82
 2810 03a8 D904     		lsls	r1, r3, #19
 2811              		.loc 1 869 62
 2812 03aa 384B     		ldr	r3, .L131
 2813 03ac 0B40     		ands	r3, r3, r1
 2814              		.loc 1 869 35
 2815 03ae B969     		ldr	r1, [r7, #24]
 2816 03b0 4801     		lsls	r0, r1, #5
 2817 03b2 F969     		ldr	r1, [r7, #28]
 2818 03b4 0144     		add	r1, r1, r0
 2819 03b6 01F53061 		add	r1, r1, #2816
 2820 03ba 1343     		orrs	r3, r3, r2
 2821 03bc 0B61     		str	r3, [r1, #16]
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2822              		.loc 1 870 35
 2823 03be BB69     		ldr	r3, [r7, #24]
 2824 03c0 5A01     		lsls	r2, r3, #5
 2825 03c2 FB69     		ldr	r3, [r7, #28]
 2826 03c4 1344     		add	r3, r3, r2
 2827 03c6 03F53063 		add	r3, r3, #2816
 2828 03ca 1A69     		ldr	r2, [r3, #16]
 2829              		.loc 1 870 66
 2830 03cc BB68     		ldr	r3, [r7, #8]
 2831 03ce DB69     		ldr	r3, [r3, #28]
 2832              		.loc 1 870 62
 2833 03d0 C3F31203 		ubfx	r3, r3, #0, #19
 2834              		.loc 1 870 35
 2835 03d4 B969     		ldr	r1, [r7, #24]
 2836 03d6 4801     		lsls	r0, r1, #5
 2837 03d8 F969     		ldr	r1, [r7, #28]
 2838 03da 0144     		add	r1, r1, r0
 2839 03dc 01F53061 		add	r1, r1, #2816
 2840 03e0 1343     		orrs	r3, r3, r2
 2841 03e2 0B61     		str	r3, [r1, #16]
 2842              	.L124:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2843              		.loc 1 873 8
ARM GAS  /tmp/cc1ThuXR.s 			page 66


 2844 03e4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2845 03e6 012B     		cmp	r3, #1
 2846 03e8 0DD1     		bne	.L125
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2847              		.loc 1 875 23
 2848 03ea BB68     		ldr	r3, [r7, #8]
 2849 03ec 1B69     		ldr	r3, [r3, #16]
 2850              		.loc 1 875 10
 2851 03ee 002B     		cmp	r3, #0
 2852 03f0 09D0     		beq	.L125
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2853              		.loc 1 877 51
 2854 03f2 BB68     		ldr	r3, [r7, #8]
 2855 03f4 1969     		ldr	r1, [r3, #16]
 2856              		.loc 1 877 9
 2857 03f6 BB69     		ldr	r3, [r7, #24]
 2858 03f8 5A01     		lsls	r2, r3, #5
 2859 03fa FB69     		ldr	r3, [r7, #28]
 2860 03fc 1344     		add	r3, r3, r2
 2861 03fe 03F53063 		add	r3, r3, #2816
 2862              		.loc 1 877 38
 2863 0402 0A46     		mov	r2, r1
 2864              		.loc 1 877 36
 2865 0404 5A61     		str	r2, [r3, #20]
 2866              	.L125:
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2867              		.loc 1 881 11
 2868 0406 BB68     		ldr	r3, [r7, #8]
 2869 0408 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2870              		.loc 1 881 8
 2871 040a 012B     		cmp	r3, #1
 2872 040c 28D1     		bne	.L126
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2873              		.loc 1 883 12
 2874 040e FB69     		ldr	r3, [r7, #28]
 2875 0410 03F50063 		add	r3, r3, #2048
 2876              		.loc 1 883 23
 2877 0414 9B68     		ldr	r3, [r3, #8]
 2878              		.loc 1 883 30
 2879 0416 03F48073 		and	r3, r3, #256
 2880              		.loc 1 883 10
 2881 041a 002B     		cmp	r3, #0
 2882 041c 10D1     		bne	.L127
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2883              		.loc 1 885 36
 2884 041e BB69     		ldr	r3, [r7, #24]
 2885 0420 5A01     		lsls	r2, r3, #5
 2886 0422 FB69     		ldr	r3, [r7, #28]
 2887 0424 1344     		add	r3, r3, r2
 2888 0426 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/cc1ThuXR.s 			page 67


 2889 042a 1B68     		ldr	r3, [r3]
 2890 042c BA69     		ldr	r2, [r7, #24]
 2891 042e 5101     		lsls	r1, r2, #5
 2892 0430 FA69     		ldr	r2, [r7, #28]
 2893 0432 0A44     		add	r2, r2, r1
 2894 0434 02F53062 		add	r2, r2, #2816
 2895 0438 43F00053 		orr	r3, r3, #536870912
 2896 043c 1360     		str	r3, [r2]
 2897 043e 0FE0     		b	.L126
 2898              	.L127:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2899              		.loc 1 889 36
 2900 0440 BB69     		ldr	r3, [r7, #24]
 2901 0442 5A01     		lsls	r2, r3, #5
 2902 0444 FB69     		ldr	r3, [r7, #28]
 2903 0446 1344     		add	r3, r3, r2
 2904 0448 03F53063 		add	r3, r3, #2816
 2905 044c 1B68     		ldr	r3, [r3]
 2906 044e BA69     		ldr	r2, [r7, #24]
 2907 0450 5101     		lsls	r1, r2, #5
 2908 0452 FA69     		ldr	r2, [r7, #28]
 2909 0454 0A44     		add	r2, r2, r1
 2910 0456 02F53062 		add	r2, r2, #2816
 2911 045a 43F08053 		orr	r3, r3, #268435456
 2912 045e 1360     		str	r3, [r2]
 2913              	.L126:
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2914              		.loc 1 893 32
 2915 0460 BB69     		ldr	r3, [r7, #24]
 2916 0462 5A01     		lsls	r2, r3, #5
 2917 0464 FB69     		ldr	r3, [r7, #28]
 2918 0466 1344     		add	r3, r3, r2
 2919 0468 03F53063 		add	r3, r3, #2816
 2920 046c 1B68     		ldr	r3, [r3]
 2921 046e BA69     		ldr	r2, [r7, #24]
 2922 0470 5101     		lsls	r1, r2, #5
 2923 0472 FA69     		ldr	r2, [r7, #28]
 2924 0474 0A44     		add	r2, r2, r1
 2925 0476 02F53062 		add	r2, r2, #2816
 2926 047a 43F00443 		orr	r3, r3, #-2080374784
 2927 047e 1360     		str	r3, [r2]
 2928              	.L119:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2929              		.loc 1 896 10
 2930 0480 0023     		movs	r3, #0
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2931              		.loc 1 897 1
 2932 0482 1846     		mov	r0, r3
 2933 0484 2037     		adds	r7, r7, #32
ARM GAS  /tmp/cc1ThuXR.s 			page 68


 2934              	.LCFI90:
 2935              		.cfi_def_cfa_offset 8
 2936 0486 BD46     		mov	sp, r7
 2937              	.LCFI91:
 2938              		.cfi_def_cfa_register 13
 2939              		@ sp needed
 2940 0488 80BD     		pop	{r7, pc}
 2941              	.L132:
 2942 048a 00BF     		.align	2
 2943              	.L131:
 2944 048c 0000F81F 		.word	536346624
 2945              		.cfi_endproc
 2946              	.LFE249:
 2948              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2949              		.align	1
 2950              		.global	USB_EP0StartXfer
 2951              		.syntax unified
 2952              		.thumb
 2953              		.thumb_func
 2955              	USB_EP0StartXfer:
 2956              	.LFB250:
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2957              		.loc 1 910 1
 2958              		.cfi_startproc
 2959              		@ args = 0, pretend = 0, frame = 24
 2960              		@ frame_needed = 1, uses_anonymous_args = 0
 2961              		@ link register save eliminated.
 2962 0000 80B4     		push	{r7}
 2963              	.LCFI92:
 2964              		.cfi_def_cfa_offset 4
 2965              		.cfi_offset 7, -4
 2966 0002 87B0     		sub	sp, sp, #28
 2967              	.LCFI93:
 2968              		.cfi_def_cfa_offset 32
 2969 0004 00AF     		add	r7, sp, #0
 2970              	.LCFI94:
 2971              		.cfi_def_cfa_register 7
 2972 0006 F860     		str	r0, [r7, #12]
 2973 0008 B960     		str	r1, [r7, #8]
 2974 000a 1346     		mov	r3, r2
 2975 000c FB71     		strb	r3, [r7, #7]
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2976              		.loc 1 911 12
 2977 000e FB68     		ldr	r3, [r7, #12]
 2978 0010 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/cc1ThuXR.s 			page 69


 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2979              		.loc 1 912 32
 2980 0012 BB68     		ldr	r3, [r7, #8]
 2981 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2982              		.loc 1 912 12
 2983 0016 3B61     		str	r3, [r7, #16]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2984              		.loc 1 915 9
 2985 0018 BB68     		ldr	r3, [r7, #8]
 2986 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2987              		.loc 1 915 6
 2988 001c 012B     		cmp	r3, #1
 2989 001e 40F0CE80 		bne	.L134
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2990              		.loc 1 918 11
 2991 0022 BB68     		ldr	r3, [r7, #8]
 2992 0024 9B69     		ldr	r3, [r3, #24]
 2993              		.loc 1 918 8
 2994 0026 002B     		cmp	r3, #0
 2995 0028 32D1     		bne	.L135
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2996              		.loc 1 920 34
 2997 002a 3B69     		ldr	r3, [r7, #16]
 2998 002c 5A01     		lsls	r2, r3, #5
 2999 002e 7B69     		ldr	r3, [r7, #20]
 3000 0030 1344     		add	r3, r3, r2
 3001 0032 03F51063 		add	r3, r3, #2304
 3002 0036 1B69     		ldr	r3, [r3, #16]
 3003 0038 3A69     		ldr	r2, [r7, #16]
 3004 003a 5101     		lsls	r1, r2, #5
 3005 003c 7A69     		ldr	r2, [r7, #20]
 3006 003e 0A44     		add	r2, r2, r1
 3007 0040 02F51062 		add	r2, r2, #2304
 3008 0044 23F0FF53 		bic	r3, r3, #534773760
 3009 0048 23F4C013 		bic	r3, r3, #1572864
 3010 004c 1361     		str	r3, [r2, #16]
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3011              		.loc 1 921 34
 3012 004e 3B69     		ldr	r3, [r7, #16]
 3013 0050 5A01     		lsls	r2, r3, #5
 3014 0052 7B69     		ldr	r3, [r7, #20]
 3015 0054 1344     		add	r3, r3, r2
 3016 0056 03F51063 		add	r3, r3, #2304
 3017 005a 1B69     		ldr	r3, [r3, #16]
 3018 005c 3A69     		ldr	r2, [r7, #16]
 3019 005e 5101     		lsls	r1, r2, #5
 3020 0060 7A69     		ldr	r2, [r7, #20]
 3021 0062 0A44     		add	r2, r2, r1
 3022 0064 02F51062 		add	r2, r2, #2304
 3023 0068 43F40023 		orr	r3, r3, #524288
 3024 006c 1361     		str	r3, [r2, #16]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
ARM GAS  /tmp/cc1ThuXR.s 			page 70


 3025              		.loc 1 922 34
 3026 006e 3B69     		ldr	r3, [r7, #16]
 3027 0070 5A01     		lsls	r2, r3, #5
 3028 0072 7B69     		ldr	r3, [r7, #20]
 3029 0074 1344     		add	r3, r3, r2
 3030 0076 03F51063 		add	r3, r3, #2304
 3031 007a 1B69     		ldr	r3, [r3, #16]
 3032 007c 3A69     		ldr	r2, [r7, #16]
 3033 007e 5101     		lsls	r1, r2, #5
 3034 0080 7A69     		ldr	r2, [r7, #20]
 3035 0082 0A44     		add	r2, r2, r1
 3036 0084 02F51062 		add	r2, r2, #2304
 3037 0088 DB0C     		lsrs	r3, r3, #19
 3038 008a DB04     		lsls	r3, r3, #19
 3039 008c 1361     		str	r3, [r2, #16]
 3040 008e 4EE0     		b	.L136
 3041              	.L135:
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3042              		.loc 1 931 34
 3043 0090 3B69     		ldr	r3, [r7, #16]
 3044 0092 5A01     		lsls	r2, r3, #5
 3045 0094 7B69     		ldr	r3, [r7, #20]
 3046 0096 1344     		add	r3, r3, r2
 3047 0098 03F51063 		add	r3, r3, #2304
 3048 009c 1B69     		ldr	r3, [r3, #16]
 3049 009e 3A69     		ldr	r2, [r7, #16]
 3050 00a0 5101     		lsls	r1, r2, #5
 3051 00a2 7A69     		ldr	r2, [r7, #20]
 3052 00a4 0A44     		add	r2, r2, r1
 3053 00a6 02F51062 		add	r2, r2, #2304
 3054 00aa DB0C     		lsrs	r3, r3, #19
 3055 00ac DB04     		lsls	r3, r3, #19
 3056 00ae 1361     		str	r3, [r2, #16]
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3057              		.loc 1 932 34
 3058 00b0 3B69     		ldr	r3, [r7, #16]
 3059 00b2 5A01     		lsls	r2, r3, #5
 3060 00b4 7B69     		ldr	r3, [r7, #20]
 3061 00b6 1344     		add	r3, r3, r2
 3062 00b8 03F51063 		add	r3, r3, #2304
 3063 00bc 1B69     		ldr	r3, [r3, #16]
 3064 00be 3A69     		ldr	r2, [r7, #16]
 3065 00c0 5101     		lsls	r1, r2, #5
 3066 00c2 7A69     		ldr	r2, [r7, #20]
 3067 00c4 0A44     		add	r2, r2, r1
 3068 00c6 02F51062 		add	r2, r2, #2304
 3069 00ca 23F0FF53 		bic	r3, r3, #534773760
 3070 00ce 23F4C013 		bic	r3, r3, #1572864
 3071 00d2 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 71


 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 3072              		.loc 1 934 13
 3073 00d4 BB68     		ldr	r3, [r7, #8]
 3074 00d6 9A69     		ldr	r2, [r3, #24]
 3075              		.loc 1 934 28
 3076 00d8 BB68     		ldr	r3, [r7, #8]
 3077 00da DB68     		ldr	r3, [r3, #12]
 3078              		.loc 1 934 10
 3079 00dc 9A42     		cmp	r2, r3
 3080 00de 03D9     		bls	.L137
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 3081              		.loc 1 936 26
 3082 00e0 BB68     		ldr	r3, [r7, #8]
 3083 00e2 DA68     		ldr	r2, [r3, #12]
 3084              		.loc 1 936 22
 3085 00e4 BB68     		ldr	r3, [r7, #8]
 3086 00e6 9A61     		str	r2, [r3, #24]
 3087              	.L137:
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3088              		.loc 1 938 34
 3089 00e8 3B69     		ldr	r3, [r7, #16]
 3090 00ea 5A01     		lsls	r2, r3, #5
 3091 00ec 7B69     		ldr	r3, [r7, #20]
 3092 00ee 1344     		add	r3, r3, r2
 3093 00f0 03F51063 		add	r3, r3, #2304
 3094 00f4 1B69     		ldr	r3, [r3, #16]
 3095 00f6 3A69     		ldr	r2, [r7, #16]
 3096 00f8 5101     		lsls	r1, r2, #5
 3097 00fa 7A69     		ldr	r2, [r7, #20]
 3098 00fc 0A44     		add	r2, r2, r1
 3099 00fe 02F51062 		add	r2, r2, #2304
 3100 0102 43F40023 		orr	r3, r3, #524288
 3101 0106 1361     		str	r3, [r2, #16]
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 3102              		.loc 1 939 34
 3103 0108 3B69     		ldr	r3, [r7, #16]
 3104 010a 5A01     		lsls	r2, r3, #5
 3105 010c 7B69     		ldr	r3, [r7, #20]
 3106 010e 1344     		add	r3, r3, r2
 3107 0110 03F51063 		add	r3, r3, #2304
 3108 0114 1A69     		ldr	r2, [r3, #16]
 3109              		.loc 1 939 66
 3110 0116 BB68     		ldr	r3, [r7, #8]
 3111 0118 9B69     		ldr	r3, [r3, #24]
 3112              		.loc 1 939 62
 3113 011a C3F31203 		ubfx	r3, r3, #0, #19
 3114              		.loc 1 939 34
 3115 011e 3969     		ldr	r1, [r7, #16]
 3116 0120 4801     		lsls	r0, r1, #5
 3117 0122 7969     		ldr	r1, [r7, #20]
 3118 0124 0144     		add	r1, r1, r0
 3119 0126 01F51061 		add	r1, r1, #2304
 3120 012a 1343     		orrs	r3, r3, r2
 3121 012c 0B61     		str	r3, [r1, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 72


 3122              	.L136:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3123              		.loc 1 942 8
 3124 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3125 0130 012B     		cmp	r3, #1
 3126 0132 1ED1     		bne	.L138
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 3127              		.loc 1 944 23
 3128 0134 BB68     		ldr	r3, [r7, #8]
 3129 0136 5B69     		ldr	r3, [r3, #20]
 3130              		.loc 1 944 10
 3131 0138 002B     		cmp	r3, #0
 3132 013a 09D0     		beq	.L139
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 3133              		.loc 1 946 9
 3134 013c 3B69     		ldr	r3, [r7, #16]
 3135 013e 5A01     		lsls	r2, r3, #5
 3136 0140 7B69     		ldr	r3, [r7, #20]
 3137 0142 1344     		add	r3, r3, r2
 3138 0144 03F51063 		add	r3, r3, #2304
 3139 0148 1A46     		mov	r2, r3
 3140              		.loc 1 946 50
 3141 014a BB68     		ldr	r3, [r7, #8]
 3142 014c 5B69     		ldr	r3, [r3, #20]
 3143              		.loc 1 946 35
 3144 014e 5361     		str	r3, [r2, #20]
 3145              	.L139:
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3146              		.loc 1 950 33
 3147 0150 3B69     		ldr	r3, [r7, #16]
 3148 0152 5A01     		lsls	r2, r3, #5
 3149 0154 7B69     		ldr	r3, [r7, #20]
 3150 0156 1344     		add	r3, r3, r2
 3151 0158 03F51063 		add	r3, r3, #2304
 3152 015c 1B68     		ldr	r3, [r3]
 3153 015e 3A69     		ldr	r2, [r7, #16]
 3154 0160 5101     		lsls	r1, r2, #5
 3155 0162 7A69     		ldr	r2, [r7, #20]
 3156 0164 0A44     		add	r2, r2, r1
 3157 0166 02F51062 		add	r2, r2, #2304
 3158 016a 43F00443 		orr	r3, r3, #-2080374784
 3159 016e 1360     		str	r3, [r2]
 3160 0170 97E0     		b	.L140
 3161              	.L138:
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3162              		.loc 1 955 33
ARM GAS  /tmp/cc1ThuXR.s 			page 73


 3163 0172 3B69     		ldr	r3, [r7, #16]
 3164 0174 5A01     		lsls	r2, r3, #5
 3165 0176 7B69     		ldr	r3, [r7, #20]
 3166 0178 1344     		add	r3, r3, r2
 3167 017a 03F51063 		add	r3, r3, #2304
 3168 017e 1B68     		ldr	r3, [r3]
 3169 0180 3A69     		ldr	r2, [r7, #16]
 3170 0182 5101     		lsls	r1, r2, #5
 3171 0184 7A69     		ldr	r2, [r7, #20]
 3172 0186 0A44     		add	r2, r2, r1
 3173 0188 02F51062 		add	r2, r2, #2304
 3174 018c 43F00443 		orr	r3, r3, #-2080374784
 3175 0190 1360     		str	r3, [r2]
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 3176              		.loc 1 958 13
 3177 0192 BB68     		ldr	r3, [r7, #8]
 3178 0194 9B69     		ldr	r3, [r3, #24]
 3179              		.loc 1 958 10
 3180 0196 002B     		cmp	r3, #0
 3181 0198 00F08380 		beq	.L140
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 3182              		.loc 1 960 33
 3183 019c 7B69     		ldr	r3, [r7, #20]
 3184 019e 03F50063 		add	r3, r3, #2048
 3185 01a2 5A6B     		ldr	r2, [r3, #52]
 3186              		.loc 1 960 46
 3187 01a4 BB68     		ldr	r3, [r7, #8]
 3188 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3189              		.loc 1 960 52
 3190 01a8 03F00F03 		and	r3, r3, #15
 3191              		.loc 1 960 40
 3192 01ac 0121     		movs	r1, #1
 3193 01ae 01FA03F3 		lsl	r3, r1, r3
 3194              		.loc 1 960 33
 3195 01b2 7969     		ldr	r1, [r7, #20]
 3196 01b4 01F50061 		add	r1, r1, #2048
 3197 01b8 1343     		orrs	r3, r3, r2
 3198 01ba 4B63     		str	r3, [r1, #52]
 3199 01bc 71E0     		b	.L140
 3200              	.L134:
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 3201              		.loc 1 970 33
 3202 01be 3B69     		ldr	r3, [r7, #16]
 3203 01c0 5A01     		lsls	r2, r3, #5
 3204 01c2 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc1ThuXR.s 			page 74


 3205 01c4 1344     		add	r3, r3, r2
 3206 01c6 03F53063 		add	r3, r3, #2816
 3207 01ca 1B69     		ldr	r3, [r3, #16]
 3208 01cc 3A69     		ldr	r2, [r7, #16]
 3209 01ce 5101     		lsls	r1, r2, #5
 3210 01d0 7A69     		ldr	r2, [r7, #20]
 3211 01d2 0A44     		add	r2, r2, r1
 3212 01d4 02F53062 		add	r2, r2, #2816
 3213 01d8 DB0C     		lsrs	r3, r3, #19
 3214 01da DB04     		lsls	r3, r3, #19
 3215 01dc 1361     		str	r3, [r2, #16]
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 3216              		.loc 1 971 33
 3217 01de 3B69     		ldr	r3, [r7, #16]
 3218 01e0 5A01     		lsls	r2, r3, #5
 3219 01e2 7B69     		ldr	r3, [r7, #20]
 3220 01e4 1344     		add	r3, r3, r2
 3221 01e6 03F53063 		add	r3, r3, #2816
 3222 01ea 1B69     		ldr	r3, [r3, #16]
 3223 01ec 3A69     		ldr	r2, [r7, #16]
 3224 01ee 5101     		lsls	r1, r2, #5
 3225 01f0 7A69     		ldr	r2, [r7, #20]
 3226 01f2 0A44     		add	r2, r2, r1
 3227 01f4 02F53062 		add	r2, r2, #2816
 3228 01f8 23F0FF53 		bic	r3, r3, #534773760
 3229 01fc 23F4C013 		bic	r3, r3, #1572864
 3230 0200 1361     		str	r3, [r2, #16]
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 3231              		.loc 1 973 11
 3232 0202 BB68     		ldr	r3, [r7, #8]
 3233 0204 9B69     		ldr	r3, [r3, #24]
 3234              		.loc 1 973 8
 3235 0206 002B     		cmp	r3, #0
 3236 0208 03D0     		beq	.L141
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 3237              		.loc 1 975 24
 3238 020a BB68     		ldr	r3, [r7, #8]
 3239 020c DA68     		ldr	r2, [r3, #12]
 3240              		.loc 1 975 20
 3241 020e BB68     		ldr	r3, [r7, #8]
 3242 0210 9A61     		str	r2, [r3, #24]
 3243              	.L141:
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 3244              		.loc 1 979 23
 3245 0212 BB68     		ldr	r3, [r7, #8]
 3246 0214 DA68     		ldr	r2, [r3, #12]
 3247              		.loc 1 979 19
 3248 0216 BB68     		ldr	r3, [r7, #8]
 3249 0218 DA61     		str	r2, [r3, #28]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 3250              		.loc 1 981 33
ARM GAS  /tmp/cc1ThuXR.s 			page 75


 3251 021a 3B69     		ldr	r3, [r7, #16]
 3252 021c 5A01     		lsls	r2, r3, #5
 3253 021e 7B69     		ldr	r3, [r7, #20]
 3254 0220 1344     		add	r3, r3, r2
 3255 0222 03F53063 		add	r3, r3, #2816
 3256 0226 1B69     		ldr	r3, [r3, #16]
 3257 0228 3A69     		ldr	r2, [r7, #16]
 3258 022a 5101     		lsls	r1, r2, #5
 3259 022c 7A69     		ldr	r2, [r7, #20]
 3260 022e 0A44     		add	r2, r2, r1
 3261 0230 02F53062 		add	r2, r2, #2816
 3262 0234 43F40023 		orr	r3, r3, #524288
 3263 0238 1361     		str	r3, [r2, #16]
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 3264              		.loc 1 982 33
 3265 023a 3B69     		ldr	r3, [r7, #16]
 3266 023c 5A01     		lsls	r2, r3, #5
 3267 023e 7B69     		ldr	r3, [r7, #20]
 3268 0240 1344     		add	r3, r3, r2
 3269 0242 03F53063 		add	r3, r3, #2816
 3270 0246 1A69     		ldr	r2, [r3, #16]
 3271              		.loc 1 982 65
 3272 0248 BB68     		ldr	r3, [r7, #8]
 3273 024a DB69     		ldr	r3, [r3, #28]
 3274              		.loc 1 982 61
 3275 024c C3F31203 		ubfx	r3, r3, #0, #19
 3276              		.loc 1 982 33
 3277 0250 3969     		ldr	r1, [r7, #16]
 3278 0252 4801     		lsls	r0, r1, #5
 3279 0254 7969     		ldr	r1, [r7, #20]
 3280 0256 0144     		add	r1, r1, r0
 3281 0258 01F53061 		add	r1, r1, #2816
 3282 025c 1343     		orrs	r3, r3, r2
 3283 025e 0B61     		str	r3, [r1, #16]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3284              		.loc 1 984 8
 3285 0260 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3286 0262 012B     		cmp	r3, #1
 3287 0264 0DD1     		bne	.L142
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 3288              		.loc 1 986 23
 3289 0266 BB68     		ldr	r3, [r7, #8]
 3290 0268 1B69     		ldr	r3, [r3, #16]
 3291              		.loc 1 986 10
 3292 026a 002B     		cmp	r3, #0
 3293 026c 09D0     		beq	.L142
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 3294              		.loc 1 988 51
 3295 026e BB68     		ldr	r3, [r7, #8]
 3296 0270 1969     		ldr	r1, [r3, #16]
 3297              		.loc 1 988 9
 3298 0272 3B69     		ldr	r3, [r7, #16]
 3299 0274 5A01     		lsls	r2, r3, #5
 3300 0276 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc1ThuXR.s 			page 76


 3301 0278 1344     		add	r3, r3, r2
 3302 027a 03F53063 		add	r3, r3, #2816
 3303              		.loc 1 988 38
 3304 027e 0A46     		mov	r2, r1
 3305              		.loc 1 988 36
 3306 0280 5A61     		str	r2, [r3, #20]
 3307              	.L142:
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3308              		.loc 1 993 32
 3309 0282 3B69     		ldr	r3, [r7, #16]
 3310 0284 5A01     		lsls	r2, r3, #5
 3311 0286 7B69     		ldr	r3, [r7, #20]
 3312 0288 1344     		add	r3, r3, r2
 3313 028a 03F53063 		add	r3, r3, #2816
 3314 028e 1B68     		ldr	r3, [r3]
 3315 0290 3A69     		ldr	r2, [r7, #16]
 3316 0292 5101     		lsls	r1, r2, #5
 3317 0294 7A69     		ldr	r2, [r7, #20]
 3318 0296 0A44     		add	r2, r2, r1
 3319 0298 02F53062 		add	r2, r2, #2816
 3320 029c 43F00443 		orr	r3, r3, #-2080374784
 3321 02a0 1360     		str	r3, [r2]
 3322              	.L140:
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3323              		.loc 1 996 10
 3324 02a2 0023     		movs	r3, #0
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3325              		.loc 1 997 1
 3326 02a4 1846     		mov	r0, r3
 3327 02a6 1C37     		adds	r7, r7, #28
 3328              	.LCFI95:
 3329              		.cfi_def_cfa_offset 4
 3330 02a8 BD46     		mov	sp, r7
 3331              	.LCFI96:
 3332              		.cfi_def_cfa_register 13
 3333              		@ sp needed
 3334 02aa 5DF8047B 		ldr	r7, [sp], #4
 3335              	.LCFI97:
 3336              		.cfi_restore 7
 3337              		.cfi_def_cfa_offset 0
 3338 02ae 7047     		bx	lr
 3339              		.cfi_endproc
 3340              	.LFE250:
 3342              		.section	.text.USB_EPStopXfer,"ax",%progbits
 3343              		.align	1
 3344              		.global	USB_EPStopXfer
 3345              		.syntax unified
 3346              		.thumb
 3347              		.thumb_func
 3349              	USB_EPStopXfer:
 3350              	.LFB251:
ARM GAS  /tmp/cc1ThuXR.s 			page 77


 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  USBx  usb device instance
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @retval HAL status
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3351              		.loc 1 1007 1
 3352              		.cfi_startproc
 3353              		@ args = 0, pretend = 0, frame = 24
 3354              		@ frame_needed = 1, uses_anonymous_args = 0
 3355              		@ link register save eliminated.
 3356 0000 80B4     		push	{r7}
 3357              	.LCFI98:
 3358              		.cfi_def_cfa_offset 4
 3359              		.cfi_offset 7, -4
 3360 0002 87B0     		sub	sp, sp, #28
 3361              	.LCFI99:
 3362              		.cfi_def_cfa_offset 32
 3363 0004 00AF     		add	r7, sp, #0
 3364              	.LCFI100:
 3365              		.cfi_def_cfa_register 7
 3366 0006 7860     		str	r0, [r7, #4]
 3367 0008 3960     		str	r1, [r7]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 3368              		.loc 1 1008 17
 3369 000a 0023     		movs	r3, #0
 3370 000c FB60     		str	r3, [r7, #12]
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 3371              		.loc 1 1009 21
 3372 000e 0023     		movs	r3, #0
 3373 0010 FB75     		strb	r3, [r7, #23]
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3374              		.loc 1 1010 12
 3375 0012 7B68     		ldr	r3, [r7, #4]
 3376 0014 3B61     		str	r3, [r7, #16]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3377              		.loc 1 1013 9
 3378 0016 3B68     		ldr	r3, [r7]
 3379 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3380              		.loc 1 1013 6
 3381 001a 012B     		cmp	r3, #1
 3382 001c 4AD1     		bne	.L145
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 3383              		.loc 1 1016 11
 3384 001e 3B68     		ldr	r3, [r7]
 3385 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3386 0022 5A01     		lsls	r2, r3, #5
 3387 0024 3B69     		ldr	r3, [r7, #16]
 3388 0026 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc1ThuXR.s 			page 78


 3389 0028 03F51063 		add	r3, r3, #2304
 3390              		.loc 1 1016 29
 3391 002c 1B68     		ldr	r3, [r3]
 3392              		.loc 1 1016 40
 3393 002e 03F00043 		and	r3, r3, #-2147483648
 3394              		.loc 1 1016 8
 3395 0032 B3F1004F 		cmp	r3, #-2147483648
 3396 0036 40F08680 		bne	.L149
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 3397              		.loc 1 1018 7
 3398 003a 3B68     		ldr	r3, [r7]
 3399 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3400              		.loc 1 1018 35
 3401 003e 5A01     		lsls	r2, r3, #5
 3402 0040 3B69     		ldr	r3, [r7, #16]
 3403 0042 1344     		add	r3, r3, r2
 3404 0044 03F51063 		add	r3, r3, #2304
 3405 0048 1B68     		ldr	r3, [r3]
 3406              		.loc 1 1018 7
 3407 004a 3A68     		ldr	r2, [r7]
 3408 004c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3409              		.loc 1 1018 35
 3410 004e 5101     		lsls	r1, r2, #5
 3411 0050 3A69     		ldr	r2, [r7, #16]
 3412 0052 0A44     		add	r2, r2, r1
 3413 0054 02F51062 		add	r2, r2, #2304
 3414 0058 43F00063 		orr	r3, r3, #134217728
 3415 005c 1360     		str	r3, [r2]
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 3416              		.loc 1 1019 7
 3417 005e 3B68     		ldr	r3, [r7]
 3418 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3419              		.loc 1 1019 35
 3420 0062 5A01     		lsls	r2, r3, #5
 3421 0064 3B69     		ldr	r3, [r7, #16]
 3422 0066 1344     		add	r3, r3, r2
 3423 0068 03F51063 		add	r3, r3, #2304
 3424 006c 1B68     		ldr	r3, [r3]
 3425              		.loc 1 1019 7
 3426 006e 3A68     		ldr	r2, [r7]
 3427 0070 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3428              		.loc 1 1019 35
 3429 0072 5101     		lsls	r1, r2, #5
 3430 0074 3A69     		ldr	r2, [r7, #16]
 3431 0076 0A44     		add	r2, r2, r1
 3432 0078 02F51062 		add	r2, r2, #2304
 3433 007c 43F08043 		orr	r3, r3, #1073741824
 3434 0080 1360     		str	r3, [r2]
 3435              	.L148:
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 3436              		.loc 1 1023 14
 3437 0082 FB68     		ldr	r3, [r7, #12]
 3438 0084 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc1ThuXR.s 			page 79


 3439 0086 FB60     		str	r3, [r7, #12]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3440              		.loc 1 1025 19
 3441 0088 FB68     		ldr	r3, [r7, #12]
 3442              		.loc 1 1025 12
 3443 008a 42F21072 		movw	r2, #10000
 3444 008e 9342     		cmp	r3, r2
 3445 0090 02D9     		bls	.L147
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3446              		.loc 1 1027 15
 3447 0092 0123     		movs	r3, #1
 3448 0094 FB75     		strb	r3, [r7, #23]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3449              		.loc 1 1028 11
 3450 0096 56E0     		b	.L149
 3451              	.L147:
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 3452              		.loc 1 1030 18
 3453 0098 3B68     		ldr	r3, [r7]
 3454 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3455 009c 5A01     		lsls	r2, r3, #5
 3456 009e 3B69     		ldr	r3, [r7, #16]
 3457 00a0 1344     		add	r3, r3, r2
 3458 00a2 03F51063 		add	r3, r3, #2304
 3459              		.loc 1 1030 36
 3460 00a6 1B68     		ldr	r3, [r3]
 3461              		.loc 1 1030 47
 3462 00a8 03F00043 		and	r3, r3, #-2147483648
 3463              		.loc 1 1030 7
 3464 00ac B3F1004F 		cmp	r3, #-2147483648
 3465 00b0 E7D0     		beq	.L148
 3466 00b2 48E0     		b	.L149
 3467              	.L145:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 3468              		.loc 1 1035 11
 3469 00b4 3B68     		ldr	r3, [r7]
 3470 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3471 00b8 5A01     		lsls	r2, r3, #5
 3472 00ba 3B69     		ldr	r3, [r7, #16]
 3473 00bc 1344     		add	r3, r3, r2
 3474 00be 03F53063 		add	r3, r3, #2816
 3475              		.loc 1 1035 30
 3476 00c2 1B68     		ldr	r3, [r3]
 3477              		.loc 1 1035 41
 3478 00c4 03F00043 		and	r3, r3, #-2147483648
 3479              		.loc 1 1035 8
 3480 00c8 B3F1004F 		cmp	r3, #-2147483648
 3481 00cc 3BD1     		bne	.L149
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
ARM GAS  /tmp/cc1ThuXR.s 			page 80


 3482              		.loc 1 1037 7
 3483 00ce 3B68     		ldr	r3, [r7]
 3484 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3485              		.loc 1 1037 36
 3486 00d2 5A01     		lsls	r2, r3, #5
 3487 00d4 3B69     		ldr	r3, [r7, #16]
 3488 00d6 1344     		add	r3, r3, r2
 3489 00d8 03F53063 		add	r3, r3, #2816
 3490 00dc 1B68     		ldr	r3, [r3]
 3491              		.loc 1 1037 7
 3492 00de 3A68     		ldr	r2, [r7]
 3493 00e0 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3494              		.loc 1 1037 36
 3495 00e2 5101     		lsls	r1, r2, #5
 3496 00e4 3A69     		ldr	r2, [r7, #16]
 3497 00e6 0A44     		add	r2, r2, r1
 3498 00e8 02F53062 		add	r2, r2, #2816
 3499 00ec 43F00063 		orr	r3, r3, #134217728
 3500 00f0 1360     		str	r3, [r2]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3501              		.loc 1 1038 7
 3502 00f2 3B68     		ldr	r3, [r7]
 3503 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3504              		.loc 1 1038 36
 3505 00f6 5A01     		lsls	r2, r3, #5
 3506 00f8 3B69     		ldr	r3, [r7, #16]
 3507 00fa 1344     		add	r3, r3, r2
 3508 00fc 03F53063 		add	r3, r3, #2816
 3509 0100 1B68     		ldr	r3, [r3]
 3510              		.loc 1 1038 7
 3511 0102 3A68     		ldr	r2, [r7]
 3512 0104 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3513              		.loc 1 1038 36
 3514 0106 5101     		lsls	r1, r2, #5
 3515 0108 3A69     		ldr	r2, [r7, #16]
 3516 010a 0A44     		add	r2, r2, r1
 3517 010c 02F53062 		add	r2, r2, #2816
 3518 0110 43F08043 		orr	r3, r3, #1073741824
 3519 0114 1360     		str	r3, [r2]
 3520              	.L151:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 3521              		.loc 1 1042 14
 3522 0116 FB68     		ldr	r3, [r7, #12]
 3523 0118 0133     		adds	r3, r3, #1
 3524 011a FB60     		str	r3, [r7, #12]
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3525              		.loc 1 1044 19
 3526 011c FB68     		ldr	r3, [r7, #12]
 3527              		.loc 1 1044 12
 3528 011e 42F21072 		movw	r2, #10000
 3529 0122 9342     		cmp	r3, r2
 3530 0124 02D9     		bls	.L150
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
ARM GAS  /tmp/cc1ThuXR.s 			page 81


1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3531              		.loc 1 1046 15
 3532 0126 0123     		movs	r3, #1
 3533 0128 FB75     		strb	r3, [r7, #23]
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3534              		.loc 1 1047 11
 3535 012a 0CE0     		b	.L149
 3536              	.L150:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 3537              		.loc 1 1049 18
 3538 012c 3B68     		ldr	r3, [r7]
 3539 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3540 0130 5A01     		lsls	r2, r3, #5
 3541 0132 3B69     		ldr	r3, [r7, #16]
 3542 0134 1344     		add	r3, r3, r2
 3543 0136 03F53063 		add	r3, r3, #2816
 3544              		.loc 1 1049 37
 3545 013a 1B68     		ldr	r3, [r3]
 3546              		.loc 1 1049 48
 3547 013c 03F00043 		and	r3, r3, #-2147483648
 3548              		.loc 1 1049 7
 3549 0140 B3F1004F 		cmp	r3, #-2147483648
 3550 0144 E7D0     		beq	.L151
 3551              	.L149:
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3552              		.loc 1 1053 10
 3553 0146 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3554              		.loc 1 1054 1
 3555 0148 1846     		mov	r0, r3
 3556 014a 1C37     		adds	r7, r7, #28
 3557              	.LCFI101:
 3558              		.cfi_def_cfa_offset 4
 3559 014c BD46     		mov	sp, r7
 3560              	.LCFI102:
 3561              		.cfi_def_cfa_register 13
 3562              		@ sp needed
 3563 014e 5DF8047B 		ldr	r7, [sp], #4
 3564              	.LCFI103:
 3565              		.cfi_restore 7
 3566              		.cfi_def_cfa_offset 0
 3567 0152 7047     		bx	lr
 3568              		.cfi_endproc
 3569              	.LFE251:
 3571              		.section	.text.USB_WritePacket,"ax",%progbits
 3572              		.align	1
 3573              		.global	USB_WritePacket
 3574              		.syntax unified
 3575              		.thumb
 3576              		.thumb_func
 3578              	USB_WritePacket:
 3579              	.LFB252:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cc1ThuXR.s 			page 82


1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len, uint8_t dma)
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3580              		.loc 1 1072 1
 3581              		.cfi_startproc
 3582              		@ args = 4, pretend = 0, frame = 32
 3583              		@ frame_needed = 1, uses_anonymous_args = 0
 3584              		@ link register save eliminated.
 3585 0000 80B4     		push	{r7}
 3586              	.LCFI104:
 3587              		.cfi_def_cfa_offset 4
 3588              		.cfi_offset 7, -4
 3589 0002 89B0     		sub	sp, sp, #36
 3590              	.LCFI105:
 3591              		.cfi_def_cfa_offset 40
 3592 0004 00AF     		add	r7, sp, #0
 3593              	.LCFI106:
 3594              		.cfi_def_cfa_register 7
 3595 0006 F860     		str	r0, [r7, #12]
 3596 0008 B960     		str	r1, [r7, #8]
 3597 000a 1146     		mov	r1, r2
 3598 000c 1A46     		mov	r2, r3
 3599 000e 0B46     		mov	r3, r1
 3600 0010 FB71     		strb	r3, [r7, #7]
 3601 0012 1346     		mov	r3, r2	@ movhi
 3602 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3603              		.loc 1 1073 12
 3604 0016 FB68     		ldr	r3, [r7, #12]
 3605 0018 7B61     		str	r3, [r7, #20]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pSrc = src;
 3606              		.loc 1 1074 12
 3607 001a BB68     		ldr	r3, [r7, #8]
 3608 001c FB61     		str	r3, [r7, #28]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 3609              		.loc 1 1078 6
 3610 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 3611 0022 002B     		cmp	r3, #0
 3612 0024 23D1     		bne	.L154
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/cc1ThuXR.s 			page 83


1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 3613              		.loc 1 1080 17
 3614 0026 BB88     		ldrh	r3, [r7, #4]
 3615              		.loc 1 1080 31
 3616 0028 0333     		adds	r3, r3, #3
 3617              		.loc 1 1080 14
 3618 002a 9B08     		lsrs	r3, r3, #2
 3619 002c 3B61     		str	r3, [r7, #16]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3620              		.loc 1 1081 12
 3621 002e 0023     		movs	r3, #0
 3622 0030 BB61     		str	r3, [r7, #24]
 3623              		.loc 1 1081 5
 3624 0032 18E0     		b	.L155
 3625              	.L156:
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3626              		.loc 1 1083 7 discriminator 3
 3627 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3628 0036 1A03     		lsls	r2, r3, #12
 3629 0038 7B69     		ldr	r3, [r7, #20]
 3630 003a 1344     		add	r3, r3, r2
 3631 003c 03F58053 		add	r3, r3, #4096
 3632 0040 1A46     		mov	r2, r3
 3633              		.loc 1 1083 41 discriminator 3
 3634 0042 FB69     		ldr	r3, [r7, #28]
 3635 0044 1B68     		ldr	r3, [r3]	@ unaligned
 3636              		.loc 1 1083 39 discriminator 3
 3637 0046 1360     		str	r3, [r2]
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3638              		.loc 1 1084 11 discriminator 3
 3639 0048 FB69     		ldr	r3, [r7, #28]
 3640 004a 0133     		adds	r3, r3, #1
 3641 004c FB61     		str	r3, [r7, #28]
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3642              		.loc 1 1085 11 discriminator 3
 3643 004e FB69     		ldr	r3, [r7, #28]
 3644 0050 0133     		adds	r3, r3, #1
 3645 0052 FB61     		str	r3, [r7, #28]
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3646              		.loc 1 1086 11 discriminator 3
 3647 0054 FB69     		ldr	r3, [r7, #28]
 3648 0056 0133     		adds	r3, r3, #1
 3649 0058 FB61     		str	r3, [r7, #28]
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3650              		.loc 1 1087 11 discriminator 3
 3651 005a FB69     		ldr	r3, [r7, #28]
 3652 005c 0133     		adds	r3, r3, #1
 3653 005e FB61     		str	r3, [r7, #28]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3654              		.loc 1 1081 33 discriminator 3
 3655 0060 BB69     		ldr	r3, [r7, #24]
 3656 0062 0133     		adds	r3, r3, #1
 3657 0064 BB61     		str	r3, [r7, #24]
 3658              	.L155:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3659              		.loc 1 1081 5 discriminator 1
ARM GAS  /tmp/cc1ThuXR.s 			page 84


 3660 0066 BA69     		ldr	r2, [r7, #24]
 3661 0068 3B69     		ldr	r3, [r7, #16]
 3662 006a 9A42     		cmp	r2, r3
 3663 006c E2D3     		bcc	.L156
 3664              	.L154:
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3665              		.loc 1 1091 10
 3666 006e 0023     		movs	r3, #0
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3667              		.loc 1 1092 1
 3668 0070 1846     		mov	r0, r3
 3669 0072 2437     		adds	r7, r7, #36
 3670              	.LCFI107:
 3671              		.cfi_def_cfa_offset 4
 3672 0074 BD46     		mov	sp, r7
 3673              	.LCFI108:
 3674              		.cfi_def_cfa_register 13
 3675              		@ sp needed
 3676 0076 5DF8047B 		ldr	r7, [sp], #4
 3677              	.LCFI109:
 3678              		.cfi_restore 7
 3679              		.cfi_def_cfa_offset 0
 3680 007a 7047     		bx	lr
 3681              		.cfi_endproc
 3682              	.LFE252:
 3684              		.section	.text.USB_ReadPacket,"ax",%progbits
 3685              		.align	1
 3686              		.global	USB_ReadPacket
 3687              		.syntax unified
 3688              		.thumb
 3689              		.thumb_func
 3691              	USB_ReadPacket:
 3692              	.LFB253:
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3693              		.loc 1 1102 1
 3694              		.cfi_startproc
 3695              		@ args = 0, pretend = 0, frame = 40
 3696              		@ frame_needed = 1, uses_anonymous_args = 0
 3697              		@ link register save eliminated.
 3698 0000 80B4     		push	{r7}
 3699              	.LCFI110:
 3700              		.cfi_def_cfa_offset 4
 3701              		.cfi_offset 7, -4
 3702 0002 8BB0     		sub	sp, sp, #44
 3703              	.LCFI111:
ARM GAS  /tmp/cc1ThuXR.s 			page 85


 3704              		.cfi_def_cfa_offset 48
 3705 0004 00AF     		add	r7, sp, #0
 3706              	.LCFI112:
 3707              		.cfi_def_cfa_register 7
 3708 0006 F860     		str	r0, [r7, #12]
 3709 0008 B960     		str	r1, [r7, #8]
 3710 000a 1346     		mov	r3, r2
 3711 000c FB80     		strh	r3, [r7, #6]	@ movhi
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3712              		.loc 1 1103 12
 3713 000e FB68     		ldr	r3, [r7, #12]
 3714 0010 BB61     		str	r3, [r7, #24]
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pDest = dest;
 3715              		.loc 1 1104 12
 3716 0012 BB68     		ldr	r3, [r7, #8]
 3717 0014 7B62     		str	r3, [r7, #36]
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t pData;
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3718              		.loc 1 1107 37
 3719 0016 FB88     		ldrh	r3, [r7, #6]
 3720 0018 9B08     		lsrs	r3, r3, #2
 3721 001a 9BB2     		uxth	r3, r3
 3722              		.loc 1 1107 12
 3723 001c 7B61     		str	r3, [r7, #20]
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3724              		.loc 1 1108 12
 3725 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3726 0020 03F00303 		and	r3, r3, #3
 3727 0024 FB83     		strh	r3, [r7, #30]	@ movhi
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3728              		.loc 1 1110 10
 3729 0026 0023     		movs	r3, #0
 3730 0028 3B62     		str	r3, [r7, #32]
 3731              		.loc 1 1110 3
 3732 002a 14E0     		b	.L159
 3733              	.L160:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3734              		.loc 1 1112 5 discriminator 3
 3735 002c BB69     		ldr	r3, [r7, #24]
 3736 002e 03F58053 		add	r3, r3, #4096
 3737 0032 1A68     		ldr	r2, [r3]
 3738 0034 7B6A     		ldr	r3, [r7, #36]
 3739 0036 1A60     		str	r2, [r3]	@ unaligned
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3740              		.loc 1 1113 10 discriminator 3
 3741 0038 7B6A     		ldr	r3, [r7, #36]
 3742 003a 0133     		adds	r3, r3, #1
 3743 003c 7B62     		str	r3, [r7, #36]
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3744              		.loc 1 1114 10 discriminator 3
 3745 003e 7B6A     		ldr	r3, [r7, #36]
 3746 0040 0133     		adds	r3, r3, #1
 3747 0042 7B62     		str	r3, [r7, #36]
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
ARM GAS  /tmp/cc1ThuXR.s 			page 86


 3748              		.loc 1 1115 10 discriminator 3
 3749 0044 7B6A     		ldr	r3, [r7, #36]
 3750 0046 0133     		adds	r3, r3, #1
 3751 0048 7B62     		str	r3, [r7, #36]
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3752              		.loc 1 1116 10 discriminator 3
 3753 004a 7B6A     		ldr	r3, [r7, #36]
 3754 004c 0133     		adds	r3, r3, #1
 3755 004e 7B62     		str	r3, [r7, #36]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3756              		.loc 1 1110 31 discriminator 3
 3757 0050 3B6A     		ldr	r3, [r7, #32]
 3758 0052 0133     		adds	r3, r3, #1
 3759 0054 3B62     		str	r3, [r7, #32]
 3760              	.L159:
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3761              		.loc 1 1110 3 discriminator 1
 3762 0056 3A6A     		ldr	r2, [r7, #32]
 3763 0058 7B69     		ldr	r3, [r7, #20]
 3764 005a 9A42     		cmp	r2, r3
 3765 005c E6D3     		bcc	.L160
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3766              		.loc 1 1120 6
 3767 005e FB8B     		ldrh	r3, [r7, #30]
 3768 0060 002B     		cmp	r3, #0
 3769 0062 1ED0     		beq	.L161
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i = 0U;
 3770              		.loc 1 1122 7
 3771 0064 0023     		movs	r3, #0
 3772 0066 3B62     		str	r3, [r7, #32]
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3773              		.loc 1 1123 5
 3774 0068 BB69     		ldr	r3, [r7, #24]
 3775 006a 03F58053 		add	r3, r3, #4096
 3776 006e 1A46     		mov	r2, r3
 3777 0070 07F11003 		add	r3, r7, #16
 3778 0074 1268     		ldr	r2, [r2]
 3779 0076 1A60     		str	r2, [r3]	@ unaligned
 3780              	.L162:
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3781              		.loc 1 1127 43 discriminator 1
 3782 0078 3A69     		ldr	r2, [r7, #16]
 3783              		.loc 1 1127 52 discriminator 1
 3784 007a 3B6A     		ldr	r3, [r7, #32]
 3785 007c DBB2     		uxtb	r3, r3
 3786              		.loc 1 1127 50 discriminator 1
 3787 007e DB00     		lsls	r3, r3, #3
 3788              		.loc 1 1127 43 discriminator 1
 3789 0080 22FA03F3 		lsr	r3, r2, r3
 3790              		.loc 1 1127 27 discriminator 1
ARM GAS  /tmp/cc1ThuXR.s 			page 87


 3791 0084 DAB2     		uxtb	r2, r3
 3792              		.loc 1 1127 25 discriminator 1
 3793 0086 7B6A     		ldr	r3, [r7, #36]
 3794 0088 1A70     		strb	r2, [r3]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       i++;
 3795              		.loc 1 1128 8 discriminator 1
 3796 008a 3B6A     		ldr	r3, [r7, #32]
 3797 008c 0133     		adds	r3, r3, #1
 3798 008e 3B62     		str	r3, [r7, #32]
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pDest++;
 3799              		.loc 1 1129 12 discriminator 1
 3800 0090 7B6A     		ldr	r3, [r7, #36]
 3801 0092 0133     		adds	r3, r3, #1
 3802 0094 7B62     		str	r3, [r7, #36]
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       remaining_bytes--;
 3803              		.loc 1 1130 22 discriminator 1
 3804 0096 FB8B     		ldrh	r3, [r7, #30]
 3805 0098 013B     		subs	r3, r3, #1
 3806 009a FB83     		strh	r3, [r7, #30]	@ movhi
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3807              		.loc 1 1131 5 discriminator 1
 3808 009c FB8B     		ldrh	r3, [r7, #30]
 3809 009e 002B     		cmp	r3, #0
 3810 00a0 EAD1     		bne	.L162
 3811              	.L161:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
 3812              		.loc 1 1134 11
 3813 00a2 7B6A     		ldr	r3, [r7, #36]
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3814              		.loc 1 1135 1
 3815 00a4 1846     		mov	r0, r3
 3816 00a6 2C37     		adds	r7, r7, #44
 3817              	.LCFI113:
 3818              		.cfi_def_cfa_offset 4
 3819 00a8 BD46     		mov	sp, r7
 3820              	.LCFI114:
 3821              		.cfi_def_cfa_register 13
 3822              		@ sp needed
 3823 00aa 5DF8047B 		ldr	r7, [sp], #4
 3824              	.LCFI115:
 3825              		.cfi_restore 7
 3826              		.cfi_def_cfa_offset 0
 3827 00ae 7047     		bx	lr
 3828              		.cfi_endproc
 3829              	.LFE253:
 3831              		.section	.text.USB_EPSetStall,"ax",%progbits
 3832              		.align	1
 3833              		.global	USB_EPSetStall
 3834              		.syntax unified
 3835              		.thumb
 3836              		.thumb_func
 3838              	USB_EPSetStall:
 3839              	.LFB254:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/cc1ThuXR.s 			page 88


1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3840              		.loc 1 1144 1
 3841              		.cfi_startproc
 3842              		@ args = 0, pretend = 0, frame = 16
 3843              		@ frame_needed = 1, uses_anonymous_args = 0
 3844              		@ link register save eliminated.
 3845 0000 80B4     		push	{r7}
 3846              	.LCFI116:
 3847              		.cfi_def_cfa_offset 4
 3848              		.cfi_offset 7, -4
 3849 0002 85B0     		sub	sp, sp, #20
 3850              	.LCFI117:
 3851              		.cfi_def_cfa_offset 24
 3852 0004 00AF     		add	r7, sp, #0
 3853              	.LCFI118:
 3854              		.cfi_def_cfa_register 7
 3855 0006 7860     		str	r0, [r7, #4]
 3856 0008 3960     		str	r1, [r7]
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3857              		.loc 1 1145 12
 3858 000a 7B68     		ldr	r3, [r7, #4]
 3859 000c FB60     		str	r3, [r7, #12]
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3860              		.loc 1 1146 32
 3861 000e 3B68     		ldr	r3, [r7]
 3862 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3863              		.loc 1 1146 12
 3864 0012 BB60     		str	r3, [r7, #8]
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3865              		.loc 1 1148 9
 3866 0014 3B68     		ldr	r3, [r7]
 3867 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3868              		.loc 1 1148 6
 3869 0018 012B     		cmp	r3, #1
 3870 001a 2CD1     		bne	.L165
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3871              		.loc 1 1150 11
 3872 001c BB68     		ldr	r3, [r7, #8]
 3873 001e 5A01     		lsls	r2, r3, #5
 3874 0020 FB68     		ldr	r3, [r7, #12]
 3875 0022 1344     		add	r3, r3, r2
 3876 0024 03F51063 		add	r3, r3, #2304
 3877              		.loc 1 1150 27
 3878 0028 1B68     		ldr	r3, [r3]
 3879              		.loc 1 1150 8
 3880 002a 002B     		cmp	r3, #0
 3881 002c 12DB     		blt	.L166
 3882              		.loc 1 1150 69 discriminator 1
 3883 002e BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 89


 3884 0030 002B     		cmp	r3, #0
 3885 0032 0FD0     		beq	.L166
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3886              		.loc 1 1152 33
 3887 0034 BB68     		ldr	r3, [r7, #8]
 3888 0036 5A01     		lsls	r2, r3, #5
 3889 0038 FB68     		ldr	r3, [r7, #12]
 3890 003a 1344     		add	r3, r3, r2
 3891 003c 03F51063 		add	r3, r3, #2304
 3892 0040 1B68     		ldr	r3, [r3]
 3893 0042 BA68     		ldr	r2, [r7, #8]
 3894 0044 5101     		lsls	r1, r2, #5
 3895 0046 FA68     		ldr	r2, [r7, #12]
 3896 0048 0A44     		add	r2, r2, r1
 3897 004a 02F51062 		add	r2, r2, #2304
 3898 004e 23F08043 		bic	r3, r3, #1073741824
 3899 0052 1360     		str	r3, [r2]
 3900              	.L166:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3901              		.loc 1 1154 31
 3902 0054 BB68     		ldr	r3, [r7, #8]
 3903 0056 5A01     		lsls	r2, r3, #5
 3904 0058 FB68     		ldr	r3, [r7, #12]
 3905 005a 1344     		add	r3, r3, r2
 3906 005c 03F51063 		add	r3, r3, #2304
 3907 0060 1B68     		ldr	r3, [r3]
 3908 0062 BA68     		ldr	r2, [r7, #8]
 3909 0064 5101     		lsls	r1, r2, #5
 3910 0066 FA68     		ldr	r2, [r7, #12]
 3911 0068 0A44     		add	r2, r2, r1
 3912 006a 02F51062 		add	r2, r2, #2304
 3913 006e 43F40013 		orr	r3, r3, #2097152
 3914 0072 1360     		str	r3, [r2]
 3915 0074 2BE0     		b	.L167
 3916              	.L165:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3917              		.loc 1 1158 11
 3918 0076 BB68     		ldr	r3, [r7, #8]
 3919 0078 5A01     		lsls	r2, r3, #5
 3920 007a FB68     		ldr	r3, [r7, #12]
 3921 007c 1344     		add	r3, r3, r2
 3922 007e 03F53063 		add	r3, r3, #2816
 3923              		.loc 1 1158 28
 3924 0082 1B68     		ldr	r3, [r3]
 3925              		.loc 1 1158 8
 3926 0084 002B     		cmp	r3, #0
 3927 0086 12DB     		blt	.L168
 3928              		.loc 1 1158 70 discriminator 1
 3929 0088 BB68     		ldr	r3, [r7, #8]
 3930 008a 002B     		cmp	r3, #0
 3931 008c 0FD0     		beq	.L168
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/cc1ThuXR.s 			page 90


1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3932              		.loc 1 1160 34
 3933 008e BB68     		ldr	r3, [r7, #8]
 3934 0090 5A01     		lsls	r2, r3, #5
 3935 0092 FB68     		ldr	r3, [r7, #12]
 3936 0094 1344     		add	r3, r3, r2
 3937 0096 03F53063 		add	r3, r3, #2816
 3938 009a 1B68     		ldr	r3, [r3]
 3939 009c BA68     		ldr	r2, [r7, #8]
 3940 009e 5101     		lsls	r1, r2, #5
 3941 00a0 FA68     		ldr	r2, [r7, #12]
 3942 00a2 0A44     		add	r2, r2, r1
 3943 00a4 02F53062 		add	r2, r2, #2816
 3944 00a8 23F08043 		bic	r3, r3, #1073741824
 3945 00ac 1360     		str	r3, [r2]
 3946              	.L168:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3947              		.loc 1 1162 32
 3948 00ae BB68     		ldr	r3, [r7, #8]
 3949 00b0 5A01     		lsls	r2, r3, #5
 3950 00b2 FB68     		ldr	r3, [r7, #12]
 3951 00b4 1344     		add	r3, r3, r2
 3952 00b6 03F53063 		add	r3, r3, #2816
 3953 00ba 1B68     		ldr	r3, [r3]
 3954 00bc BA68     		ldr	r2, [r7, #8]
 3955 00be 5101     		lsls	r1, r2, #5
 3956 00c0 FA68     		ldr	r2, [r7, #12]
 3957 00c2 0A44     		add	r2, r2, r1
 3958 00c4 02F53062 		add	r2, r2, #2816
 3959 00c8 43F40013 		orr	r3, r3, #2097152
 3960 00cc 1360     		str	r3, [r2]
 3961              	.L167:
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3962              		.loc 1 1165 10
 3963 00ce 0023     		movs	r3, #0
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3964              		.loc 1 1166 1
 3965 00d0 1846     		mov	r0, r3
 3966 00d2 1437     		adds	r7, r7, #20
 3967              	.LCFI119:
 3968              		.cfi_def_cfa_offset 4
 3969 00d4 BD46     		mov	sp, r7
 3970              	.LCFI120:
 3971              		.cfi_def_cfa_register 13
 3972              		@ sp needed
 3973 00d6 5DF8047B 		ldr	r7, [sp], #4
 3974              	.LCFI121:
 3975              		.cfi_restore 7
 3976              		.cfi_def_cfa_offset 0
 3977 00da 7047     		bx	lr
 3978              		.cfi_endproc
 3979              	.LFE254:
 3981              		.section	.text.USB_EPClearStall,"ax",%progbits
 3982              		.align	1
ARM GAS  /tmp/cc1ThuXR.s 			page 91


 3983              		.global	USB_EPClearStall
 3984              		.syntax unified
 3985              		.thumb
 3986              		.thumb_func
 3988              	USB_EPClearStall:
 3989              	.LFB255:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3990              		.loc 1 1175 1
 3991              		.cfi_startproc
 3992              		@ args = 0, pretend = 0, frame = 16
 3993              		@ frame_needed = 1, uses_anonymous_args = 0
 3994              		@ link register save eliminated.
 3995 0000 80B4     		push	{r7}
 3996              	.LCFI122:
 3997              		.cfi_def_cfa_offset 4
 3998              		.cfi_offset 7, -4
 3999 0002 85B0     		sub	sp, sp, #20
 4000              	.LCFI123:
 4001              		.cfi_def_cfa_offset 24
 4002 0004 00AF     		add	r7, sp, #0
 4003              	.LCFI124:
 4004              		.cfi_def_cfa_register 7
 4005 0006 7860     		str	r0, [r7, #4]
 4006 0008 3960     		str	r1, [r7]
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4007              		.loc 1 1176 12
 4008 000a 7B68     		ldr	r3, [r7, #4]
 4009 000c FB60     		str	r3, [r7, #12]
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 4010              		.loc 1 1177 32
 4011 000e 3B68     		ldr	r3, [r7]
 4012 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4013              		.loc 1 1177 12
 4014 0012 BB60     		str	r3, [r7, #8]
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 4015              		.loc 1 1179 9
 4016 0014 3B68     		ldr	r3, [r7]
 4017 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4018              		.loc 1 1179 6
 4019 0018 012B     		cmp	r3, #1
 4020 001a 28D1     		bne	.L171
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 4021              		.loc 1 1181 31
 4022 001c BB68     		ldr	r3, [r7, #8]
 4023 001e 5A01     		lsls	r2, r3, #5
 4024 0020 FB68     		ldr	r3, [r7, #12]
 4025 0022 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc1ThuXR.s 			page 92


 4026 0024 03F51063 		add	r3, r3, #2304
 4027 0028 1B68     		ldr	r3, [r3]
 4028 002a BA68     		ldr	r2, [r7, #8]
 4029 002c 5101     		lsls	r1, r2, #5
 4030 002e FA68     		ldr	r2, [r7, #12]
 4031 0030 0A44     		add	r2, r2, r1
 4032 0032 02F51062 		add	r2, r2, #2304
 4033 0036 23F40013 		bic	r3, r3, #2097152
 4034 003a 1360     		str	r3, [r2]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4035              		.loc 1 1182 12
 4036 003c 3B68     		ldr	r3, [r7]
 4037 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4038              		.loc 1 1182 8
 4039 0040 032B     		cmp	r3, #3
 4040 0042 03D0     		beq	.L172
 4041              		.loc 1 1182 42 discriminator 1
 4042 0044 3B68     		ldr	r3, [r7]
 4043 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4044              		.loc 1 1182 36 discriminator 1
 4045 0048 022B     		cmp	r3, #2
 4046 004a 38D1     		bne	.L173
 4047              	.L172:
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4048              		.loc 1 1184 33
 4049 004c BB68     		ldr	r3, [r7, #8]
 4050 004e 5A01     		lsls	r2, r3, #5
 4051 0050 FB68     		ldr	r3, [r7, #12]
 4052 0052 1344     		add	r3, r3, r2
 4053 0054 03F51063 		add	r3, r3, #2304
 4054 0058 1B68     		ldr	r3, [r3]
 4055 005a BA68     		ldr	r2, [r7, #8]
 4056 005c 5101     		lsls	r1, r2, #5
 4057 005e FA68     		ldr	r2, [r7, #12]
 4058 0060 0A44     		add	r2, r2, r1
 4059 0062 02F51062 		add	r2, r2, #2304
 4060 0066 43F08053 		orr	r3, r3, #268435456
 4061 006a 1360     		str	r3, [r2]
 4062 006c 27E0     		b	.L173
 4063              	.L171:
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 4064              		.loc 1 1189 32
 4065 006e BB68     		ldr	r3, [r7, #8]
 4066 0070 5A01     		lsls	r2, r3, #5
 4067 0072 FB68     		ldr	r3, [r7, #12]
 4068 0074 1344     		add	r3, r3, r2
 4069 0076 03F53063 		add	r3, r3, #2816
 4070 007a 1B68     		ldr	r3, [r3]
 4071 007c BA68     		ldr	r2, [r7, #8]
 4072 007e 5101     		lsls	r1, r2, #5
 4073 0080 FA68     		ldr	r2, [r7, #12]
 4074 0082 0A44     		add	r2, r2, r1
ARM GAS  /tmp/cc1ThuXR.s 			page 93


 4075 0084 02F53062 		add	r2, r2, #2816
 4076 0088 23F40013 		bic	r3, r3, #2097152
 4077 008c 1360     		str	r3, [r2]
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4078              		.loc 1 1190 12
 4079 008e 3B68     		ldr	r3, [r7]
 4080 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4081              		.loc 1 1190 8
 4082 0092 032B     		cmp	r3, #3
 4083 0094 03D0     		beq	.L174
 4084              		.loc 1 1190 42 discriminator 1
 4085 0096 3B68     		ldr	r3, [r7]
 4086 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4087              		.loc 1 1190 36 discriminator 1
 4088 009a 022B     		cmp	r3, #2
 4089 009c 0FD1     		bne	.L173
 4090              	.L174:
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4091              		.loc 1 1192 34
 4092 009e BB68     		ldr	r3, [r7, #8]
 4093 00a0 5A01     		lsls	r2, r3, #5
 4094 00a2 FB68     		ldr	r3, [r7, #12]
 4095 00a4 1344     		add	r3, r3, r2
 4096 00a6 03F53063 		add	r3, r3, #2816
 4097 00aa 1B68     		ldr	r3, [r3]
 4098 00ac BA68     		ldr	r2, [r7, #8]
 4099 00ae 5101     		lsls	r1, r2, #5
 4100 00b0 FA68     		ldr	r2, [r7, #12]
 4101 00b2 0A44     		add	r2, r2, r1
 4102 00b4 02F53062 		add	r2, r2, #2816
 4103 00b8 43F08053 		orr	r3, r3, #268435456
 4104 00bc 1360     		str	r3, [r2]
 4105              	.L173:
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4106              		.loc 1 1195 10
 4107 00be 0023     		movs	r3, #0
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4108              		.loc 1 1196 1
 4109 00c0 1846     		mov	r0, r3
 4110 00c2 1437     		adds	r7, r7, #20
 4111              	.LCFI125:
 4112              		.cfi_def_cfa_offset 4
 4113 00c4 BD46     		mov	sp, r7
 4114              	.LCFI126:
 4115              		.cfi_def_cfa_register 13
 4116              		@ sp needed
 4117 00c6 5DF8047B 		ldr	r7, [sp], #4
 4118              	.LCFI127:
 4119              		.cfi_restore 7
 4120              		.cfi_def_cfa_offset 0
 4121 00ca 7047     		bx	lr
 4122              		.cfi_endproc
 4123              	.LFE255:
 4125              		.section	.text.USB_StopDevice,"ax",%progbits
ARM GAS  /tmp/cc1ThuXR.s 			page 94


 4126              		.align	1
 4127              		.global	USB_StopDevice
 4128              		.syntax unified
 4129              		.thumb
 4130              		.thumb_func
 4132              	USB_StopDevice:
 4133              	.LFB256:
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4134              		.loc 1 1204 1
 4135              		.cfi_startproc
 4136              		@ args = 0, pretend = 0, frame = 24
 4137              		@ frame_needed = 1, uses_anonymous_args = 0
 4138 0000 80B5     		push	{r7, lr}
 4139              	.LCFI128:
 4140              		.cfi_def_cfa_offset 8
 4141              		.cfi_offset 7, -8
 4142              		.cfi_offset 14, -4
 4143 0002 86B0     		sub	sp, sp, #24
 4144              	.LCFI129:
 4145              		.cfi_def_cfa_offset 32
 4146 0004 00AF     		add	r7, sp, #0
 4147              	.LCFI130:
 4148              		.cfi_def_cfa_register 7
 4149 0006 7860     		str	r0, [r7, #4]
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4150              		.loc 1 1206 12
 4151 0008 7B68     		ldr	r3, [r7, #4]
 4152 000a 3B61     		str	r3, [r7, #16]
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 4153              		.loc 1 1210 10
 4154 000c 0023     		movs	r3, #0
 4155 000e 7B61     		str	r3, [r7, #20]
 4156              		.loc 1 1210 3
 4157 0010 16E0     		b	.L177
 4158              	.L178:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 4159              		.loc 1 1212 5 discriminator 3
 4160 0012 7B69     		ldr	r3, [r7, #20]
 4161 0014 5A01     		lsls	r2, r3, #5
 4162 0016 3B69     		ldr	r3, [r7, #16]
 4163 0018 1344     		add	r3, r3, r2
 4164 001a 03F51063 		add	r3, r3, #2304
 4165 001e 1A46     		mov	r2, r3
 4166              		.loc 1 1212 27 discriminator 3
 4167 0020 4FF67F33 		movw	r3, #64383
ARM GAS  /tmp/cc1ThuXR.s 			page 95


 4168 0024 9360     		str	r3, [r2, #8]
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 4169              		.loc 1 1213 5 discriminator 3
 4170 0026 7B69     		ldr	r3, [r7, #20]
 4171 0028 5A01     		lsls	r2, r3, #5
 4172 002a 3B69     		ldr	r3, [r7, #16]
 4173 002c 1344     		add	r3, r3, r2
 4174 002e 03F53063 		add	r3, r3, #2816
 4175 0032 1A46     		mov	r2, r3
 4176              		.loc 1 1213 28 discriminator 3
 4177 0034 4FF67F33 		movw	r3, #64383
 4178 0038 9360     		str	r3, [r2, #8]
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4179              		.loc 1 1210 26 discriminator 3
 4180 003a 7B69     		ldr	r3, [r7, #20]
 4181 003c 0133     		adds	r3, r3, #1
 4182 003e 7B61     		str	r3, [r7, #20]
 4183              	.L177:
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4184              		.loc 1 1210 3 discriminator 1
 4185 0040 7B69     		ldr	r3, [r7, #20]
 4186 0042 0E2B     		cmp	r3, #14
 4187 0044 E5D9     		bls	.L178
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 4188              		.loc 1 1217 3
 4189 0046 3B69     		ldr	r3, [r7, #16]
 4190 0048 03F50063 		add	r3, r3, #2048
 4191 004c 1A46     		mov	r2, r3
 4192              		.loc 1 1217 25
 4193 004e 0023     		movs	r3, #0
 4194 0050 1361     		str	r3, [r2, #16]
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 4195              		.loc 1 1218 3
 4196 0052 3B69     		ldr	r3, [r7, #16]
 4197 0054 03F50063 		add	r3, r3, #2048
 4198 0058 1A46     		mov	r2, r3
 4199              		.loc 1 1218 25
 4200 005a 0023     		movs	r3, #0
 4201 005c 5361     		str	r3, [r2, #20]
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 4202              		.loc 1 1219 3
 4203 005e 3B69     		ldr	r3, [r7, #16]
 4204 0060 03F50063 		add	r3, r3, #2048
 4205 0064 1A46     		mov	r2, r3
 4206              		.loc 1 1219 25
 4207 0066 0023     		movs	r3, #0
 4208 0068 D361     		str	r3, [r2, #28]
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 4209              		.loc 1 1222 9
 4210 006a 7868     		ldr	r0, [r7, #4]
 4211 006c FFF7FEFF 		bl	USB_FlushRxFifo
 4212 0070 0346     		mov	r3, r0
ARM GAS  /tmp/cc1ThuXR.s 			page 96


 4213 0072 FB73     		strb	r3, [r7, #15]
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4214              		.loc 1 1223 6
 4215 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4216 0076 002B     		cmp	r3, #0
 4217 0078 01D0     		beq	.L179
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4218              		.loc 1 1225 12
 4219 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4220 007c 0BE0     		b	.L180
 4221              	.L179:
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 4222              		.loc 1 1228 9
 4223 007e 1021     		movs	r1, #16
 4224 0080 7868     		ldr	r0, [r7, #4]
 4225 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 4226 0086 0346     		mov	r3, r0
 4227 0088 FB73     		strb	r3, [r7, #15]
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4228              		.loc 1 1229 6
 4229 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4230 008c 002B     		cmp	r3, #0
 4231 008e 01D0     		beq	.L181
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4232              		.loc 1 1231 12
 4233 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4234 0092 00E0     		b	.L180
 4235              	.L181:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 4236              		.loc 1 1234 10
 4237 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4238              	.L180:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4239              		.loc 1 1235 1
 4240 0096 1846     		mov	r0, r3
 4241 0098 1837     		adds	r7, r7, #24
 4242              	.LCFI131:
 4243              		.cfi_def_cfa_offset 8
 4244 009a BD46     		mov	sp, r7
 4245              	.LCFI132:
 4246              		.cfi_def_cfa_register 13
 4247              		@ sp needed
 4248 009c 80BD     		pop	{r7, pc}
 4249              		.cfi_endproc
 4250              	.LFE256:
 4252              		.section	.text.USB_SetDevAddress,"ax",%progbits
 4253              		.align	1
 4254              		.global	USB_SetDevAddress
 4255              		.syntax unified
 4256              		.thumb
 4257              		.thumb_func
ARM GAS  /tmp/cc1ThuXR.s 			page 97


 4259              	USB_SetDevAddress:
 4260              	.LFB257:
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4261              		.loc 1 1245 1
 4262              		.cfi_startproc
 4263              		@ args = 0, pretend = 0, frame = 16
 4264              		@ frame_needed = 1, uses_anonymous_args = 0
 4265              		@ link register save eliminated.
 4266 0000 80B4     		push	{r7}
 4267              	.LCFI133:
 4268              		.cfi_def_cfa_offset 4
 4269              		.cfi_offset 7, -4
 4270 0002 85B0     		sub	sp, sp, #20
 4271              	.LCFI134:
 4272              		.cfi_def_cfa_offset 24
 4273 0004 00AF     		add	r7, sp, #0
 4274              	.LCFI135:
 4275              		.cfi_def_cfa_register 7
 4276 0006 7860     		str	r0, [r7, #4]
 4277 0008 0B46     		mov	r3, r1
 4278 000a FB70     		strb	r3, [r7, #3]
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4279              		.loc 1 1246 12
 4280 000c 7B68     		ldr	r3, [r7, #4]
 4281 000e FB60     		str	r3, [r7, #12]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 4282              		.loc 1 1248 21
 4283 0010 FB68     		ldr	r3, [r7, #12]
 4284 0012 03F50063 		add	r3, r3, #2048
 4285 0016 1B68     		ldr	r3, [r3]
 4286 0018 FA68     		ldr	r2, [r7, #12]
 4287 001a 02F50062 		add	r2, r2, #2048
 4288 001e 23F4FE63 		bic	r3, r3, #2032
 4289 0022 1360     		str	r3, [r2]
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 4290              		.loc 1 1249 21
 4291 0024 FB68     		ldr	r3, [r7, #12]
 4292 0026 03F50063 		add	r3, r3, #2048
 4293 002a 1A68     		ldr	r2, [r3]
 4294              		.loc 1 1249 25
 4295 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4296              		.loc 1 1249 43
 4297 002e 1B01     		lsls	r3, r3, #4
 4298              		.loc 1 1249 49
 4299 0030 03F4FE63 		and	r3, r3, #2032
 4300              		.loc 1 1249 21
 4301 0034 F968     		ldr	r1, [r7, #12]
ARM GAS  /tmp/cc1ThuXR.s 			page 98


 4302 0036 01F50061 		add	r1, r1, #2048
 4303 003a 1343     		orrs	r3, r3, r2
 4304 003c 0B60     		str	r3, [r1]
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4305              		.loc 1 1251 10
 4306 003e 0023     		movs	r3, #0
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4307              		.loc 1 1252 1
 4308 0040 1846     		mov	r0, r3
 4309 0042 1437     		adds	r7, r7, #20
 4310              	.LCFI136:
 4311              		.cfi_def_cfa_offset 4
 4312 0044 BD46     		mov	sp, r7
 4313              	.LCFI137:
 4314              		.cfi_def_cfa_register 13
 4315              		@ sp needed
 4316 0046 5DF8047B 		ldr	r7, [sp], #4
 4317              	.LCFI138:
 4318              		.cfi_restore 7
 4319              		.cfi_def_cfa_offset 0
 4320 004a 7047     		bx	lr
 4321              		.cfi_endproc
 4322              	.LFE257:
 4324              		.section	.text.USB_DevConnect,"ax",%progbits
 4325              		.align	1
 4326              		.global	USB_DevConnect
 4327              		.syntax unified
 4328              		.thumb
 4329              		.thumb_func
 4331              	USB_DevConnect:
 4332              	.LFB258:
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4333              		.loc 1 1260 1
 4334              		.cfi_startproc
 4335              		@ args = 0, pretend = 0, frame = 16
 4336              		@ frame_needed = 1, uses_anonymous_args = 0
 4337              		@ link register save eliminated.
 4338 0000 80B4     		push	{r7}
 4339              	.LCFI139:
 4340              		.cfi_def_cfa_offset 4
 4341              		.cfi_offset 7, -4
 4342 0002 85B0     		sub	sp, sp, #20
 4343              	.LCFI140:
 4344              		.cfi_def_cfa_offset 24
 4345 0004 00AF     		add	r7, sp, #0
 4346              	.LCFI141:
 4347              		.cfi_def_cfa_register 7
 4348 0006 7860     		str	r0, [r7, #4]
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /tmp/cc1ThuXR.s 			page 99


 4349              		.loc 1 1261 12
 4350 0008 7B68     		ldr	r3, [r7, #4]
 4351 000a FB60     		str	r3, [r7, #12]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4352              		.loc 1 1264 16
 4353 000c FB68     		ldr	r3, [r7, #12]
 4354 000e 03F56063 		add	r3, r3, #3584
 4355 0012 1B68     		ldr	r3, [r3]
 4356 0014 FA68     		ldr	r2, [r7, #12]
 4357 0016 02F56062 		add	r2, r2, #3584
 4358 001a 23F00303 		bic	r3, r3, #3
 4359 001e 1360     		str	r3, [r2]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 4360              		.loc 1 1266 21
 4361 0020 FB68     		ldr	r3, [r7, #12]
 4362 0022 03F50063 		add	r3, r3, #2048
 4363 0026 5B68     		ldr	r3, [r3, #4]
 4364 0028 FA68     		ldr	r2, [r7, #12]
 4365 002a 02F50062 		add	r2, r2, #2048
 4366 002e 23F00203 		bic	r3, r3, #2
 4367 0032 5360     		str	r3, [r2, #4]
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4368              		.loc 1 1268 10
 4369 0034 0023     		movs	r3, #0
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4370              		.loc 1 1269 1
 4371 0036 1846     		mov	r0, r3
 4372 0038 1437     		adds	r7, r7, #20
 4373              	.LCFI142:
 4374              		.cfi_def_cfa_offset 4
 4375 003a BD46     		mov	sp, r7
 4376              	.LCFI143:
 4377              		.cfi_def_cfa_register 13
 4378              		@ sp needed
 4379 003c 5DF8047B 		ldr	r7, [sp], #4
 4380              	.LCFI144:
 4381              		.cfi_restore 7
 4382              		.cfi_def_cfa_offset 0
 4383 0040 7047     		bx	lr
 4384              		.cfi_endproc
 4385              	.LFE258:
 4387              		.section	.text.USB_DevDisconnect,"ax",%progbits
 4388              		.align	1
 4389              		.global	USB_DevDisconnect
 4390              		.syntax unified
 4391              		.thumb
 4392              		.thumb_func
 4394              	USB_DevDisconnect:
 4395              	.LFB259:
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/cc1ThuXR.s 			page 100


1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4396              		.loc 1 1277 1
 4397              		.cfi_startproc
 4398              		@ args = 0, pretend = 0, frame = 16
 4399              		@ frame_needed = 1, uses_anonymous_args = 0
 4400              		@ link register save eliminated.
 4401 0000 80B4     		push	{r7}
 4402              	.LCFI145:
 4403              		.cfi_def_cfa_offset 4
 4404              		.cfi_offset 7, -4
 4405 0002 85B0     		sub	sp, sp, #20
 4406              	.LCFI146:
 4407              		.cfi_def_cfa_offset 24
 4408 0004 00AF     		add	r7, sp, #0
 4409              	.LCFI147:
 4410              		.cfi_def_cfa_register 7
 4411 0006 7860     		str	r0, [r7, #4]
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4412              		.loc 1 1278 12
 4413 0008 7B68     		ldr	r3, [r7, #4]
 4414 000a FB60     		str	r3, [r7, #12]
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4415              		.loc 1 1281 16
 4416 000c FB68     		ldr	r3, [r7, #12]
 4417 000e 03F56063 		add	r3, r3, #3584
 4418 0012 1B68     		ldr	r3, [r3]
 4419 0014 FA68     		ldr	r2, [r7, #12]
 4420 0016 02F56062 		add	r2, r2, #3584
 4421 001a 23F00303 		bic	r3, r3, #3
 4422 001e 1360     		str	r3, [r2]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 4423              		.loc 1 1283 21
 4424 0020 FB68     		ldr	r3, [r7, #12]
 4425 0022 03F50063 		add	r3, r3, #2048
 4426 0026 5B68     		ldr	r3, [r3, #4]
 4427 0028 FA68     		ldr	r2, [r7, #12]
 4428 002a 02F50062 		add	r2, r2, #2048
 4429 002e 43F00203 		orr	r3, r3, #2
 4430 0032 5360     		str	r3, [r2, #4]
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4431              		.loc 1 1285 10
 4432 0034 0023     		movs	r3, #0
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4433              		.loc 1 1286 1
 4434 0036 1846     		mov	r0, r3
 4435 0038 1437     		adds	r7, r7, #20
 4436              	.LCFI148:
 4437              		.cfi_def_cfa_offset 4
 4438 003a BD46     		mov	sp, r7
 4439              	.LCFI149:
ARM GAS  /tmp/cc1ThuXR.s 			page 101


 4440              		.cfi_def_cfa_register 13
 4441              		@ sp needed
 4442 003c 5DF8047B 		ldr	r7, [sp], #4
 4443              	.LCFI150:
 4444              		.cfi_restore 7
 4445              		.cfi_def_cfa_offset 0
 4446 0040 7047     		bx	lr
 4447              		.cfi_endproc
 4448              	.LFE259:
 4450              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4451              		.align	1
 4452              		.global	USB_ReadInterrupts
 4453              		.syntax unified
 4454              		.thumb
 4455              		.thumb_func
 4457              	USB_ReadInterrupts:
 4458              	.LFB260:
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4459              		.loc 1 1294 1
 4460              		.cfi_startproc
 4461              		@ args = 0, pretend = 0, frame = 16
 4462              		@ frame_needed = 1, uses_anonymous_args = 0
 4463              		@ link register save eliminated.
 4464 0000 80B4     		push	{r7}
 4465              	.LCFI151:
 4466              		.cfi_def_cfa_offset 4
 4467              		.cfi_offset 7, -4
 4468 0002 85B0     		sub	sp, sp, #20
 4469              	.LCFI152:
 4470              		.cfi_def_cfa_offset 24
 4471 0004 00AF     		add	r7, sp, #0
 4472              	.LCFI153:
 4473              		.cfi_def_cfa_register 7
 4474 0006 7860     		str	r0, [r7, #4]
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4475              		.loc 1 1297 10
 4476 0008 7B68     		ldr	r3, [r7, #4]
 4477 000a 5B69     		ldr	r3, [r3, #20]
 4478 000c FB60     		str	r3, [r7, #12]
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4479              		.loc 1 1298 17
 4480 000e 7B68     		ldr	r3, [r7, #4]
 4481 0010 9B69     		ldr	r3, [r3, #24]
 4482              		.loc 1 1298 10
 4483 0012 FA68     		ldr	r2, [r7, #12]
 4484 0014 1340     		ands	r3, r3, r2
 4485 0016 FB60     		str	r3, [r7, #12]
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cc1ThuXR.s 			page 102


1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4486              		.loc 1 1300 10
 4487 0018 FB68     		ldr	r3, [r7, #12]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4488              		.loc 1 1301 1
 4489 001a 1846     		mov	r0, r3
 4490 001c 1437     		adds	r7, r7, #20
 4491              	.LCFI154:
 4492              		.cfi_def_cfa_offset 4
 4493 001e BD46     		mov	sp, r7
 4494              	.LCFI155:
 4495              		.cfi_def_cfa_register 13
 4496              		@ sp needed
 4497 0020 5DF8047B 		ldr	r7, [sp], #4
 4498              	.LCFI156:
 4499              		.cfi_restore 7
 4500              		.cfi_def_cfa_offset 0
 4501 0024 7047     		bx	lr
 4502              		.cfi_endproc
 4503              	.LFE260:
 4505              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4506              		.align	1
 4507              		.global	USB_ReadDevAllOutEpInterrupt
 4508              		.syntax unified
 4509              		.thumb
 4510              		.thumb_func
 4512              	USB_ReadDevAllOutEpInterrupt:
 4513              	.LFB261:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4514              		.loc 1 1309 1
 4515              		.cfi_startproc
 4516              		@ args = 0, pretend = 0, frame = 16
 4517              		@ frame_needed = 1, uses_anonymous_args = 0
 4518              		@ link register save eliminated.
 4519 0000 80B4     		push	{r7}
 4520              	.LCFI157:
 4521              		.cfi_def_cfa_offset 4
 4522              		.cfi_offset 7, -4
 4523 0002 85B0     		sub	sp, sp, #20
 4524              	.LCFI158:
 4525              		.cfi_def_cfa_offset 24
 4526 0004 00AF     		add	r7, sp, #0
 4527              	.LCFI159:
 4528              		.cfi_def_cfa_register 7
 4529 0006 7860     		str	r0, [r7, #4]
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4530              		.loc 1 1310 12
 4531 0008 7B68     		ldr	r3, [r7, #4]
 4532 000a FB60     		str	r3, [r7, #12]
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
ARM GAS  /tmp/cc1ThuXR.s 			page 103


1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4533              		.loc 1 1313 13
 4534 000c FB68     		ldr	r3, [r7, #12]
 4535 000e 03F50063 		add	r3, r3, #2048
 4536              		.loc 1 1313 11
 4537 0012 9B69     		ldr	r3, [r3, #24]
 4538 0014 BB60     		str	r3, [r7, #8]
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4539              		.loc 1 1314 13
 4540 0016 FB68     		ldr	r3, [r7, #12]
 4541 0018 03F50063 		add	r3, r3, #2048
 4542              		.loc 1 1314 24
 4543 001c DB69     		ldr	r3, [r3, #28]
 4544              		.loc 1 1314 10
 4545 001e BA68     		ldr	r2, [r7, #8]
 4546 0020 1340     		ands	r3, r3, r2
 4547 0022 BB60     		str	r3, [r7, #8]
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4548              		.loc 1 1316 34
 4549 0024 BB68     		ldr	r3, [r7, #8]
 4550 0026 1B0C     		lsrs	r3, r3, #16
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4551              		.loc 1 1317 1
 4552 0028 1846     		mov	r0, r3
 4553 002a 1437     		adds	r7, r7, #20
 4554              	.LCFI160:
 4555              		.cfi_def_cfa_offset 4
 4556 002c BD46     		mov	sp, r7
 4557              	.LCFI161:
 4558              		.cfi_def_cfa_register 13
 4559              		@ sp needed
 4560 002e 5DF8047B 		ldr	r7, [sp], #4
 4561              	.LCFI162:
 4562              		.cfi_restore 7
 4563              		.cfi_def_cfa_offset 0
 4564 0032 7047     		bx	lr
 4565              		.cfi_endproc
 4566              	.LFE261:
 4568              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4569              		.align	1
 4570              		.global	USB_ReadDevAllInEpInterrupt
 4571              		.syntax unified
 4572              		.thumb
 4573              		.thumb_func
 4575              	USB_ReadDevAllInEpInterrupt:
 4576              	.LFB262:
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4577              		.loc 1 1325 1
ARM GAS  /tmp/cc1ThuXR.s 			page 104


 4578              		.cfi_startproc
 4579              		@ args = 0, pretend = 0, frame = 16
 4580              		@ frame_needed = 1, uses_anonymous_args = 0
 4581              		@ link register save eliminated.
 4582 0000 80B4     		push	{r7}
 4583              	.LCFI163:
 4584              		.cfi_def_cfa_offset 4
 4585              		.cfi_offset 7, -4
 4586 0002 85B0     		sub	sp, sp, #20
 4587              	.LCFI164:
 4588              		.cfi_def_cfa_offset 24
 4589 0004 00AF     		add	r7, sp, #0
 4590              	.LCFI165:
 4591              		.cfi_def_cfa_register 7
 4592 0006 7860     		str	r0, [r7, #4]
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4593              		.loc 1 1326 12
 4594 0008 7B68     		ldr	r3, [r7, #4]
 4595 000a FB60     		str	r3, [r7, #12]
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4596              		.loc 1 1329 13
 4597 000c FB68     		ldr	r3, [r7, #12]
 4598 000e 03F50063 		add	r3, r3, #2048
 4599              		.loc 1 1329 11
 4600 0012 9B69     		ldr	r3, [r3, #24]
 4601 0014 BB60     		str	r3, [r7, #8]
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4602              		.loc 1 1330 13
 4603 0016 FB68     		ldr	r3, [r7, #12]
 4604 0018 03F50063 		add	r3, r3, #2048
 4605              		.loc 1 1330 24
 4606 001c DB69     		ldr	r3, [r3, #28]
 4607              		.loc 1 1330 10
 4608 001e BA68     		ldr	r2, [r7, #8]
 4609 0020 1340     		ands	r3, r3, r2
 4610 0022 BB60     		str	r3, [r7, #8]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4611              		.loc 1 1332 19
 4612 0024 BB68     		ldr	r3, [r7, #8]
 4613 0026 9BB2     		uxth	r3, r3
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4614              		.loc 1 1333 1
 4615 0028 1846     		mov	r0, r3
 4616 002a 1437     		adds	r7, r7, #20
 4617              	.LCFI166:
 4618              		.cfi_def_cfa_offset 4
 4619 002c BD46     		mov	sp, r7
 4620              	.LCFI167:
 4621              		.cfi_def_cfa_register 13
 4622              		@ sp needed
 4623 002e 5DF8047B 		ldr	r7, [sp], #4
 4624              	.LCFI168:
 4625              		.cfi_restore 7
 4626              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/cc1ThuXR.s 			page 105


 4627 0032 7047     		bx	lr
 4628              		.cfi_endproc
 4629              	.LFE262:
 4631              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4632              		.align	1
 4633              		.global	USB_ReadDevOutEPInterrupt
 4634              		.syntax unified
 4635              		.thumb
 4636              		.thumb_func
 4638              	USB_ReadDevOutEPInterrupt:
 4639              	.LFB263:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4640              		.loc 1 1343 1
 4641              		.cfi_startproc
 4642              		@ args = 0, pretend = 0, frame = 16
 4643              		@ frame_needed = 1, uses_anonymous_args = 0
 4644              		@ link register save eliminated.
 4645 0000 80B4     		push	{r7}
 4646              	.LCFI169:
 4647              		.cfi_def_cfa_offset 4
 4648              		.cfi_offset 7, -4
 4649 0002 85B0     		sub	sp, sp, #20
 4650              	.LCFI170:
 4651              		.cfi_def_cfa_offset 24
 4652 0004 00AF     		add	r7, sp, #0
 4653              	.LCFI171:
 4654              		.cfi_def_cfa_register 7
 4655 0006 7860     		str	r0, [r7, #4]
 4656 0008 0B46     		mov	r3, r1
 4657 000a FB70     		strb	r3, [r7, #3]
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4658              		.loc 1 1344 12
 4659 000c 7B68     		ldr	r3, [r7, #4]
 4660 000e FB60     		str	r3, [r7, #12]
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4661              		.loc 1 1347 13
 4662 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4663 0012 5A01     		lsls	r2, r3, #5
 4664 0014 FB68     		ldr	r3, [r7, #12]
 4665 0016 1344     		add	r3, r3, r2
 4666 0018 03F53063 		add	r3, r3, #2816
 4667              		.loc 1 1347 11
 4668 001c 9B68     		ldr	r3, [r3, #8]
 4669 001e BB60     		str	r3, [r7, #8]
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4670              		.loc 1 1348 13
ARM GAS  /tmp/cc1ThuXR.s 			page 106


 4671 0020 FB68     		ldr	r3, [r7, #12]
 4672 0022 03F50063 		add	r3, r3, #2048
 4673              		.loc 1 1348 24
 4674 0026 5B69     		ldr	r3, [r3, #20]
 4675              		.loc 1 1348 10
 4676 0028 BA68     		ldr	r2, [r7, #8]
 4677 002a 1340     		ands	r3, r3, r2
 4678 002c BB60     		str	r3, [r7, #8]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4679              		.loc 1 1350 10
 4680 002e BB68     		ldr	r3, [r7, #8]
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4681              		.loc 1 1351 1
 4682 0030 1846     		mov	r0, r3
 4683 0032 1437     		adds	r7, r7, #20
 4684              	.LCFI172:
 4685              		.cfi_def_cfa_offset 4
 4686 0034 BD46     		mov	sp, r7
 4687              	.LCFI173:
 4688              		.cfi_def_cfa_register 13
 4689              		@ sp needed
 4690 0036 5DF8047B 		ldr	r7, [sp], #4
 4691              	.LCFI174:
 4692              		.cfi_restore 7
 4693              		.cfi_def_cfa_offset 0
 4694 003a 7047     		bx	lr
 4695              		.cfi_endproc
 4696              	.LFE263:
 4698              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4699              		.align	1
 4700              		.global	USB_ReadDevInEPInterrupt
 4701              		.syntax unified
 4702              		.thumb
 4703              		.thumb_func
 4705              	USB_ReadDevInEPInterrupt:
 4706              	.LFB264:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4707              		.loc 1 1361 1
 4708              		.cfi_startproc
 4709              		@ args = 0, pretend = 0, frame = 24
 4710              		@ frame_needed = 1, uses_anonymous_args = 0
 4711              		@ link register save eliminated.
 4712 0000 80B4     		push	{r7}
 4713              	.LCFI175:
 4714              		.cfi_def_cfa_offset 4
 4715              		.cfi_offset 7, -4
 4716 0002 87B0     		sub	sp, sp, #28
ARM GAS  /tmp/cc1ThuXR.s 			page 107


 4717              	.LCFI176:
 4718              		.cfi_def_cfa_offset 32
 4719 0004 00AF     		add	r7, sp, #0
 4720              	.LCFI177:
 4721              		.cfi_def_cfa_register 7
 4722 0006 7860     		str	r0, [r7, #4]
 4723 0008 0B46     		mov	r3, r1
 4724 000a FB70     		strb	r3, [r7, #3]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4725              		.loc 1 1362 12
 4726 000c 7B68     		ldr	r3, [r7, #4]
 4727 000e 7B61     		str	r3, [r7, #20]
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t msk;
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t emp;
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4728              		.loc 1 1367 9
 4729 0010 7B69     		ldr	r3, [r7, #20]
 4730 0012 03F50063 		add	r3, r3, #2048
 4731              		.loc 1 1367 7
 4732 0016 1B69     		ldr	r3, [r3, #16]
 4733 0018 3B61     		str	r3, [r7, #16]
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4734              		.loc 1 1368 9
 4735 001a 7B69     		ldr	r3, [r7, #20]
 4736 001c 03F50063 		add	r3, r3, #2048
 4737              		.loc 1 1368 7
 4738 0020 5B6B     		ldr	r3, [r3, #52]
 4739 0022 FB60     		str	r3, [r7, #12]
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4740              		.loc 1 1369 26
 4741 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4742 0026 03F00F03 		and	r3, r3, #15
 4743              		.loc 1 1369 16
 4744 002a FA68     		ldr	r2, [r7, #12]
 4745 002c 22FA03F3 		lsr	r3, r2, r3
 4746              		.loc 1 1369 50
 4747 0030 DB01     		lsls	r3, r3, #7
 4748 0032 DBB2     		uxtb	r3, r3
 4749              		.loc 1 1369 7
 4750 0034 3A69     		ldr	r2, [r7, #16]
 4751 0036 1343     		orrs	r3, r3, r2
 4752 0038 3B61     		str	r3, [r7, #16]
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4753              		.loc 1 1370 12
 4754 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4755 003c 5A01     		lsls	r2, r3, #5
 4756 003e 7B69     		ldr	r3, [r7, #20]
 4757 0040 1344     		add	r3, r3, r2
 4758 0042 03F51063 		add	r3, r3, #2304
 4759              		.loc 1 1370 38
 4760 0046 9B68     		ldr	r3, [r3, #8]
 4761              		.loc 1 1370 10
 4762 0048 3A69     		ldr	r2, [r7, #16]
 4763 004a 1340     		ands	r3, r3, r2
 4764 004c BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 108


1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4765              		.loc 1 1372 10
 4766 004e BB68     		ldr	r3, [r7, #8]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4767              		.loc 1 1373 1
 4768 0050 1846     		mov	r0, r3
 4769 0052 1C37     		adds	r7, r7, #28
 4770              	.LCFI178:
 4771              		.cfi_def_cfa_offset 4
 4772 0054 BD46     		mov	sp, r7
 4773              	.LCFI179:
 4774              		.cfi_def_cfa_register 13
 4775              		@ sp needed
 4776 0056 5DF8047B 		ldr	r7, [sp], #4
 4777              	.LCFI180:
 4778              		.cfi_restore 7
 4779              		.cfi_def_cfa_offset 0
 4780 005a 7047     		bx	lr
 4781              		.cfi_endproc
 4782              	.LFE264:
 4784              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4785              		.align	1
 4786              		.global	USB_ClearInterrupts
 4787              		.syntax unified
 4788              		.thumb
 4789              		.thumb_func
 4791              	USB_ClearInterrupts:
 4792              	.LFB265:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  flag
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4793              		.loc 1 1382 1
 4794              		.cfi_startproc
 4795              		@ args = 0, pretend = 0, frame = 8
 4796              		@ frame_needed = 1, uses_anonymous_args = 0
 4797              		@ link register save eliminated.
 4798 0000 80B4     		push	{r7}
 4799              	.LCFI181:
 4800              		.cfi_def_cfa_offset 4
 4801              		.cfi_offset 7, -4
 4802 0002 83B0     		sub	sp, sp, #12
 4803              	.LCFI182:
 4804              		.cfi_def_cfa_offset 16
 4805 0004 00AF     		add	r7, sp, #0
 4806              	.LCFI183:
 4807              		.cfi_def_cfa_register 7
 4808 0006 7860     		str	r0, [r7, #4]
 4809 0008 3960     		str	r1, [r7]
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4810              		.loc 1 1383 17
ARM GAS  /tmp/cc1ThuXR.s 			page 109


 4811 000a 7B68     		ldr	r3, [r7, #4]
 4812 000c 5A69     		ldr	r2, [r3, #20]
 4813 000e 3B68     		ldr	r3, [r7]
 4814 0010 1A43     		orrs	r2, r2, r3
 4815 0012 7B68     		ldr	r3, [r7, #4]
 4816 0014 5A61     		str	r2, [r3, #20]
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4817              		.loc 1 1384 1
 4818 0016 00BF     		nop
 4819 0018 0C37     		adds	r7, r7, #12
 4820              	.LCFI184:
 4821              		.cfi_def_cfa_offset 4
 4822 001a BD46     		mov	sp, r7
 4823              	.LCFI185:
 4824              		.cfi_def_cfa_register 13
 4825              		@ sp needed
 4826 001c 5DF8047B 		ldr	r7, [sp], #4
 4827              	.LCFI186:
 4828              		.cfi_restore 7
 4829              		.cfi_def_cfa_offset 0
 4830 0020 7047     		bx	lr
 4831              		.cfi_endproc
 4832              	.LFE265:
 4834              		.section	.text.USB_GetMode,"ax",%progbits
 4835              		.align	1
 4836              		.global	USB_GetMode
 4837              		.syntax unified
 4838              		.thumb
 4839              		.thumb_func
 4841              	USB_GetMode:
 4842              	.LFB266:
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4843              		.loc 1 1395 1
 4844              		.cfi_startproc
 4845              		@ args = 0, pretend = 0, frame = 8
 4846              		@ frame_needed = 1, uses_anonymous_args = 0
 4847              		@ link register save eliminated.
 4848 0000 80B4     		push	{r7}
 4849              	.LCFI187:
 4850              		.cfi_def_cfa_offset 4
 4851              		.cfi_offset 7, -4
 4852 0002 83B0     		sub	sp, sp, #12
 4853              	.LCFI188:
 4854              		.cfi_def_cfa_offset 16
 4855 0004 00AF     		add	r7, sp, #0
 4856              	.LCFI189:
 4857              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc1ThuXR.s 			page 110


 4858 0006 7860     		str	r0, [r7, #4]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4859              		.loc 1 1396 16
 4860 0008 7B68     		ldr	r3, [r7, #4]
 4861 000a 5B69     		ldr	r3, [r3, #20]
 4862              		.loc 1 1396 27
 4863 000c 03F00103 		and	r3, r3, #1
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4864              		.loc 1 1397 1
 4865 0010 1846     		mov	r0, r3
 4866 0012 0C37     		adds	r7, r7, #12
 4867              	.LCFI190:
 4868              		.cfi_def_cfa_offset 4
 4869 0014 BD46     		mov	sp, r7
 4870              	.LCFI191:
 4871              		.cfi_def_cfa_register 13
 4872              		@ sp needed
 4873 0016 5DF8047B 		ldr	r7, [sp], #4
 4874              	.LCFI192:
 4875              		.cfi_restore 7
 4876              		.cfi_def_cfa_offset 0
 4877 001a 7047     		bx	lr
 4878              		.cfi_endproc
 4879              	.LFE266:
 4881              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4882              		.align	1
 4883              		.global	USB_ActivateSetup
 4884              		.syntax unified
 4885              		.thumb
 4886              		.thumb_func
 4888              	USB_ActivateSetup:
 4889              	.LFB267:
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4890              		.loc 1 1405 1
 4891              		.cfi_startproc
 4892              		@ args = 0, pretend = 0, frame = 16
 4893              		@ frame_needed = 1, uses_anonymous_args = 0
 4894              		@ link register save eliminated.
 4895 0000 80B4     		push	{r7}
 4896              	.LCFI193:
 4897              		.cfi_def_cfa_offset 4
 4898              		.cfi_offset 7, -4
 4899 0002 85B0     		sub	sp, sp, #20
 4900              	.LCFI194:
 4901              		.cfi_def_cfa_offset 24
 4902 0004 00AF     		add	r7, sp, #0
 4903              	.LCFI195:
 4904              		.cfi_def_cfa_register 7
 4905 0006 7860     		str	r0, [r7, #4]
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /tmp/cc1ThuXR.s 			page 111


 4906              		.loc 1 1406 12
 4907 0008 7B68     		ldr	r3, [r7, #4]
 4908 000a FB60     		str	r3, [r7, #12]
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4909              		.loc 1 1409 26
 4910 000c FB68     		ldr	r3, [r7, #12]
 4911 000e 03F51063 		add	r3, r3, #2304
 4912 0012 1B68     		ldr	r3, [r3]
 4913 0014 FA68     		ldr	r2, [r7, #12]
 4914 0016 02F51062 		add	r2, r2, #2304
 4915 001a 23F4FF63 		bic	r3, r3, #2040
 4916 001e 23F00703 		bic	r3, r3, #7
 4917 0022 1360     		str	r3, [r2]
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4918              		.loc 1 1411 21
 4919 0024 FB68     		ldr	r3, [r7, #12]
 4920 0026 03F50063 		add	r3, r3, #2048
 4921 002a 5B68     		ldr	r3, [r3, #4]
 4922 002c FA68     		ldr	r2, [r7, #12]
 4923 002e 02F50062 		add	r2, r2, #2048
 4924 0032 43F48073 		orr	r3, r3, #256
 4925 0036 5360     		str	r3, [r2, #4]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4926              		.loc 1 1413 10
 4927 0038 0023     		movs	r3, #0
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4928              		.loc 1 1414 1
 4929 003a 1846     		mov	r0, r3
 4930 003c 1437     		adds	r7, r7, #20
 4931              	.LCFI196:
 4932              		.cfi_def_cfa_offset 4
 4933 003e BD46     		mov	sp, r7
 4934              	.LCFI197:
 4935              		.cfi_def_cfa_register 13
 4936              		@ sp needed
 4937 0040 5DF8047B 		ldr	r7, [sp], #4
 4938              	.LCFI198:
 4939              		.cfi_restore 7
 4940              		.cfi_def_cfa_offset 0
 4941 0044 7047     		bx	lr
 4942              		.cfi_endproc
 4943              	.LFE267:
 4945              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4946              		.align	1
 4947              		.global	USB_EP0_OutStart
 4948              		.syntax unified
 4949              		.thumb
 4950              		.thumb_func
 4952              	USB_EP0_OutStart:
 4953              	.LFB268:
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
ARM GAS  /tmp/cc1ThuXR.s 			page 112


1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4954              		.loc 1 1427 1
 4955              		.cfi_startproc
 4956              		@ args = 0, pretend = 0, frame = 24
 4957              		@ frame_needed = 1, uses_anonymous_args = 0
 4958              		@ link register save eliminated.
 4959 0000 80B4     		push	{r7}
 4960              	.LCFI199:
 4961              		.cfi_def_cfa_offset 4
 4962              		.cfi_offset 7, -4
 4963 0002 87B0     		sub	sp, sp, #28
 4964              	.LCFI200:
 4965              		.cfi_def_cfa_offset 32
 4966 0004 00AF     		add	r7, sp, #0
 4967              	.LCFI201:
 4968              		.cfi_def_cfa_register 7
 4969 0006 F860     		str	r0, [r7, #12]
 4970 0008 0B46     		mov	r3, r1
 4971 000a 7A60     		str	r2, [r7, #4]
 4972 000c FB72     		strb	r3, [r7, #11]
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4973              		.loc 1 1428 12
 4974 000e FB68     		ldr	r3, [r7, #12]
 4975 0010 7B61     		str	r3, [r7, #20]
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4976              		.loc 1 1429 41
 4977 0012 FB68     		ldr	r3, [r7, #12]
 4978 0014 3C33     		adds	r3, r3, #60
 4979              		.loc 1 1429 23
 4980 0016 0433     		adds	r3, r3, #4
 4981              		.loc 1 1429 12
 4982 0018 1B68     		ldr	r3, [r3]
 4983 001a 3B61     		str	r3, [r7, #16]
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4984              		.loc 1 1431 6
 4985 001c 3B69     		ldr	r3, [r7, #16]
 4986 001e 264A     		ldr	r2, .L207
 4987 0020 9342     		cmp	r3, r2
 4988 0022 0AD9     		bls	.L204
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4989              		.loc 1 1433 10
 4990 0024 7B69     		ldr	r3, [r7, #20]
 4991 0026 03F53063 		add	r3, r3, #2816
 4992              		.loc 1 1433 24
 4993 002a 1B68     		ldr	r3, [r3]
 4994              		.loc 1 1433 34
ARM GAS  /tmp/cc1ThuXR.s 			page 113


 4995 002c 03F00043 		and	r3, r3, #-2147483648
 4996              		.loc 1 1433 8
 4997 0030 B3F1004F 		cmp	r3, #-2147483648
 4998 0034 01D1     		bne	.L204
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 4999              		.loc 1 1435 14
 5000 0036 0023     		movs	r3, #0
 5001 0038 37E0     		b	.L205
 5002              	.L204:
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 5003              		.loc 1 1439 3
 5004 003a 7B69     		ldr	r3, [r7, #20]
 5005 003c 03F53063 		add	r3, r3, #2816
 5006 0040 1A46     		mov	r2, r3
 5007              		.loc 1 1439 28
 5008 0042 0023     		movs	r3, #0
 5009 0044 1361     		str	r3, [r2, #16]
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 5010              		.loc 1 1440 28
 5011 0046 7B69     		ldr	r3, [r7, #20]
 5012 0048 03F53063 		add	r3, r3, #2816
 5013 004c 1B69     		ldr	r3, [r3, #16]
 5014 004e 7A69     		ldr	r2, [r7, #20]
 5015 0050 02F53062 		add	r2, r2, #2816
 5016 0054 43F40023 		orr	r3, r3, #524288
 5017 0058 1361     		str	r3, [r2, #16]
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 5018              		.loc 1 1441 28
 5019 005a 7B69     		ldr	r3, [r7, #20]
 5020 005c 03F53063 		add	r3, r3, #2816
 5021 0060 1B69     		ldr	r3, [r3, #16]
 5022 0062 7A69     		ldr	r2, [r7, #20]
 5023 0064 02F53062 		add	r2, r2, #2816
 5024 0068 43F01803 		orr	r3, r3, #24
 5025 006c 1361     		str	r3, [r2, #16]
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 5026              		.loc 1 1442 28
 5027 006e 7B69     		ldr	r3, [r7, #20]
 5028 0070 03F53063 		add	r3, r3, #2816
 5029 0074 1B69     		ldr	r3, [r3, #16]
 5030 0076 7A69     		ldr	r2, [r7, #20]
 5031 0078 02F53062 		add	r2, r2, #2816
 5032 007c 43F0C043 		orr	r3, r3, #1610612736
 5033 0080 1361     		str	r3, [r2, #16]
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 5034              		.loc 1 1444 6
 5035 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5036 0084 012B     		cmp	r3, #1
 5037 0086 0FD1     		bne	.L206
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 5038              		.loc 1 1446 5
ARM GAS  /tmp/cc1ThuXR.s 			page 114


 5039 0088 7B69     		ldr	r3, [r7, #20]
 5040 008a 03F53063 		add	r3, r3, #2816
 5041 008e 1A46     		mov	r2, r3
 5042              		.loc 1 1446 31
 5043 0090 7B68     		ldr	r3, [r7, #4]
 5044              		.loc 1 1446 29
 5045 0092 5361     		str	r3, [r2, #20]
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 5046              		.loc 1 1448 29
 5047 0094 7B69     		ldr	r3, [r7, #20]
 5048 0096 03F53063 		add	r3, r3, #2816
 5049 009a 1B68     		ldr	r3, [r3]
 5050 009c 7A69     		ldr	r2, [r7, #20]
 5051 009e 02F53062 		add	r2, r2, #2816
 5052 00a2 43F08023 		orr	r3, r3, #-2147450880
 5053 00a6 1360     		str	r3, [r2]
 5054              	.L206:
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5055              		.loc 1 1451 10
 5056 00a8 0023     		movs	r3, #0
 5057              	.L205:
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5058              		.loc 1 1452 1
 5059 00aa 1846     		mov	r0, r3
 5060 00ac 1C37     		adds	r7, r7, #28
 5061              	.LCFI202:
 5062              		.cfi_def_cfa_offset 4
 5063 00ae BD46     		mov	sp, r7
 5064              	.LCFI203:
 5065              		.cfi_def_cfa_register 13
 5066              		@ sp needed
 5067 00b0 5DF8047B 		ldr	r7, [sp], #4
 5068              	.LCFI204:
 5069              		.cfi_restore 7
 5070              		.cfi_def_cfa_offset 0
 5071 00b4 7047     		bx	lr
 5072              	.L208:
 5073 00b6 00BF     		.align	2
 5074              	.L207:
 5075 00b8 0A30544F 		.word	1330917386
 5076              		.cfi_endproc
 5077              	.LFE268:
 5079              		.section	.text.USB_CoreReset,"ax",%progbits
 5080              		.align	1
 5081              		.syntax unified
 5082              		.thumb
 5083              		.thumb_func
 5085              	USB_CoreReset:
 5086              	.LFB269:
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
ARM GAS  /tmp/cc1ThuXR.s 			page 115


1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5087              		.loc 1 1460 1
 5088              		.cfi_startproc
 5089              		@ args = 0, pretend = 0, frame = 16
 5090              		@ frame_needed = 1, uses_anonymous_args = 0
 5091              		@ link register save eliminated.
 5092 0000 80B4     		push	{r7}
 5093              	.LCFI205:
 5094              		.cfi_def_cfa_offset 4
 5095              		.cfi_offset 7, -4
 5096 0002 85B0     		sub	sp, sp, #20
 5097              	.LCFI206:
 5098              		.cfi_def_cfa_offset 24
 5099 0004 00AF     		add	r7, sp, #0
 5100              	.LCFI207:
 5101              		.cfi_def_cfa_register 7
 5102 0006 7860     		str	r0, [r7, #4]
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 5103              		.loc 1 1461 17
 5104 0008 0023     		movs	r3, #0
 5105 000a FB60     		str	r3, [r7, #12]
 5106              	.L212:
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5107              		.loc 1 1466 10
 5108 000c FB68     		ldr	r3, [r7, #12]
 5109 000e 0133     		adds	r3, r3, #1
 5110 0010 FB60     		str	r3, [r7, #12]
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5111              		.loc 1 1468 15
 5112 0012 FB68     		ldr	r3, [r7, #12]
 5113              		.loc 1 1468 8
 5114 0014 134A     		ldr	r2, .L215
 5115 0016 9342     		cmp	r3, r2
 5116 0018 01D9     		bls	.L210
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 5117              		.loc 1 1470 14
 5118 001a 0323     		movs	r3, #3
 5119 001c 1BE0     		b	.L211
 5120              	.L210:
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 5121              		.loc 1 1472 17
 5122 001e 7B68     		ldr	r3, [r7, #4]
 5123 0020 1B69     		ldr	r3, [r3, #16]
 5124              		.loc 1 1472 3
 5125 0022 002B     		cmp	r3, #0
 5126 0024 F2DA     		bge	.L212
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
ARM GAS  /tmp/cc1ThuXR.s 			page 116


1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 5127              		.loc 1 1475 9
 5128 0026 0023     		movs	r3, #0
 5129 0028 FB60     		str	r3, [r7, #12]
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 5130              		.loc 1 1476 17
 5131 002a 7B68     		ldr	r3, [r7, #4]
 5132 002c 1B69     		ldr	r3, [r3, #16]
 5133 002e 43F00102 		orr	r2, r3, #1
 5134 0032 7B68     		ldr	r3, [r7, #4]
 5135 0034 1A61     		str	r2, [r3, #16]
 5136              	.L214:
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5137              		.loc 1 1480 10
 5138 0036 FB68     		ldr	r3, [r7, #12]
 5139 0038 0133     		adds	r3, r3, #1
 5140 003a FB60     		str	r3, [r7, #12]
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5141              		.loc 1 1482 15
 5142 003c FB68     		ldr	r3, [r7, #12]
 5143              		.loc 1 1482 8
 5144 003e 094A     		ldr	r2, .L215
 5145 0040 9342     		cmp	r3, r2
 5146 0042 01D9     		bls	.L213
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 5147              		.loc 1 1484 14
 5148 0044 0323     		movs	r3, #3
 5149 0046 06E0     		b	.L211
 5150              	.L213:
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 5151              		.loc 1 1486 17
 5152 0048 7B68     		ldr	r3, [r7, #4]
 5153 004a 1B69     		ldr	r3, [r3, #16]
 5154              		.loc 1 1486 27
 5155 004c 03F00103 		and	r3, r3, #1
 5156              		.loc 1 1486 3
 5157 0050 012B     		cmp	r3, #1
 5158 0052 F0D0     		beq	.L214
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5159              		.loc 1 1488 10
 5160 0054 0023     		movs	r3, #0
 5161              	.L211:
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5162              		.loc 1 1489 1
 5163 0056 1846     		mov	r0, r3
 5164 0058 1437     		adds	r7, r7, #20
 5165              	.LCFI208:
 5166              		.cfi_def_cfa_offset 4
 5167 005a BD46     		mov	sp, r7
 5168              	.LCFI209:
ARM GAS  /tmp/cc1ThuXR.s 			page 117


 5169              		.cfi_def_cfa_register 13
 5170              		@ sp needed
 5171 005c 5DF8047B 		ldr	r7, [sp], #4
 5172              	.LCFI210:
 5173              		.cfi_restore 7
 5174              		.cfi_def_cfa_offset 0
 5175 0060 7047     		bx	lr
 5176              	.L216:
 5177 0062 00BF     		.align	2
 5178              	.L215:
 5179 0064 400D0300 		.word	200000
 5180              		.cfi_endproc
 5181              	.LFE269:
 5183              		.section	.text.USB_HostInit,"ax",%progbits
 5184              		.align	1
 5185              		.global	USB_HostInit
 5186              		.syntax unified
 5187              		.thumb
 5188              		.thumb_func
 5190              	USB_HostInit:
 5191              	.LFB270:
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5192              		.loc 1 1500 1
 5193              		.cfi_startproc
 5194              		@ args = 56, pretend = 16, frame = 24
 5195              		@ frame_needed = 1, uses_anonymous_args = 0
 5196 0000 84B0     		sub	sp, sp, #16
 5197              	.LCFI211:
 5198              		.cfi_def_cfa_offset 16
 5199 0002 80B5     		push	{r7, lr}
 5200              	.LCFI212:
 5201              		.cfi_def_cfa_offset 24
 5202              		.cfi_offset 7, -24
 5203              		.cfi_offset 14, -20
 5204 0004 86B0     		sub	sp, sp, #24
 5205              	.LCFI213:
 5206              		.cfi_def_cfa_offset 48
 5207 0006 00AF     		add	r7, sp, #0
 5208              	.LCFI214:
 5209              		.cfi_def_cfa_register 7
 5210 0008 7860     		str	r0, [r7, #4]
 5211 000a 07F12400 		add	r0, r7, #36
 5212 000e 80E80E00 		stm	r0, {r1, r2, r3}
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5213              		.loc 1 1501 21
 5214 0012 0023     		movs	r3, #0
 5215 0014 FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/cc1ThuXR.s 			page 118


1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5216              		.loc 1 1502 12
 5217 0016 7B68     		ldr	r3, [r7, #4]
 5218 0018 FB60     		str	r3, [r7, #12]
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 5219              		.loc 1 1506 3
 5220 001a FB68     		ldr	r3, [r7, #12]
 5221 001c 03F56063 		add	r3, r3, #3584
 5222 0020 1A46     		mov	r2, r3
 5223              		.loc 1 1506 16
 5224 0022 0023     		movs	r3, #0
 5225 0024 1360     		str	r3, [r2]
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
 5226              		.loc 1 1510 15
 5227 0026 7B68     		ldr	r3, [r7, #4]
 5228 0028 9B6B     		ldr	r3, [r3, #56]
 5229 002a 23F40012 		bic	r2, r3, #2097152
 5230 002e 7B68     		ldr	r3, [r7, #4]
 5231 0030 9A63     		str	r2, [r3, #56]
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5232              		.loc 1 1525 12
 5233 0032 7B68     		ldr	r3, [r7, #4]
 5234 0034 DB6B     		ldr	r3, [r3, #60]
 5235              		.loc 1 1525 18
 5236 0036 03F48073 		and	r3, r3, #256
 5237              		.loc 1 1525 6
 5238 003a 002B     		cmp	r3, #0
 5239 003c 18D0     		beq	.L218
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBH_FSLS_SPEED)
 5240              		.loc 1 1527 12
 5241 003e FB6A     		ldr	r3, [r7, #44]
 5242              		.loc 1 1527 8
 5243 0040 012B     		cmp	r3, #1
 5244 0042 0AD1     		bne	.L219
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
ARM GAS  /tmp/cc1ThuXR.s 			page 119


1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 5245              		.loc 1 1530 23
 5246 0044 FB68     		ldr	r3, [r7, #12]
 5247 0046 03F58063 		add	r3, r3, #1024
 5248 004a 1B68     		ldr	r3, [r3]
 5249 004c FA68     		ldr	r2, [r7, #12]
 5250 004e 02F58062 		add	r2, r2, #1024
 5251 0052 43F00403 		orr	r3, r3, #4
 5252 0056 1360     		str	r3, [r2]
 5253 0058 14E0     		b	.L220
 5254              	.L219:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5255              		.loc 1 1535 23
 5256 005a FB68     		ldr	r3, [r7, #12]
 5257 005c 03F58063 		add	r3, r3, #1024
 5258 0060 1B68     		ldr	r3, [r3]
 5259 0062 FA68     		ldr	r2, [r7, #12]
 5260 0064 02F58062 		add	r2, r2, #1024
 5261 0068 23F00403 		bic	r3, r3, #4
 5262 006c 1360     		str	r3, [r2]
 5263 006e 09E0     		b	.L220
 5264              	.L218:
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5265              		.loc 1 1541 21
 5266 0070 FB68     		ldr	r3, [r7, #12]
 5267 0072 03F58063 		add	r3, r3, #1024
 5268 0076 1B68     		ldr	r3, [r3]
 5269 0078 FA68     		ldr	r2, [r7, #12]
 5270 007a 02F58062 		add	r2, r2, #1024
 5271 007e 23F00403 		bic	r3, r3, #4
 5272 0082 1360     		str	r3, [r2]
 5273              	.L220:
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 5274              		.loc 1 1545 7
 5275 0084 1021     		movs	r1, #16
 5276 0086 7868     		ldr	r0, [r7, #4]
 5277 0088 FFF7FEFF 		bl	USB_FlushTxFifo
 5278 008c 0346     		mov	r3, r0
 5279              		.loc 1 1545 6
 5280 008e 002B     		cmp	r3, #0
 5281 0090 01D0     		beq	.L221
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5282              		.loc 1 1547 9
 5283 0092 0123     		movs	r3, #1
ARM GAS  /tmp/cc1ThuXR.s 			page 120


 5284 0094 FB75     		strb	r3, [r7, #23]
 5285              	.L221:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 5286              		.loc 1 1550 7
 5287 0096 7868     		ldr	r0, [r7, #4]
 5288 0098 FFF7FEFF 		bl	USB_FlushRxFifo
 5289 009c 0346     		mov	r3, r0
 5290              		.loc 1 1550 6
 5291 009e 002B     		cmp	r3, #0
 5292 00a0 01D0     		beq	.L222
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5293              		.loc 1 1552 9
 5294 00a2 0123     		movs	r3, #1
 5295 00a4 FB75     		strb	r3, [r7, #23]
 5296              	.L222:
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 5297              		.loc 1 1556 10
 5298 00a6 0023     		movs	r3, #0
 5299 00a8 3B61     		str	r3, [r7, #16]
 5300              		.loc 1 1556 3
 5301 00aa 15E0     		b	.L223
 5302              	.L224:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 5303              		.loc 1 1558 5 discriminator 3
 5304 00ac 3B69     		ldr	r3, [r7, #16]
 5305 00ae 5A01     		lsls	r2, r3, #5
 5306 00b0 FB68     		ldr	r3, [r7, #12]
 5307 00b2 1344     		add	r3, r3, r2
 5308 00b4 03F5A063 		add	r3, r3, #1280
 5309 00b8 1A46     		mov	r2, r3
 5310              		.loc 1 1558 23 discriminator 3
 5311 00ba 4FF0FF33 		mov	r3, #-1
 5312 00be 9360     		str	r3, [r2, #8]
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 5313              		.loc 1 1559 5 discriminator 3
 5314 00c0 3B69     		ldr	r3, [r7, #16]
 5315 00c2 5A01     		lsls	r2, r3, #5
 5316 00c4 FB68     		ldr	r3, [r7, #12]
 5317 00c6 1344     		add	r3, r3, r2
 5318 00c8 03F5A063 		add	r3, r3, #1280
 5319 00cc 1A46     		mov	r2, r3
 5320              		.loc 1 1559 26 discriminator 3
 5321 00ce 0023     		movs	r3, #0
 5322 00d0 D360     		str	r3, [r2, #12]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5323              		.loc 1 1556 40 discriminator 3
 5324 00d2 3B69     		ldr	r3, [r7, #16]
 5325 00d4 0133     		adds	r3, r3, #1
 5326 00d6 3B61     		str	r3, [r7, #16]
 5327              	.L223:
ARM GAS  /tmp/cc1ThuXR.s 			page 121


1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5328              		.loc 1 1556 23 discriminator 1
 5329 00d8 BB6A     		ldr	r3, [r7, #40]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5330              		.loc 1 1556 3 discriminator 1
 5331 00da 3A69     		ldr	r2, [r7, #16]
 5332 00dc 9A42     		cmp	r2, r3
 5333 00de E5D3     		bcc	.L224
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 5334              		.loc 1 1563 17
 5335 00e0 7B68     		ldr	r3, [r7, #4]
 5336 00e2 0022     		movs	r2, #0
 5337 00e4 9A61     		str	r2, [r3, #24]
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 5338              		.loc 1 1566 17
 5339 00e6 7B68     		ldr	r3, [r7, #4]
 5340 00e8 4FF0FF32 		mov	r2, #-1
 5341 00ec 5A61     		str	r2, [r3, #20]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5342              		.loc 1 1568 12
 5343 00ee 7B68     		ldr	r3, [r7, #4]
 5344 00f0 DB6B     		ldr	r3, [r3, #60]
 5345              		.loc 1 1568 18
 5346 00f2 03F48073 		and	r3, r3, #256
 5347              		.loc 1 1568 6
 5348 00f6 002B     		cmp	r3, #0
 5349 00f8 0BD0     		beq	.L225
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 5350              		.loc 1 1571 20
 5351 00fa 7B68     		ldr	r3, [r7, #4]
 5352 00fc 4FF40072 		mov	r2, #512
 5353 0100 5A62     		str	r2, [r3, #36]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 5354              		.loc 1 1572 30
 5355 0102 7B68     		ldr	r3, [r7, #4]
 5356 0104 134A     		ldr	r2, .L229
 5357 0106 9A62     		str	r2, [r3, #40]
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 5358              		.loc 1 1573 20
 5359 0108 7B68     		ldr	r3, [r7, #4]
 5360 010a 134A     		ldr	r2, .L229+4
 5361 010c C3F80021 		str	r2, [r3, #256]
 5362 0110 09E0     		b	.L226
 5363              	.L225:
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
ARM GAS  /tmp/cc1ThuXR.s 			page 122


 5364              		.loc 1 1578 20
 5365 0112 7B68     		ldr	r3, [r7, #4]
 5366 0114 8022     		movs	r2, #128
 5367 0116 5A62     		str	r2, [r3, #36]
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 5368              		.loc 1 1579 30
 5369 0118 7B68     		ldr	r3, [r7, #4]
 5370 011a 104A     		ldr	r2, .L229+8
 5371 011c 9A62     		str	r2, [r3, #40]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 5372              		.loc 1 1580 20
 5373 011e 7B68     		ldr	r3, [r7, #4]
 5374 0120 0F4A     		ldr	r2, .L229+12
 5375 0122 C3F80021 		str	r2, [r3, #256]
 5376              	.L226:
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 5377              		.loc 1 1584 10
 5378 0126 3B6B     		ldr	r3, [r7, #48]
 5379              		.loc 1 1584 6
 5380 0128 002B     		cmp	r3, #0
 5381 012a 05D1     		bne	.L227
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 5382              		.loc 1 1586 19
 5383 012c 7B68     		ldr	r3, [r7, #4]
 5384 012e 9B69     		ldr	r3, [r3, #24]
 5385 0130 43F01002 		orr	r2, r3, #16
 5386 0134 7B68     		ldr	r3, [r7, #4]
 5387 0136 9A61     		str	r2, [r3, #24]
 5388              	.L227:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 5389              		.loc 1 1590 17
 5390 0138 7B68     		ldr	r3, [r7, #4]
 5391 013a 9A69     		ldr	r2, [r3, #24]
 5392 013c 094B     		ldr	r3, .L229+16
 5393 013e 1343     		orrs	r3, r3, r2
 5394 0140 7A68     		ldr	r2, [r7, #4]
 5395 0142 9361     		str	r3, [r2, #24]
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5396              		.loc 1 1594 10
 5397 0144 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5398              		.loc 1 1595 1
 5399 0146 1846     		mov	r0, r3
 5400 0148 1837     		adds	r7, r7, #24
 5401              	.LCFI215:
 5402              		.cfi_def_cfa_offset 24
 5403 014a BD46     		mov	sp, r7
ARM GAS  /tmp/cc1ThuXR.s 			page 123


 5404              	.LCFI216:
 5405              		.cfi_def_cfa_register 13
 5406              		@ sp needed
 5407 014c BDE88040 		pop	{r7, lr}
 5408              	.LCFI217:
 5409              		.cfi_restore 14
 5410              		.cfi_restore 7
 5411              		.cfi_def_cfa_offset 16
 5412 0150 04B0     		add	sp, sp, #16
 5413              	.LCFI218:
 5414              		.cfi_def_cfa_offset 0
 5415 0152 7047     		bx	lr
 5416              	.L230:
 5417              		.align	2
 5418              	.L229:
 5419 0154 00020001 		.word	16777728
 5420 0158 0003E000 		.word	14680832
 5421 015c 80006000 		.word	6291584
 5422 0160 E0004000 		.word	4194528
 5423 0164 080020A3 		.word	-1558183928
 5424              		.cfi_endproc
 5425              	.LFE270:
 5427              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 5428              		.align	1
 5429              		.global	USB_InitFSLSPClkSel
 5430              		.syntax unified
 5431              		.thumb
 5432              		.thumb_func
 5434              	USB_InitFSLSPClkSel:
 5435              	.LFB271:
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5436              		.loc 1 1608 1
 5437              		.cfi_startproc
 5438              		@ args = 0, pretend = 0, frame = 16
 5439              		@ frame_needed = 1, uses_anonymous_args = 0
 5440              		@ link register save eliminated.
 5441 0000 80B4     		push	{r7}
 5442              	.LCFI219:
 5443              		.cfi_def_cfa_offset 4
 5444              		.cfi_offset 7, -4
 5445 0002 85B0     		sub	sp, sp, #20
 5446              	.LCFI220:
 5447              		.cfi_def_cfa_offset 24
 5448 0004 00AF     		add	r7, sp, #0
 5449              	.LCFI221:
ARM GAS  /tmp/cc1ThuXR.s 			page 124


 5450              		.cfi_def_cfa_register 7
 5451 0006 7860     		str	r0, [r7, #4]
 5452 0008 0B46     		mov	r3, r1
 5453 000a FB70     		strb	r3, [r7, #3]
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5454              		.loc 1 1609 12
 5455 000c 7B68     		ldr	r3, [r7, #4]
 5456 000e FB60     		str	r3, [r7, #12]
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 5457              		.loc 1 1611 19
 5458 0010 FB68     		ldr	r3, [r7, #12]
 5459 0012 03F58063 		add	r3, r3, #1024
 5460 0016 1B68     		ldr	r3, [r3]
 5461 0018 FA68     		ldr	r2, [r7, #12]
 5462 001a 02F58062 		add	r2, r2, #1024
 5463 001e 23F00303 		bic	r3, r3, #3
 5464 0022 1360     		str	r3, [r2]
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 5465              		.loc 1 1612 19
 5466 0024 FB68     		ldr	r3, [r7, #12]
 5467 0026 03F58063 		add	r3, r3, #1024
 5468 002a 1A68     		ldr	r2, [r3]
 5469              		.loc 1 1612 37
 5470 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5471 002e 03F00303 		and	r3, r3, #3
 5472              		.loc 1 1612 19
 5473 0032 F968     		ldr	r1, [r7, #12]
 5474 0034 01F58061 		add	r1, r1, #1024
 5475 0038 1343     		orrs	r3, r3, r2
 5476 003a 0B60     		str	r3, [r1]
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 5477              		.loc 1 1614 6
 5478 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5479 003e 012B     		cmp	r3, #1
 5480 0040 07D1     		bne	.L232
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 5481              		.loc 1 1616 5
 5482 0042 FB68     		ldr	r3, [r7, #12]
 5483 0044 03F58063 		add	r3, r3, #1024
 5484 0048 1A46     		mov	r2, r3
 5485              		.loc 1 1616 21
 5486 004a 4BF68033 		movw	r3, #48000
 5487 004e 5360     		str	r3, [r2, #4]
 5488 0050 09E0     		b	.L233
 5489              	.L232:
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 5490              		.loc 1 1618 11
 5491 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5492 0054 022B     		cmp	r3, #2
 5493 0056 06D1     		bne	.L233
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 5494              		.loc 1 1620 5
ARM GAS  /tmp/cc1ThuXR.s 			page 125


 5495 0058 FB68     		ldr	r3, [r7, #12]
 5496 005a 03F58063 		add	r3, r3, #1024
 5497 005e 1A46     		mov	r2, r3
 5498              		.loc 1 1620 21
 5499 0060 41F27073 		movw	r3, #6000
 5500 0064 5360     		str	r3, [r2, #4]
 5501              	.L233:
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5502              		.loc 1 1627 10
 5503 0066 0023     		movs	r3, #0
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5504              		.loc 1 1628 1
 5505 0068 1846     		mov	r0, r3
 5506 006a 1437     		adds	r7, r7, #20
 5507              	.LCFI222:
 5508              		.cfi_def_cfa_offset 4
 5509 006c BD46     		mov	sp, r7
 5510              	.LCFI223:
 5511              		.cfi_def_cfa_register 13
 5512              		@ sp needed
 5513 006e 5DF8047B 		ldr	r7, [sp], #4
 5514              	.LCFI224:
 5515              		.cfi_restore 7
 5516              		.cfi_def_cfa_offset 0
 5517 0072 7047     		bx	lr
 5518              		.cfi_endproc
 5519              	.LFE271:
 5521              		.section	.text.USB_ResetPort,"ax",%progbits
 5522              		.align	1
 5523              		.global	USB_ResetPort
 5524              		.syntax unified
 5525              		.thumb
 5526              		.thumb_func
 5528              	USB_ResetPort:
 5529              	.LFB272:
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5530              		.loc 1 1638 1
 5531              		.cfi_startproc
 5532              		@ args = 0, pretend = 0, frame = 16
 5533              		@ frame_needed = 1, uses_anonymous_args = 0
 5534 0000 80B5     		push	{r7, lr}
 5535              	.LCFI225:
ARM GAS  /tmp/cc1ThuXR.s 			page 126


 5536              		.cfi_def_cfa_offset 8
 5537              		.cfi_offset 7, -8
 5538              		.cfi_offset 14, -4
 5539 0002 84B0     		sub	sp, sp, #16
 5540              	.LCFI226:
 5541              		.cfi_def_cfa_offset 24
 5542 0004 00AF     		add	r7, sp, #0
 5543              	.LCFI227:
 5544              		.cfi_def_cfa_register 7
 5545 0006 7860     		str	r0, [r7, #4]
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5546              		.loc 1 1639 12
 5547 0008 7B68     		ldr	r3, [r7, #4]
 5548 000a FB60     		str	r3, [r7, #12]
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5549              		.loc 1 1641 17
 5550 000c 0023     		movs	r3, #0
 5551 000e BB60     		str	r3, [r7, #8]
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5552              		.loc 1 1643 11
 5553 0010 FB68     		ldr	r3, [r7, #12]
 5554 0012 03F58863 		add	r3, r3, #1088
 5555 0016 1B68     		ldr	r3, [r3]
 5556              		.loc 1 1643 9
 5557 0018 BB60     		str	r3, [r7, #8]
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5558              		.loc 1 1645 9
 5559 001a BB68     		ldr	r3, [r7, #8]
 5560 001c 23F02E03 		bic	r3, r3, #46
 5561 0020 BB60     		str	r3, [r7, #8]
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5562              		.loc 1 1648 35
 5563 0022 BB68     		ldr	r3, [r7, #8]
 5564              		.loc 1 1648 3
 5565 0024 FA68     		ldr	r2, [r7, #12]
 5566 0026 02F58862 		add	r2, r2, #1088
 5567              		.loc 1 1648 35
 5568 002a 43F48073 		orr	r3, r3, #256
 5569              		.loc 1 1648 14
 5570 002e 1360     		str	r3, [r2]
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5571              		.loc 1 1649 3
 5572 0030 6420     		movs	r0, #100
 5573 0032 FFF7FEFF 		bl	HAL_Delay
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5574              		.loc 1 1650 38
 5575 0036 BB68     		ldr	r3, [r7, #8]
 5576              		.loc 1 1650 3
 5577 0038 FA68     		ldr	r2, [r7, #12]
 5578 003a 02F58862 		add	r2, r2, #1088
 5579              		.loc 1 1650 38
 5580 003e 23F48073 		bic	r3, r3, #256
ARM GAS  /tmp/cc1ThuXR.s 			page 127


 5581              		.loc 1 1650 14
 5582 0042 1360     		str	r3, [r2]
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 5583              		.loc 1 1651 3
 5584 0044 0A20     		movs	r0, #10
 5585 0046 FFF7FEFF 		bl	HAL_Delay
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5586              		.loc 1 1653 10
 5587 004a 0023     		movs	r3, #0
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5588              		.loc 1 1654 1
 5589 004c 1846     		mov	r0, r3
 5590 004e 1037     		adds	r7, r7, #16
 5591              	.LCFI228:
 5592              		.cfi_def_cfa_offset 8
 5593 0050 BD46     		mov	sp, r7
 5594              	.LCFI229:
 5595              		.cfi_def_cfa_register 13
 5596              		@ sp needed
 5597 0052 80BD     		pop	{r7, pc}
 5598              		.cfi_endproc
 5599              	.LFE272:
 5601              		.section	.text.USB_DriveVbus,"ax",%progbits
 5602              		.align	1
 5603              		.global	USB_DriveVbus
 5604              		.syntax unified
 5605              		.thumb
 5606              		.thumb_func
 5608              	USB_DriveVbus:
 5609              	.LFB273:
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Activate VBUS
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5610              		.loc 1 1665 1
 5611              		.cfi_startproc
 5612              		@ args = 0, pretend = 0, frame = 16
 5613              		@ frame_needed = 1, uses_anonymous_args = 0
 5614              		@ link register save eliminated.
 5615 0000 80B4     		push	{r7}
 5616              	.LCFI230:
 5617              		.cfi_def_cfa_offset 4
 5618              		.cfi_offset 7, -4
 5619 0002 85B0     		sub	sp, sp, #20
 5620              	.LCFI231:
 5621              		.cfi_def_cfa_offset 24
 5622 0004 00AF     		add	r7, sp, #0
 5623              	.LCFI232:
 5624              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc1ThuXR.s 			page 128


 5625 0006 7860     		str	r0, [r7, #4]
 5626 0008 0B46     		mov	r3, r1
 5627 000a FB70     		strb	r3, [r7, #3]
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5628              		.loc 1 1666 12
 5629 000c 7B68     		ldr	r3, [r7, #4]
 5630 000e FB60     		str	r3, [r7, #12]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5631              		.loc 1 1667 17
 5632 0010 0023     		movs	r3, #0
 5633 0012 BB60     		str	r3, [r7, #8]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5634              		.loc 1 1669 11
 5635 0014 FB68     		ldr	r3, [r7, #12]
 5636 0016 03F58863 		add	r3, r3, #1088
 5637 001a 1B68     		ldr	r3, [r3]
 5638              		.loc 1 1669 9
 5639 001c BB60     		str	r3, [r7, #8]
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5640              		.loc 1 1671 9
 5641 001e BB68     		ldr	r3, [r7, #8]
 5642 0020 23F02E03 		bic	r3, r3, #46
 5643 0024 BB60     		str	r3, [r7, #8]
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5644              		.loc 1 1674 15
 5645 0026 BB68     		ldr	r3, [r7, #8]
 5646 0028 03F48053 		and	r3, r3, #4096
 5647              		.loc 1 1674 6
 5648 002c 002B     		cmp	r3, #0
 5649 002e 09D1     		bne	.L238
 5650              		.loc 1 1674 43 discriminator 1
 5651 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5652 0032 012B     		cmp	r3, #1
 5653 0034 06D1     		bne	.L238
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5654              		.loc 1 1676 37
 5655 0036 BB68     		ldr	r3, [r7, #8]
 5656              		.loc 1 1676 5
 5657 0038 FA68     		ldr	r2, [r7, #12]
 5658 003a 02F58862 		add	r2, r2, #1088
 5659              		.loc 1 1676 37
 5660 003e 43F48053 		orr	r3, r3, #4096
 5661              		.loc 1 1676 16
 5662 0042 1360     		str	r3, [r2]
 5663              	.L238:
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5664              		.loc 1 1678 15
 5665 0044 BB68     		ldr	r3, [r7, #8]
 5666 0046 03F48053 		and	r3, r3, #4096
 5667              		.loc 1 1678 6
 5668 004a B3F5805F 		cmp	r3, #4096
ARM GAS  /tmp/cc1ThuXR.s 			page 129


 5669 004e 09D1     		bne	.L239
 5670              		.loc 1 1678 58 discriminator 1
 5671 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5672 0052 002B     		cmp	r3, #0
 5673 0054 06D1     		bne	.L239
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5674              		.loc 1 1680 40
 5675 0056 BB68     		ldr	r3, [r7, #8]
 5676              		.loc 1 1680 5
 5677 0058 FA68     		ldr	r2, [r7, #12]
 5678 005a 02F58862 		add	r2, r2, #1088
 5679              		.loc 1 1680 40
 5680 005e 23F48053 		bic	r3, r3, #4096
 5681              		.loc 1 1680 16
 5682 0062 1360     		str	r3, [r2]
 5683              	.L239:
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5684              		.loc 1 1682 10
 5685 0064 0023     		movs	r3, #0
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5686              		.loc 1 1683 1
 5687 0066 1846     		mov	r0, r3
 5688 0068 1437     		adds	r7, r7, #20
 5689              	.LCFI233:
 5690              		.cfi_def_cfa_offset 4
 5691 006a BD46     		mov	sp, r7
 5692              	.LCFI234:
 5693              		.cfi_def_cfa_register 13
 5694              		@ sp needed
 5695 006c 5DF8047B 		ldr	r7, [sp], #4
 5696              	.LCFI235:
 5697              		.cfi_restore 7
 5698              		.cfi_def_cfa_offset 0
 5699 0070 7047     		bx	lr
 5700              		.cfi_endproc
 5701              	.LFE273:
 5703              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5704              		.align	1
 5705              		.global	USB_GetHostSpeed
 5706              		.syntax unified
 5707              		.thumb
 5708              		.thumb_func
 5710              	USB_GetHostSpeed:
 5711              	.LFB274:
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /tmp/cc1ThuXR.s 			page 130


1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5712              		.loc 1 1695 1
 5713              		.cfi_startproc
 5714              		@ args = 0, pretend = 0, frame = 16
 5715              		@ frame_needed = 1, uses_anonymous_args = 0
 5716              		@ link register save eliminated.
 5717 0000 80B4     		push	{r7}
 5718              	.LCFI236:
 5719              		.cfi_def_cfa_offset 4
 5720              		.cfi_offset 7, -4
 5721 0002 85B0     		sub	sp, sp, #20
 5722              	.LCFI237:
 5723              		.cfi_def_cfa_offset 24
 5724 0004 00AF     		add	r7, sp, #0
 5725              	.LCFI238:
 5726              		.cfi_def_cfa_register 7
 5727 0006 7860     		str	r0, [r7, #4]
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5728              		.loc 1 1696 12
 5729 0008 7B68     		ldr	r3, [r7, #4]
 5730 000a FB60     		str	r3, [r7, #12]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5731              		.loc 1 1697 17
 5732 000c 0023     		movs	r3, #0
 5733 000e BB60     		str	r3, [r7, #8]
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5734              		.loc 1 1699 11
 5735 0010 FB68     		ldr	r3, [r7, #12]
 5736 0012 03F58863 		add	r3, r3, #1088
 5737 0016 1B68     		ldr	r3, [r3]
 5738              		.loc 1 1699 9
 5739 0018 BB60     		str	r3, [r7, #8]
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5740              		.loc 1 1700 39
 5741 001a BB68     		ldr	r3, [r7, #8]
 5742 001c 5B0C     		lsrs	r3, r3, #17
 5743 001e 03F00303 		and	r3, r3, #3
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5744              		.loc 1 1701 1
 5745 0022 1846     		mov	r0, r3
 5746 0024 1437     		adds	r7, r7, #20
 5747              	.LCFI239:
 5748              		.cfi_def_cfa_offset 4
 5749 0026 BD46     		mov	sp, r7
 5750              	.LCFI240:
 5751              		.cfi_def_cfa_register 13
 5752              		@ sp needed
 5753 0028 5DF8047B 		ldr	r7, [sp], #4
 5754              	.LCFI241:
 5755              		.cfi_restore 7
 5756              		.cfi_def_cfa_offset 0
 5757 002c 7047     		bx	lr
 5758              		.cfi_endproc
 5759              	.LFE274:
 5761              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5762              		.align	1
ARM GAS  /tmp/cc1ThuXR.s 			page 131


 5763              		.global	USB_GetCurrentFrame
 5764              		.syntax unified
 5765              		.thumb
 5766              		.thumb_func
 5768              	USB_GetCurrentFrame:
 5769              	.LFB275:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5770              		.loc 1 1709 1
 5771              		.cfi_startproc
 5772              		@ args = 0, pretend = 0, frame = 16
 5773              		@ frame_needed = 1, uses_anonymous_args = 0
 5774              		@ link register save eliminated.
 5775 0000 80B4     		push	{r7}
 5776              	.LCFI242:
 5777              		.cfi_def_cfa_offset 4
 5778              		.cfi_offset 7, -4
 5779 0002 85B0     		sub	sp, sp, #20
 5780              	.LCFI243:
 5781              		.cfi_def_cfa_offset 24
 5782 0004 00AF     		add	r7, sp, #0
 5783              	.LCFI244:
 5784              		.cfi_def_cfa_register 7
 5785 0006 7860     		str	r0, [r7, #4]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5786              		.loc 1 1710 12
 5787 0008 7B68     		ldr	r3, [r7, #4]
 5788 000a FB60     		str	r3, [r7, #12]
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5789              		.loc 1 1712 11
 5790 000c FB68     		ldr	r3, [r7, #12]
 5791 000e 03F58063 		add	r3, r3, #1024
 5792              		.loc 1 1712 20
 5793 0012 9B68     		ldr	r3, [r3, #8]
 5794              		.loc 1 1712 28
 5795 0014 9BB2     		uxth	r3, r3
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5796              		.loc 1 1713 1
 5797 0016 1846     		mov	r0, r3
 5798 0018 1437     		adds	r7, r7, #20
 5799              	.LCFI245:
 5800              		.cfi_def_cfa_offset 4
 5801 001a BD46     		mov	sp, r7
 5802              	.LCFI246:
 5803              		.cfi_def_cfa_register 13
 5804              		@ sp needed
 5805 001c 5DF8047B 		ldr	r7, [sp], #4
 5806              	.LCFI247:
 5807              		.cfi_restore 7
 5808              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/cc1ThuXR.s 			page 132


 5809 0020 7047     		bx	lr
 5810              		.cfi_endproc
 5811              	.LFE275:
 5813              		.section	.text.USB_HC_Init,"ax",%progbits
 5814              		.align	1
 5815              		.global	USB_HC_Init
 5816              		.syntax unified
 5817              		.thumb
 5818              		.thumb_func
 5820              	USB_HC_Init:
 5821              	.LFB276:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5822              		.loc 1 1742 1
 5823              		.cfi_startproc
 5824              		@ args = 12, pretend = 0, frame = 32
 5825              		@ frame_needed = 1, uses_anonymous_args = 0
 5826 0000 80B5     		push	{r7, lr}
 5827              	.LCFI248:
 5828              		.cfi_def_cfa_offset 8
 5829              		.cfi_offset 7, -8
 5830              		.cfi_offset 14, -4
 5831 0002 88B0     		sub	sp, sp, #32
 5832              	.LCFI249:
 5833              		.cfi_def_cfa_offset 40
 5834 0004 00AF     		add	r7, sp, #0
 5835              	.LCFI250:
 5836              		.cfi_def_cfa_register 7
 5837 0006 7860     		str	r0, [r7, #4]
 5838 0008 0846     		mov	r0, r1
ARM GAS  /tmp/cc1ThuXR.s 			page 133


 5839 000a 1146     		mov	r1, r2
 5840 000c 1A46     		mov	r2, r3
 5841 000e 0346     		mov	r3, r0
 5842 0010 FB70     		strb	r3, [r7, #3]
 5843 0012 0B46     		mov	r3, r1
 5844 0014 BB70     		strb	r3, [r7, #2]
 5845 0016 1346     		mov	r3, r2
 5846 0018 7B70     		strb	r3, [r7, #1]
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5847              		.loc 1 1743 21
 5848 001a 0023     		movs	r3, #0
 5849 001c FB77     		strb	r3, [r7, #31]
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5850              		.loc 1 1744 12
 5851 001e 7B68     		ldr	r3, [r7, #4]
 5852 0020 3B61     		str	r3, [r7, #16]
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5853              		.loc 1 1750 3
 5854 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5855 0024 5A01     		lsls	r2, r3, #5
 5856 0026 3B69     		ldr	r3, [r7, #16]
 5857 0028 1344     		add	r3, r3, r2
 5858 002a 03F5A063 		add	r3, r3, #1280
 5859 002e 1A46     		mov	r2, r3
 5860              		.loc 1 1750 36
 5861 0030 4FF0FF33 		mov	r3, #-1
 5862 0034 9360     		str	r3, [r2, #8]
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 5863              		.loc 1 1753 3
 5864 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5865 003a 032B     		cmp	r3, #3
 5866 003c 7ED8     		bhi	.L246
 5867 003e 01A2     		adr	r2, .L248
 5868 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5869              		.p2align 2
 5870              	.L248:
 5871 0044 55000000 		.word	.L249+1
 5872 0048 FF000000 		.word	.L250+1
 5873 004c 55000000 		.word	.L249+1
 5874 0050 C1000000 		.word	.L247+1
 5875              		.p2align 1
 5876              	.L249:
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5877              		.loc 1 1757 7
 5878 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5879 0056 5A01     		lsls	r2, r3, #5
 5880 0058 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 134


 5881 005a 1344     		add	r3, r3, r2
 5882 005c 03F5A063 		add	r3, r3, #1280
 5883 0060 1A46     		mov	r2, r3
 5884              		.loc 1 1757 43
 5885 0062 40F29D43 		movw	r3, #1181
 5886 0066 D360     		str	r3, [r2, #12]
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5887              		.loc 1 1764 27
 5888 0068 97F90230 		ldrsb	r3, [r7, #2]
 5889              		.loc 1 1764 10
 5890 006c 002B     		cmp	r3, #0
 5891 006e 10DA     		bge	.L251
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5892              		.loc 1 1766 45
 5893 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5894 0072 5A01     		lsls	r2, r3, #5
 5895 0074 3B69     		ldr	r3, [r7, #16]
 5896 0076 1344     		add	r3, r3, r2
 5897 0078 03F5A063 		add	r3, r3, #1280
 5898 007c DB68     		ldr	r3, [r3, #12]
 5899 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5900 0080 5101     		lsls	r1, r2, #5
 5901 0082 3A69     		ldr	r2, [r7, #16]
 5902 0084 0A44     		add	r2, r2, r1
 5903 0086 02F5A062 		add	r2, r2, #1280
 5904 008a 43F48073 		orr	r3, r3, #256
 5905 008e D360     		str	r3, [r2, #12]
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_NYET |
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5906              		.loc 1 1776 7
 5907 0090 57E0     		b	.L263
 5908              	.L251:
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5909              		.loc 1 1770 18
 5910 0092 7B68     		ldr	r3, [r7, #4]
 5911 0094 DB6B     		ldr	r3, [r3, #60]
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5912              		.loc 1 1770 24
 5913 0096 03F48073 		and	r3, r3, #256
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5914              		.loc 1 1770 12
 5915 009a 002B     		cmp	r3, #0
ARM GAS  /tmp/cc1ThuXR.s 			page 135


 5916 009c 51D0     		beq	.L263
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
 5917              		.loc 1 1772 47
 5918 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5919 00a0 5A01     		lsls	r2, r3, #5
 5920 00a2 3B69     		ldr	r3, [r7, #16]
 5921 00a4 1344     		add	r3, r3, r2
 5922 00a6 03F5A063 		add	r3, r3, #1280
 5923 00aa DB68     		ldr	r3, [r3, #12]
 5924 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5925 00ae 5101     		lsls	r1, r2, #5
 5926 00b0 3A69     		ldr	r2, [r7, #16]
 5927 00b2 0A44     		add	r2, r2, r1
 5928 00b4 02F5A062 		add	r2, r2, #1280
 5929 00b8 43F06003 		orr	r3, r3, #96
 5930 00bc D360     		str	r3, [r2, #12]
 5931              		.loc 1 1776 7
 5932 00be 40E0     		b	.L263
 5933              	.L247:
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5934              		.loc 1 1779 7
 5935 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5936 00c2 5A01     		lsls	r2, r3, #5
 5937 00c4 3B69     		ldr	r3, [r7, #16]
 5938 00c6 1344     		add	r3, r3, r2
 5939 00c8 03F5A063 		add	r3, r3, #1280
 5940 00cc 1A46     		mov	r2, r3
 5941              		.loc 1 1779 43
 5942 00ce 40F29D63 		movw	r3, #1693
 5943 00d2 D360     		str	r3, [r2, #12]
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5944              		.loc 1 1787 27
 5945 00d4 97F90230 		ldrsb	r3, [r7, #2]
 5946              		.loc 1 1787 10
 5947 00d8 002B     		cmp	r3, #0
 5948 00da 34DA     		bge	.L264
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5949              		.loc 1 1789 45
 5950 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5951 00de 5A01     		lsls	r2, r3, #5
 5952 00e0 3B69     		ldr	r3, [r7, #16]
 5953 00e2 1344     		add	r3, r3, r2
 5954 00e4 03F5A063 		add	r3, r3, #1280
 5955 00e8 DB68     		ldr	r3, [r3, #12]
 5956 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5957 00ec 5101     		lsls	r1, r2, #5
 5958 00ee 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 136


 5959 00f0 0A44     		add	r2, r2, r1
 5960 00f2 02F5A062 		add	r2, r2, #1280
 5961 00f6 43F48073 		orr	r3, r3, #256
 5962 00fa D360     		str	r3, [r2, #12]
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5963              		.loc 1 1792 7
 5964 00fc 23E0     		b	.L264
 5965              	.L250:
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5966              		.loc 1 1795 7
 5967 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5968 0100 5A01     		lsls	r2, r3, #5
 5969 0102 3B69     		ldr	r3, [r7, #16]
 5970 0104 1344     		add	r3, r3, r2
 5971 0106 03F5A063 		add	r3, r3, #1280
 5972 010a 1A46     		mov	r2, r3
 5973              		.loc 1 1795 43
 5974 010c 40F22523 		movw	r3, #549
 5975 0110 D360     		str	r3, [r2, #12]
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5976              		.loc 1 1800 27
 5977 0112 97F90230 		ldrsb	r3, [r7, #2]
 5978              		.loc 1 1800 10
 5979 0116 002B     		cmp	r3, #0
 5980 0118 17DA     		bge	.L265
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5981              		.loc 1 1802 45
 5982 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5983 011c 5A01     		lsls	r2, r3, #5
 5984 011e 3B69     		ldr	r3, [r7, #16]
 5985 0120 1344     		add	r3, r3, r2
 5986 0122 03F5A063 		add	r3, r3, #1280
 5987 0126 DB68     		ldr	r3, [r3, #12]
 5988 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5989 012a 5101     		lsls	r1, r2, #5
 5990 012c 3A69     		ldr	r2, [r7, #16]
 5991 012e 0A44     		add	r2, r2, r1
 5992 0130 02F5A062 		add	r2, r2, #1280
 5993 0134 43F4C073 		orr	r3, r3, #384
 5994 0138 D360     		str	r3, [r2, #12]
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5995              		.loc 1 1804 7
 5996 013a 06E0     		b	.L265
 5997              	.L246:
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
ARM GAS  /tmp/cc1ThuXR.s 			page 137


 5998              		.loc 1 1807 11
 5999 013c 0123     		movs	r3, #1
 6000 013e FB77     		strb	r3, [r7, #31]
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6001              		.loc 1 1808 7
 6002 0140 04E0     		b	.L253
 6003              	.L263:
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6004              		.loc 1 1776 7
 6005 0142 00BF     		nop
 6006 0144 02E0     		b	.L253
 6007              	.L264:
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6008              		.loc 1 1792 7
 6009 0146 00BF     		nop
 6010 0148 00E0     		b	.L253
 6011              	.L265:
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6012              		.loc 1 1804 7
 6013 014a 00BF     		nop
 6014              	.L253:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 6015              		.loc 1 1812 39
 6016 014c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6017 014e 5A01     		lsls	r2, r3, #5
 6018 0150 3B69     		ldr	r3, [r7, #16]
 6019 0152 1344     		add	r3, r3, r2
 6020 0154 03F5A063 		add	r3, r3, #1280
 6021 0158 DB68     		ldr	r3, [r3, #12]
 6022 015a FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6023 015c 5101     		lsls	r1, r2, #5
 6024 015e 3A69     		ldr	r2, [r7, #16]
 6025 0160 0A44     		add	r2, r2, r1
 6026 0162 02F5A062 		add	r2, r2, #1280
 6027 0166 43F00203 		orr	r3, r3, #2
 6028 016a D360     		str	r3, [r2, #12]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 6029              		.loc 1 1815 23
 6030 016c 3B69     		ldr	r3, [r7, #16]
 6031 016e 03F58063 		add	r3, r3, #1024
 6032 0172 9A69     		ldr	r2, [r3, #24]
 6033              		.loc 1 1815 41
 6034 0174 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6035 0176 03F00F03 		and	r3, r3, #15
 6036              		.loc 1 1815 30
 6037 017a 0121     		movs	r1, #1
 6038 017c 01FA03F3 		lsl	r3, r1, r3
 6039              		.loc 1 1815 23
 6040 0180 3969     		ldr	r1, [r7, #16]
 6041 0182 01F58061 		add	r1, r1, #1024
 6042 0186 1343     		orrs	r3, r3, r2
 6043 0188 8B61     		str	r3, [r1, #24]
ARM GAS  /tmp/cc1ThuXR.s 			page 138


1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 6044              		.loc 1 1818 17
 6045 018a 7B68     		ldr	r3, [r7, #4]
 6046 018c 9B69     		ldr	r3, [r3, #24]
 6047 018e 43F00072 		orr	r2, r3, #33554432
 6048 0192 7B68     		ldr	r3, [r7, #4]
 6049 0194 9A61     		str	r2, [r3, #24]
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 6050              		.loc 1 1821 23
 6051 0196 97F90230 		ldrsb	r3, [r7, #2]
 6052              		.loc 1 1821 6
 6053 019a 002B     		cmp	r3, #0
 6054 019c 03DA     		bge	.L256
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 6055              		.loc 1 1823 17
 6056 019e 4FF40043 		mov	r3, #32768
 6057 01a2 BB61     		str	r3, [r7, #24]
 6058 01a4 01E0     		b	.L257
 6059              	.L256:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 6060              		.loc 1 1827 17
 6061 01a6 0023     		movs	r3, #0
 6062 01a8 BB61     		str	r3, [r7, #24]
 6063              	.L257:
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 6064              		.loc 1 1830 19
 6065 01aa 7868     		ldr	r0, [r7, #4]
 6066 01ac FFF7FEFF 		bl	USB_GetHostSpeed
 6067 01b0 F860     		str	r0, [r7, #12]
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* LS device plugged to HUB */
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 6068              		.loc 1 1833 6
 6069 01b2 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 6070 01b6 022B     		cmp	r3, #2
 6071 01b8 06D1     		bne	.L258
 6072              		.loc 1 1833 41 discriminator 1
 6073 01ba FB68     		ldr	r3, [r7, #12]
 6074 01bc 022B     		cmp	r3, #2
 6075 01be 03D0     		beq	.L258
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 6076              		.loc 1 1835 20
 6077 01c0 4FF40033 		mov	r3, #131072
 6078 01c4 7B61     		str	r3, [r7, #20]
 6079 01c6 01E0     		b	.L259
 6080              	.L258:
ARM GAS  /tmp/cc1ThuXR.s 			page 139


1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 6081              		.loc 1 1839 20
 6082 01c8 0023     		movs	r3, #0
 6083 01ca 7B61     		str	r3, [r7, #20]
 6084              	.L259:
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 6085              		.loc 1 1842 41
 6086 01cc 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 6087              		.loc 1 1842 63
 6088 01ce 9B05     		lsls	r3, r3, #22
 6089              		.loc 1 1842 70
 6090 01d0 03F0FE52 		and	r2, r3, #532676608
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6091              		.loc 1 1843 67
 6092 01d4 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 6093 01d6 DB02     		lsls	r3, r3, #11
 6094              		.loc 1 1843 74
 6095 01d8 03F4F043 		and	r3, r3, #30720
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6096              		.loc 1 1842 92
 6097 01dc 1A43     		orrs	r2, r2, r3
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6098              		.loc 1 1844 41
 6099 01de 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6100              		.loc 1 1844 59
 6101 01e2 9B04     		lsls	r3, r3, #18
 6102              		.loc 1 1844 66
 6103 01e4 03F44023 		and	r3, r3, #786432
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6104              		.loc 1 1843 98
 6105 01e8 1A43     		orrs	r2, r2, r3
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 6106              		.loc 1 1845 54
 6107 01ea 3B8E     		ldrh	r3, [r7, #48]
 6108 01ec C3F30A03 		ubfx	r3, r3, #0, #11
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6109              		.loc 1 1844 90
 6110 01f0 1A43     		orrs	r2, r2, r3
 6111              		.loc 1 1845 78
 6112 01f2 BB69     		ldr	r3, [r7, #24]
 6113 01f4 1A43     		orrs	r2, r2, r3
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6114              		.loc 1 1842 3
 6115 01f6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6116 01f8 5901     		lsls	r1, r3, #5
 6117 01fa 3B69     		ldr	r3, [r7, #16]
 6118 01fc 0B44     		add	r3, r3, r1
 6119 01fe 03F5A063 		add	r3, r3, #1280
 6120 0202 1946     		mov	r1, r3
 6121              		.loc 1 1845 92
 6122 0204 7B69     		ldr	r3, [r7, #20]
 6123 0206 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/cc1ThuXR.s 			page 140


1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6124              		.loc 1 1842 37
 6125 0208 0B60     		str	r3, [r1]
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 6126              		.loc 1 1847 6
 6127 020a 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6128 020e 032B     		cmp	r3, #3
 6129 0210 03D0     		beq	.L260
 6130              		.loc 1 1847 33 discriminator 1
 6131 0212 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6132 0216 012B     		cmp	r3, #1
 6133 0218 0FD1     		bne	.L261
 6134              	.L260:
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 6135              		.loc 1 1849 39
 6136 021a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6137 021c 5A01     		lsls	r2, r3, #5
 6138 021e 3B69     		ldr	r3, [r7, #16]
 6139 0220 1344     		add	r3, r3, r2
 6140 0222 03F5A063 		add	r3, r3, #1280
 6141 0226 1B68     		ldr	r3, [r3]
 6142 0228 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6143 022a 5101     		lsls	r1, r2, #5
 6144 022c 3A69     		ldr	r2, [r7, #16]
 6145 022e 0A44     		add	r2, r2, r1
 6146 0230 02F5A062 		add	r2, r2, #1280
 6147 0234 43F00053 		orr	r3, r3, #536870912
 6148 0238 1360     		str	r3, [r2]
 6149              	.L261:
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 6150              		.loc 1 1852 10
 6151 023a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6152              		.loc 1 1853 1
 6153 023c 1846     		mov	r0, r3
 6154 023e 2037     		adds	r7, r7, #32
 6155              	.LCFI251:
 6156              		.cfi_def_cfa_offset 8
 6157 0240 BD46     		mov	sp, r7
 6158              	.LCFI252:
 6159              		.cfi_def_cfa_register 13
 6160              		@ sp needed
 6161 0242 80BD     		pop	{r7, pc}
 6162              		.cfi_endproc
 6163              	.LFE276:
 6165              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 6166              		.align	1
 6167              		.global	USB_HC_StartXfer
 6168              		.syntax unified
 6169              		.thumb
 6170              		.thumb_func
 6172              	USB_HC_StartXfer:
 6173              	.LFB277:
ARM GAS  /tmp/cc1ThuXR.s 			page 141


1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6174              		.loc 1 1866 1
 6175              		.cfi_startproc
 6176              		@ args = 0, pretend = 0, frame = 40
 6177              		@ frame_needed = 1, uses_anonymous_args = 0
 6178 0000 80B5     		push	{r7, lr}
 6179              	.LCFI253:
 6180              		.cfi_def_cfa_offset 8
 6181              		.cfi_offset 7, -8
 6182              		.cfi_offset 14, -4
 6183 0002 8CB0     		sub	sp, sp, #48
 6184              	.LCFI254:
 6185              		.cfi_def_cfa_offset 56
 6186 0004 02AF     		add	r7, sp, #8
 6187              	.LCFI255:
 6188              		.cfi_def_cfa 7, 48
 6189 0006 F860     		str	r0, [r7, #12]
 6190 0008 B960     		str	r1, [r7, #8]
 6191 000a 1346     		mov	r3, r2
 6192 000c FB71     		strb	r3, [r7, #7]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6193              		.loc 1 1867 12
 6194 000e FB68     		ldr	r3, [r7, #12]
 6195 0010 3B62     		str	r3, [r7, #32]
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 6196              		.loc 1 1868 33
 6197 0012 BB68     		ldr	r3, [r7, #8]
 6198 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6199              		.loc 1 1868 12
 6200 0016 FB61     		str	r3, [r7, #28]
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 6201              		.loc 1 1873 12
 6202 0018 4FF48073 		mov	r3, #256
 6203 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 6204              		.loc 1 1875 13
 6205 001e FB68     		ldr	r3, [r7, #12]
 6206 0020 DB6B     		ldr	r3, [r3, #60]
 6207              		.loc 1 1875 19
 6208 0022 03F48073 		and	r3, r3, #256
ARM GAS  /tmp/cc1ThuXR.s 			page 142


 6209              		.loc 1 1875 6
 6210 0026 002B     		cmp	r3, #0
 6211 0028 2DD0     		beq	.L267
 6212              		.loc 1 1875 47 discriminator 1
 6213 002a BB68     		ldr	r3, [r7, #8]
 6214 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 6215              		.loc 1 1875 41 discriminator 1
 6216 002e 002B     		cmp	r3, #0
 6217 0030 29D1     		bne	.L267
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* in DMA mode host Core automatically issues ping  in case of NYET/NAK */
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 1U) && ((hc->ep_type == EP_TYPE_CTRL) || (hc->ep_type == EP_TYPE_BULK)))
 6218              		.loc 1 1878 8
 6219 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6220 0034 012B     		cmp	r3, #1
 6221 0036 17D1     		bne	.L268
 6222              		.loc 1 1878 28 discriminator 1
 6223 0038 BB68     		ldr	r3, [r7, #8]
 6224 003a DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6225              		.loc 1 1878 21 discriminator 1
 6226 003c 002B     		cmp	r3, #0
 6227 003e 03D0     		beq	.L269
 6228              		.loc 1 1878 61 discriminator 2
 6229 0040 BB68     		ldr	r3, [r7, #8]
 6230 0042 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6231              		.loc 1 1878 55 discriminator 2
 6232 0044 022B     		cmp	r3, #2
 6233 0046 0FD1     		bne	.L268
 6234              	.L269:
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET |
 6235              		.loc 1 1880 43
 6236 0048 FB69     		ldr	r3, [r7, #28]
 6237 004a 5A01     		lsls	r2, r3, #5
 6238 004c 3B6A     		ldr	r3, [r7, #32]
 6239 004e 1344     		add	r3, r3, r2
 6240 0050 03F5A063 		add	r3, r3, #1280
 6241 0054 DB68     		ldr	r3, [r3, #12]
 6242 0056 FA69     		ldr	r2, [r7, #28]
 6243 0058 5101     		lsls	r1, r2, #5
 6244 005a 3A6A     		ldr	r2, [r7, #32]
 6245 005c 0A44     		add	r2, r2, r1
 6246 005e 02F5A062 		add	r2, r2, #1280
 6247 0062 23F07003 		bic	r3, r3, #112
 6248 0066 D360     		str	r3, [r2, #12]
 6249              	.L268:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_ACKM |
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_NAKM);
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 6250              		.loc 1 1885 8
 6251 0068 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6252 006a 002B     		cmp	r3, #0
 6253 006c 0BD1     		bne	.L267
 6254              		.loc 1 1885 27 discriminator 1
 6255 006e BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc1ThuXR.s 			page 143


 6256 0070 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 6257              		.loc 1 1885 21 discriminator 1
 6258 0072 012B     		cmp	r3, #1
 6259 0074 07D1     		bne	.L267
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 6260              		.loc 1 1887 13
 6261 0076 BB68     		ldr	r3, [r7, #8]
 6262 0078 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6263 007a 1946     		mov	r1, r3
 6264 007c F868     		ldr	r0, [r7, #12]
 6265 007e FFF7FEFF 		bl	USB_DoPing
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 6266              		.loc 1 1888 14
 6267 0082 0023     		movs	r3, #0
 6268 0084 F8E0     		b	.L270
 6269              	.L267:
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 6270              		.loc 1 1894 9
 6271 0086 BB68     		ldr	r3, [r7, #8]
 6272 0088 5B69     		ldr	r3, [r3, #20]
 6273              		.loc 1 1894 6
 6274 008a 002B     		cmp	r3, #0
 6275 008c 18D0     		beq	.L271
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 6276              		.loc 1 1896 33
 6277 008e BB68     		ldr	r3, [r7, #8]
 6278 0090 5B69     		ldr	r3, [r3, #20]
 6279              		.loc 1 1896 48
 6280 0092 BA68     		ldr	r2, [r7, #8]
 6281 0094 1289     		ldrh	r2, [r2, #8]
 6282              		.loc 1 1896 44
 6283 0096 1344     		add	r3, r3, r2
 6284              		.loc 1 1896 61
 6285 0098 013B     		subs	r3, r3, #1
 6286              		.loc 1 1896 71
 6287 009a BA68     		ldr	r2, [r7, #8]
 6288 009c 1289     		ldrh	r2, [r2, #8]
 6289              		.loc 1 1896 67
 6290 009e B3FBF2F3 		udiv	r3, r3, r2
 6291              		.loc 1 1896 17
 6292 00a2 FB84     		strh	r3, [r7, #38]	@ movhi
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 6293              		.loc 1 1898 8
 6294 00a4 FA8C     		ldrh	r2, [r7, #38]
 6295 00a6 7B8B     		ldrh	r3, [r7, #26]
 6296 00a8 9A42     		cmp	r2, r3
 6297 00aa 0BD9     		bls	.L272
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
ARM GAS  /tmp/cc1ThuXR.s 			page 144


 6298              		.loc 1 1900 19
 6299 00ac 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 6300 00ae FB84     		strh	r3, [r7, #38]	@ movhi
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6301              		.loc 1 1901 22
 6302 00b0 FB8C     		ldrh	r3, [r7, #38]
 6303              		.loc 1 1901 48
 6304 00b2 BA68     		ldr	r2, [r7, #8]
 6305 00b4 1289     		ldrh	r2, [r2, #8]
 6306              		.loc 1 1901 44
 6307 00b6 03FB02F2 		mul	r2, r3, r2
 6308              		.loc 1 1901 20
 6309 00ba BB68     		ldr	r3, [r7, #8]
 6310 00bc 1A61     		str	r2, [r3, #16]
 6311 00be 01E0     		b	.L272
 6312              	.L271:
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 6313              		.loc 1 1906 17
 6314 00c0 0123     		movs	r3, #1
 6315 00c2 FB84     		strh	r3, [r7, #38]	@ movhi
 6316              	.L272:
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * max_packet size.
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6317              		.loc 1 1913 9
 6318 00c4 BB68     		ldr	r3, [r7, #8]
 6319 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6320              		.loc 1 1913 6
 6321 00c8 002B     		cmp	r3, #0
 6322 00ca 07D0     		beq	.L273
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6323              		.loc 1 1915 20
 6324 00cc FB8C     		ldrh	r3, [r7, #38]
 6325              		.loc 1 1915 46
 6326 00ce BA68     		ldr	r2, [r7, #8]
 6327 00d0 1289     		ldrh	r2, [r2, #8]
 6328              		.loc 1 1915 42
 6329 00d2 03FB02F2 		mul	r2, r3, r2
 6330              		.loc 1 1915 18
 6331 00d6 BB68     		ldr	r3, [r7, #8]
 6332 00d8 1A61     		str	r2, [r3, #16]
 6333 00da 03E0     		b	.L274
 6334              	.L273:
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 6335              		.loc 1 1919 22
ARM GAS  /tmp/cc1ThuXR.s 			page 145


 6336 00dc BB68     		ldr	r3, [r7, #8]
 6337 00de 5A69     		ldr	r2, [r3, #20]
 6338              		.loc 1 1919 18
 6339 00e0 BB68     		ldr	r3, [r7, #8]
 6340 00e2 1A61     		str	r2, [r3, #16]
 6341              	.L274:
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 6342              		.loc 1 1923 32
 6343 00e4 BB68     		ldr	r3, [r7, #8]
 6344 00e6 1B69     		ldr	r3, [r3, #16]
 6345              		.loc 1 1923 43
 6346 00e8 C3F31202 		ubfx	r2, r3, #0, #19
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6347              		.loc 1 1924 31
 6348 00ec FB8C     		ldrh	r3, [r7, #38]
 6349              		.loc 1 1924 53
 6350 00ee D904     		lsls	r1, r3, #19
 6351              		.loc 1 1924 60
 6352 00f0 634B     		ldr	r3, .L290
 6353 00f2 0B40     		ands	r3, r3, r1
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6354              		.loc 1 1923 68
 6355 00f4 1A43     		orrs	r2, r2, r3
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 6356              		.loc 1 1925 43
 6357 00f6 BB68     		ldr	r3, [r7, #8]
 6358 00f8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6359              		.loc 1 1925 54
 6360 00fa 5B07     		lsls	r3, r3, #29
 6361              		.loc 1 1925 61
 6362 00fc 03F0C043 		and	r3, r3, #1610612736
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6363              		.loc 1 1923 3
 6364 0100 F969     		ldr	r1, [r7, #28]
 6365 0102 4801     		lsls	r0, r1, #5
 6366 0104 396A     		ldr	r1, [r7, #32]
 6367 0106 0144     		add	r1, r1, r0
 6368 0108 01F5A061 		add	r1, r1, #1280
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6369              		.loc 1 1924 85
 6370 010c 1343     		orrs	r3, r3, r2
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6371              		.loc 1 1923 27
 6372 010e 0B61     		str	r3, [r1, #16]
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 6373              		.loc 1 1927 6
 6374 0110 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6375 0112 002B     		cmp	r3, #0
 6376 0114 09D0     		beq	.L275
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 6377              		.loc 1 1930 42
ARM GAS  /tmp/cc1ThuXR.s 			page 146


 6378 0116 BB68     		ldr	r3, [r7, #8]
 6379 0118 D968     		ldr	r1, [r3, #12]
 6380              		.loc 1 1930 5
 6381 011a FB69     		ldr	r3, [r7, #28]
 6382 011c 5A01     		lsls	r2, r3, #5
 6383 011e 3B6A     		ldr	r3, [r7, #32]
 6384 0120 1344     		add	r3, r3, r2
 6385 0122 03F5A063 		add	r3, r3, #1280
 6386              		.loc 1 1930 30
 6387 0126 0A46     		mov	r2, r1
 6388              		.loc 1 1930 28
 6389 0128 5A61     		str	r2, [r3, #20]
 6390              	.L275:
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 6391              		.loc 1 1933 29
 6392 012a 3B6A     		ldr	r3, [r7, #32]
 6393 012c 03F58063 		add	r3, r3, #1024
 6394              		.loc 1 1933 38
 6395 0130 9B68     		ldr	r3, [r3, #8]
 6396              		.loc 1 1933 46
 6397 0132 03F00103 		and	r3, r3, #1
 6398              		.loc 1 1933 67
 6399 0136 002B     		cmp	r3, #0
 6400 0138 0CBF     		ite	eq
 6401 013a 0123     		moveq	r3, #1
 6402 013c 0023     		movne	r3, #0
 6403 013e DBB2     		uxtb	r3, r3
 6404              		.loc 1 1933 15
 6405 0140 7B76     		strb	r3, [r7, #25]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 6406              		.loc 1 1934 27
 6407 0142 FB69     		ldr	r3, [r7, #28]
 6408 0144 5A01     		lsls	r2, r3, #5
 6409 0146 3B6A     		ldr	r3, [r7, #32]
 6410 0148 1344     		add	r3, r3, r2
 6411 014a 03F5A063 		add	r3, r3, #1280
 6412 014e 1B68     		ldr	r3, [r3]
 6413 0150 FA69     		ldr	r2, [r7, #28]
 6414 0152 5101     		lsls	r1, r2, #5
 6415 0154 3A6A     		ldr	r2, [r7, #32]
 6416 0156 0A44     		add	r2, r2, r1
 6417 0158 02F5A062 		add	r2, r2, #1280
 6418 015c 23F00053 		bic	r3, r3, #536870912
 6419 0160 1360     		str	r3, [r2]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 6420              		.loc 1 1935 27
 6421 0162 FB69     		ldr	r3, [r7, #28]
 6422 0164 5A01     		lsls	r2, r3, #5
 6423 0166 3B6A     		ldr	r3, [r7, #32]
 6424 0168 1344     		add	r3, r3, r2
 6425 016a 03F5A063 		add	r3, r3, #1280
 6426 016e 1A68     		ldr	r2, [r3]
 6427              		.loc 1 1935 30
 6428 0170 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 6429              		.loc 1 1935 52
ARM GAS  /tmp/cc1ThuXR.s 			page 147


 6430 0172 5B07     		lsls	r3, r3, #29
 6431              		.loc 1 1935 27
 6432 0174 F969     		ldr	r1, [r7, #28]
 6433 0176 4801     		lsls	r0, r1, #5
 6434 0178 396A     		ldr	r1, [r7, #32]
 6435 017a 0144     		add	r1, r1, r0
 6436 017c 01F5A061 		add	r1, r1, #1280
 6437 0180 1343     		orrs	r3, r3, r2
 6438 0182 0B60     		str	r3, [r1]
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6439              		.loc 1 1938 12
 6440 0184 FB69     		ldr	r3, [r7, #28]
 6441 0186 5A01     		lsls	r2, r3, #5
 6442 0188 3B6A     		ldr	r3, [r7, #32]
 6443 018a 1344     		add	r3, r3, r2
 6444 018c 03F5A063 		add	r3, r3, #1280
 6445              		.loc 1 1938 27
 6446 0190 1B68     		ldr	r3, [r3]
 6447              		.loc 1 1938 10
 6448 0192 3B61     		str	r3, [r7, #16]
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6449              		.loc 1 1939 10
 6450 0194 3B69     		ldr	r3, [r7, #16]
 6451 0196 23F08043 		bic	r3, r3, #1073741824
 6452 019a 3B61     		str	r3, [r7, #16]
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6453              		.loc 1 1942 9
 6454 019c BB68     		ldr	r3, [r7, #8]
 6455 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6456              		.loc 1 1942 6
 6457 01a0 002B     		cmp	r3, #0
 6458 01a2 04D0     		beq	.L276
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 6459              		.loc 1 1944 12
 6460 01a4 3B69     		ldr	r3, [r7, #16]
 6461 01a6 43F40043 		orr	r3, r3, #32768
 6462 01aa 3B61     		str	r3, [r7, #16]
 6463 01ac 03E0     		b	.L277
 6464              	.L276:
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 6465              		.loc 1 1948 12
 6466 01ae 3B69     		ldr	r3, [r7, #16]
 6467 01b0 23F40043 		bic	r3, r3, #32768
 6468 01b4 3B61     		str	r3, [r7, #16]
 6469              	.L277:
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6470              		.loc 1 1950 10
 6471 01b6 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cc1ThuXR.s 			page 148


 6472 01b8 43F00043 		orr	r3, r3, #-2147483648
 6473 01bc 3B61     		str	r3, [r7, #16]
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 6474              		.loc 1 1951 3
 6475 01be FB69     		ldr	r3, [r7, #28]
 6476 01c0 5A01     		lsls	r2, r3, #5
 6477 01c2 3B6A     		ldr	r3, [r7, #32]
 6478 01c4 1344     		add	r3, r3, r2
 6479 01c6 03F5A063 		add	r3, r3, #1280
 6480 01ca 1A46     		mov	r2, r3
 6481              		.loc 1 1951 27
 6482 01cc 3B69     		ldr	r3, [r7, #16]
 6483 01ce 1360     		str	r3, [r2]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U) /* dma mode */
 6484              		.loc 1 1953 6
 6485 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6486 01d2 002B     		cmp	r3, #0
 6487 01d4 01D0     		beq	.L278
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6488              		.loc 1 1955 12
 6489 01d6 0023     		movs	r3, #0
 6490 01d8 4EE0     		b	.L270
 6491              	.L278:
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 6492              		.loc 1 1958 10
 6493 01da BB68     		ldr	r3, [r7, #8]
 6494 01dc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6495              		.loc 1 1958 6
 6496 01de 002B     		cmp	r3, #0
 6497 01e0 49D1     		bne	.L279
 6498              		.loc 1 1958 34 discriminator 1
 6499 01e2 BB68     		ldr	r3, [r7, #8]
 6500 01e4 5B69     		ldr	r3, [r3, #20]
 6501              		.loc 1 1958 28 discriminator 1
 6502 01e6 002B     		cmp	r3, #0
 6503 01e8 45D0     		beq	.L279
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     switch (hc->ep_type)
 6504              		.loc 1 1960 15
 6505 01ea BB68     		ldr	r3, [r7, #8]
 6506 01ec DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6507              		.loc 1 1960 5
 6508 01ee 032B     		cmp	r3, #3
 6509 01f0 30D8     		bhi	.L287
 6510 01f2 01A2     		adr	r2, .L282
 6511 01f4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6512              		.p2align 2
 6513              	.L282:
 6514 01f8 09020000 		.word	.L283+1
 6515 01fc 2D020000 		.word	.L281+1
 6516 0200 09020000 		.word	.L283+1
 6517 0204 2D020000 		.word	.L281+1
 6518              		.p2align 1
ARM GAS  /tmp/cc1ThuXR.s 			page 149


 6519              	.L283:
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Non periodic transfer */
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6520              		.loc 1 1966 35
 6521 0208 BB68     		ldr	r3, [r7, #8]
 6522 020a 5B69     		ldr	r3, [r3, #20]
 6523              		.loc 1 1966 46
 6524 020c 0333     		adds	r3, r3, #3
 6525              		.loc 1 1966 52
 6526 020e 9B08     		lsrs	r3, r3, #2
 6527              		.loc 1 1966 19
 6528 0210 FB82     		strh	r3, [r7, #22]	@ movhi
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 6529              		.loc 1 1969 23
 6530 0212 FA8A     		ldrh	r2, [r7, #22]
 6531              		.loc 1 1969 30
 6532 0214 FB68     		ldr	r3, [r7, #12]
 6533 0216 DB6A     		ldr	r3, [r3, #44]
 6534              		.loc 1 1969 41
 6535 0218 9BB2     		uxth	r3, r3
 6536              		.loc 1 1969 12
 6537 021a 9A42     		cmp	r2, r3
 6538 021c 1CD9     		bls	.L288
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 6539              		.loc 1 1972 25
 6540 021e FB68     		ldr	r3, [r7, #12]
 6541 0220 9B69     		ldr	r3, [r3, #24]
 6542 0222 43F02002 		orr	r2, r3, #32
 6543 0226 FB68     		ldr	r3, [r7, #12]
 6544 0228 9A61     		str	r2, [r3, #24]
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6545              		.loc 1 1974 9
 6546 022a 15E0     		b	.L288
 6547              	.L281:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Periodic transfer */
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6548              		.loc 1 1979 35
 6549 022c BB68     		ldr	r3, [r7, #8]
 6550 022e 5B69     		ldr	r3, [r3, #20]
 6551              		.loc 1 1979 46
 6552 0230 0333     		adds	r3, r3, #3
 6553              		.loc 1 1979 52
 6554 0232 9B08     		lsrs	r3, r3, #2
 6555              		.loc 1 1979 19
 6556 0234 FB82     		strh	r3, [r7, #22]	@ movhi
ARM GAS  /tmp/cc1ThuXR.s 			page 150


1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 6557              		.loc 1 1981 23
 6558 0236 FA8A     		ldrh	r2, [r7, #22]
 6559              		.loc 1 1981 26
 6560 0238 3B6A     		ldr	r3, [r7, #32]
 6561 023a 03F58063 		add	r3, r3, #1024
 6562              		.loc 1 1981 35
 6563 023e 1B69     		ldr	r3, [r3, #16]
 6564              		.loc 1 1981 45
 6565 0240 9BB2     		uxth	r3, r3
 6566              		.loc 1 1981 12
 6567 0242 9A42     		cmp	r2, r3
 6568 0244 0AD9     		bls	.L289
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 6569              		.loc 1 1984 25
 6570 0246 FB68     		ldr	r3, [r7, #12]
 6571 0248 9B69     		ldr	r3, [r3, #24]
 6572 024a 43F08062 		orr	r2, r3, #67108864
 6573 024e FB68     		ldr	r3, [r7, #12]
 6574 0250 9A61     		str	r2, [r3, #24]
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6575              		.loc 1 1986 9
 6576 0252 03E0     		b	.L289
 6577              	.L287:
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6578              		.loc 1 1989 9
 6579 0254 00BF     		nop
 6580 0256 02E0     		b	.L285
 6581              	.L288:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6582              		.loc 1 1974 9
 6583 0258 00BF     		nop
 6584 025a 00E0     		b	.L285
 6585              	.L289:
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6586              		.loc 1 1986 9
 6587 025c 00BF     		nop
 6588              	.L285:
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 6589              		.loc 1 1993 11
 6590 025e BB68     		ldr	r3, [r7, #8]
 6591 0260 D968     		ldr	r1, [r3, #12]
 6592 0262 BB68     		ldr	r3, [r7, #8]
 6593 0264 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6594              		.loc 1 1993 72
 6595 0266 BB68     		ldr	r3, [r7, #8]
 6596 0268 5B69     		ldr	r3, [r3, #20]
 6597              		.loc 1 1993 11
ARM GAS  /tmp/cc1ThuXR.s 			page 151


 6598 026a 9BB2     		uxth	r3, r3
 6599 026c 0020     		movs	r0, #0
 6600 026e 0090     		str	r0, [sp]
 6601 0270 F868     		ldr	r0, [r7, #12]
 6602 0272 FFF7FEFF 		bl	USB_WritePacket
 6603              	.L279:
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6604              		.loc 1 1996 10
 6605 0276 0023     		movs	r3, #0
 6606              	.L270:
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6607              		.loc 1 1997 1
 6608 0278 1846     		mov	r0, r3
 6609 027a 2837     		adds	r7, r7, #40
 6610              	.LCFI256:
 6611              		.cfi_def_cfa_offset 8
 6612 027c BD46     		mov	sp, r7
 6613              	.LCFI257:
 6614              		.cfi_def_cfa_register 13
 6615              		@ sp needed
 6616 027e 80BD     		pop	{r7, pc}
 6617              	.L291:
 6618              		.align	2
 6619              	.L290:
 6620 0280 0000F81F 		.word	536346624
 6621              		.cfi_endproc
 6622              	.LFE277:
 6624              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 6625              		.align	1
 6626              		.global	USB_HC_ReadInterrupt
 6627              		.syntax unified
 6628              		.thumb
 6629              		.thumb_func
 6631              	USB_HC_ReadInterrupt:
 6632              	.LFB278:
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6633              		.loc 1 2005 1
 6634              		.cfi_startproc
 6635              		@ args = 0, pretend = 0, frame = 16
 6636              		@ frame_needed = 1, uses_anonymous_args = 0
 6637              		@ link register save eliminated.
 6638 0000 80B4     		push	{r7}
 6639              	.LCFI258:
 6640              		.cfi_def_cfa_offset 4
 6641              		.cfi_offset 7, -4
 6642 0002 85B0     		sub	sp, sp, #20
 6643              	.LCFI259:
 6644              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/cc1ThuXR.s 			page 152


 6645 0004 00AF     		add	r7, sp, #0
 6646              	.LCFI260:
 6647              		.cfi_def_cfa_register 7
 6648 0006 7860     		str	r0, [r7, #4]
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6649              		.loc 1 2006 12
 6650 0008 7B68     		ldr	r3, [r7, #4]
 6651 000a FB60     		str	r3, [r7, #12]
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 6652              		.loc 1 2008 12
 6653 000c FB68     		ldr	r3, [r7, #12]
 6654 000e 03F58063 		add	r3, r3, #1024
 6655              		.loc 1 2008 21
 6656 0012 5B69     		ldr	r3, [r3, #20]
 6657              		.loc 1 2008 30
 6658 0014 9BB2     		uxth	r3, r3
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6659              		.loc 1 2009 1
 6660 0016 1846     		mov	r0, r3
 6661 0018 1437     		adds	r7, r7, #20
 6662              	.LCFI261:
 6663              		.cfi_def_cfa_offset 4
 6664 001a BD46     		mov	sp, r7
 6665              	.LCFI262:
 6666              		.cfi_def_cfa_register 13
 6667              		@ sp needed
 6668 001c 5DF8047B 		ldr	r7, [sp], #4
 6669              	.LCFI263:
 6670              		.cfi_restore 7
 6671              		.cfi_def_cfa_offset 0
 6672 0020 7047     		bx	lr
 6673              		.cfi_endproc
 6674              	.LFE278:
 6676              		.section	.text.USB_HC_Halt,"ax",%progbits
 6677              		.align	1
 6678              		.global	USB_HC_Halt
 6679              		.syntax unified
 6680              		.thumb
 6681              		.thumb_func
 6683              	USB_HC_Halt:
 6684              	.LFB279:
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6685              		.loc 1 2019 1
 6686              		.cfi_startproc
 6687              		@ args = 0, pretend = 0, frame = 32
 6688              		@ frame_needed = 1, uses_anonymous_args = 0
 6689              		@ link register save eliminated.
ARM GAS  /tmp/cc1ThuXR.s 			page 153


 6690 0000 80B4     		push	{r7}
 6691              	.LCFI264:
 6692              		.cfi_def_cfa_offset 4
 6693              		.cfi_offset 7, -4
 6694 0002 89B0     		sub	sp, sp, #36
 6695              	.LCFI265:
 6696              		.cfi_def_cfa_offset 40
 6697 0004 00AF     		add	r7, sp, #0
 6698              	.LCFI266:
 6699              		.cfi_def_cfa_register 7
 6700 0006 7860     		str	r0, [r7, #4]
 6701 0008 0B46     		mov	r3, r1
 6702 000a FB70     		strb	r3, [r7, #3]
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6703              		.loc 1 2020 12
 6704 000c 7B68     		ldr	r3, [r7, #4]
 6705 000e FB61     		str	r3, [r7, #28]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6706              		.loc 1 2021 12
 6707 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6708 0012 BB61     		str	r3, [r7, #24]
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6709              		.loc 1 2022 17
 6710 0014 0023     		movs	r3, #0
 6711 0016 FB60     		str	r3, [r7, #12]
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6712              		.loc 1 2023 24
 6713 0018 BB69     		ldr	r3, [r7, #24]
 6714 001a 5A01     		lsls	r2, r3, #5
 6715 001c FB69     		ldr	r3, [r7, #28]
 6716 001e 1344     		add	r3, r3, r2
 6717 0020 03F5A063 		add	r3, r3, #1280
 6718              		.loc 1 2023 38
 6719 0024 1B68     		ldr	r3, [r3]
 6720              		.loc 1 2023 71
 6721 0026 9B0C     		lsrs	r3, r3, #18
 6722              		.loc 1 2023 12
 6723 0028 03F00303 		and	r3, r3, #3
 6724 002c 7B61     		str	r3, [r7, #20]
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 6725              		.loc 1 2024 26
 6726 002e BB69     		ldr	r3, [r7, #24]
 6727 0030 5A01     		lsls	r2, r3, #5
 6728 0032 FB69     		ldr	r3, [r7, #28]
 6729 0034 1344     		add	r3, r3, r2
 6730 0036 03F5A063 		add	r3, r3, #1280
 6731              		.loc 1 2024 40
 6732 003a 1B68     		ldr	r3, [r3]
 6733              		.loc 1 2024 73
 6734 003c DB0F     		lsrs	r3, r3, #31
 6735              		.loc 1 2024 12
 6736 003e 03F00103 		and	r3, r3, #1
 6737 0042 3B61     		str	r3, [r7, #16]
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
 6738              		.loc 1 2026 13
 6739 0044 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc1ThuXR.s 			page 154


 6740 0046 9B68     		ldr	r3, [r3, #8]
 6741              		.loc 1 2026 23
 6742 0048 03F02003 		and	r3, r3, #32
 6743              		.loc 1 2026 6
 6744 004c 202B     		cmp	r3, #32
 6745 004e 04D1     		bne	.L295
 6746              		.loc 1 2026 74 discriminator 1
 6747 0050 3B69     		ldr	r3, [r7, #16]
 6748 0052 002B     		cmp	r3, #0
 6749 0054 01D1     		bne	.L295
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (ChannelEna == 0U))
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6750              		.loc 1 2029 12
 6751 0056 0023     		movs	r3, #0
 6752 0058 C8E0     		b	.L296
 6753              	.L295:
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6754              		.loc 1 2033 6
 6755 005a 7B69     		ldr	r3, [r7, #20]
 6756 005c 002B     		cmp	r3, #0
 6757 005e 02D0     		beq	.L297
 6758              		.loc 1 2033 33 discriminator 1
 6759 0060 7B69     		ldr	r3, [r7, #20]
 6760 0062 022B     		cmp	r3, #2
 6761 0064 63D1     		bne	.L298
 6762              	.L297:
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6763              		.loc 1 2035 28
 6764 0066 BB69     		ldr	r3, [r7, #24]
 6765 0068 5A01     		lsls	r2, r3, #5
 6766 006a FB69     		ldr	r3, [r7, #28]
 6767 006c 1344     		add	r3, r3, r2
 6768 006e 03F5A063 		add	r3, r3, #1280
 6769 0072 1B68     		ldr	r3, [r3]
 6770 0074 BA69     		ldr	r2, [r7, #24]
 6771 0076 5101     		lsls	r1, r2, #5
 6772 0078 FA69     		ldr	r2, [r7, #28]
 6773 007a 0A44     		add	r2, r2, r1
 6774 007c 02F5A062 		add	r2, r2, #1280
 6775 0080 43F08043 		orr	r3, r3, #1073741824
 6776 0084 1360     		str	r3, [r2]
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6777              		.loc 1 2037 14
 6778 0086 7B68     		ldr	r3, [r7, #4]
 6779 0088 9B68     		ldr	r3, [r3, #8]
 6780              		.loc 1 2037 24
 6781 008a 03F02003 		and	r3, r3, #32
 6782              		.loc 1 2037 8
 6783 008e 002B     		cmp	r3, #0
 6784 0090 40F0AB80 		bne	.L304
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/cc1ThuXR.s 			page 155


2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6785              		.loc 1 2039 16
 6786 0094 7B68     		ldr	r3, [r7, #4]
 6787 0096 DB6A     		ldr	r3, [r3, #44]
 6788              		.loc 1 2039 27
 6789 0098 03F47F03 		and	r3, r3, #16711680
 6790              		.loc 1 2039 10
 6791 009c 002B     		cmp	r3, #0
 6792 009e 33D1     		bne	.L300
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6793              		.loc 1 2041 32
 6794 00a0 BB69     		ldr	r3, [r7, #24]
 6795 00a2 5A01     		lsls	r2, r3, #5
 6796 00a4 FB69     		ldr	r3, [r7, #28]
 6797 00a6 1344     		add	r3, r3, r2
 6798 00a8 03F5A063 		add	r3, r3, #1280
 6799 00ac 1B68     		ldr	r3, [r3]
 6800 00ae BA69     		ldr	r2, [r7, #24]
 6801 00b0 5101     		lsls	r1, r2, #5
 6802 00b2 FA69     		ldr	r2, [r7, #28]
 6803 00b4 0A44     		add	r2, r2, r1
 6804 00b6 02F5A062 		add	r2, r2, #1280
 6805 00ba 23F00043 		bic	r3, r3, #-2147483648
 6806 00be 1360     		str	r3, [r2]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6807              		.loc 1 2042 32
 6808 00c0 BB69     		ldr	r3, [r7, #24]
 6809 00c2 5A01     		lsls	r2, r3, #5
 6810 00c4 FB69     		ldr	r3, [r7, #28]
 6811 00c6 1344     		add	r3, r3, r2
 6812 00c8 03F5A063 		add	r3, r3, #1280
 6813 00cc 1B68     		ldr	r3, [r3]
 6814 00ce BA69     		ldr	r2, [r7, #24]
 6815 00d0 5101     		lsls	r1, r2, #5
 6816 00d2 FA69     		ldr	r2, [r7, #28]
 6817 00d4 0A44     		add	r2, r2, r1
 6818 00d6 02F5A062 		add	r2, r2, #1280
 6819 00da 43F00043 		orr	r3, r3, #-2147483648
 6820 00de 1360     		str	r3, [r2]
 6821              	.L303:
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         do
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           count++;
 6822              		.loc 1 2045 16
 6823 00e0 FB68     		ldr	r3, [r7, #12]
 6824 00e2 0133     		adds	r3, r3, #1
 6825 00e4 FB60     		str	r3, [r7, #12]
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (count > 1000U)
 6826              		.loc 1 2047 21
 6827 00e6 FB68     		ldr	r3, [r7, #12]
 6828              		.loc 1 2047 14
 6829 00e8 B3F57A7F 		cmp	r3, #1000
 6830 00ec 1DD8     		bhi	.L310
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             break;
ARM GAS  /tmp/cc1ThuXR.s 			page 156


2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6831              		.loc 1 2051 19
 6832 00ee BB69     		ldr	r3, [r7, #24]
 6833 00f0 5A01     		lsls	r2, r3, #5
 6834 00f2 FB69     		ldr	r3, [r7, #28]
 6835 00f4 1344     		add	r3, r3, r2
 6836 00f6 03F5A063 		add	r3, r3, #1280
 6837              		.loc 1 2051 33
 6838 00fa 1B68     		ldr	r3, [r3]
 6839              		.loc 1 2051 42
 6840 00fc 03F00043 		and	r3, r3, #-2147483648
 6841              		.loc 1 2051 9
 6842 0100 B3F1004F 		cmp	r3, #-2147483648
 6843 0104 ECD0     		beq	.L303
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6844              		.loc 1 2037 8
 6845 0106 70E0     		b	.L304
 6846              	.L300:
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6847              		.loc 1 2055 32
 6848 0108 BB69     		ldr	r3, [r7, #24]
 6849 010a 5A01     		lsls	r2, r3, #5
 6850 010c FB69     		ldr	r3, [r7, #28]
 6851 010e 1344     		add	r3, r3, r2
 6852 0110 03F5A063 		add	r3, r3, #1280
 6853 0114 1B68     		ldr	r3, [r3]
 6854 0116 BA69     		ldr	r2, [r7, #24]
 6855 0118 5101     		lsls	r1, r2, #5
 6856 011a FA69     		ldr	r2, [r7, #28]
 6857 011c 0A44     		add	r2, r2, r1
 6858 011e 02F5A062 		add	r2, r2, #1280
 6859 0122 43F00043 		orr	r3, r3, #-2147483648
 6860 0126 1360     		str	r3, [r2]
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6861              		.loc 1 2037 8
 6862 0128 5FE0     		b	.L304
 6863              	.L310:
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
 6864              		.loc 1 2049 13
 6865 012a 00BF     		nop
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6866              		.loc 1 2037 8
 6867 012c 5DE0     		b	.L304
 6868              	.L298:
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6869              		.loc 1 2061 28
 6870 012e BB69     		ldr	r3, [r7, #24]
 6871 0130 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/cc1ThuXR.s 			page 157


 6872 0132 FB69     		ldr	r3, [r7, #28]
 6873 0134 1344     		add	r3, r3, r2
 6874 0136 03F5A063 		add	r3, r3, #1280
 6875 013a 1B68     		ldr	r3, [r3]
 6876 013c BA69     		ldr	r2, [r7, #24]
 6877 013e 5101     		lsls	r1, r2, #5
 6878 0140 FA69     		ldr	r2, [r7, #28]
 6879 0142 0A44     		add	r2, r2, r1
 6880 0144 02F5A062 		add	r2, r2, #1280
 6881 0148 43F08043 		orr	r3, r3, #1073741824
 6882 014c 1360     		str	r3, [r2]
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 6883              		.loc 1 2063 10
 6884 014e FB69     		ldr	r3, [r7, #28]
 6885 0150 03F58063 		add	r3, r3, #1024
 6886              		.loc 1 2063 19
 6887 0154 1B69     		ldr	r3, [r3, #16]
 6888              		.loc 1 2063 29
 6889 0156 03F47F03 		and	r3, r3, #16711680
 6890              		.loc 1 2063 8
 6891 015a 002B     		cmp	r3, #0
 6892 015c 33D1     		bne	.L305
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6893              		.loc 1 2065 30
 6894 015e BB69     		ldr	r3, [r7, #24]
 6895 0160 5A01     		lsls	r2, r3, #5
 6896 0162 FB69     		ldr	r3, [r7, #28]
 6897 0164 1344     		add	r3, r3, r2
 6898 0166 03F5A063 		add	r3, r3, #1280
 6899 016a 1B68     		ldr	r3, [r3]
 6900 016c BA69     		ldr	r2, [r7, #24]
 6901 016e 5101     		lsls	r1, r2, #5
 6902 0170 FA69     		ldr	r2, [r7, #28]
 6903 0172 0A44     		add	r2, r2, r1
 6904 0174 02F5A062 		add	r2, r2, #1280
 6905 0178 23F00043 		bic	r3, r3, #-2147483648
 6906 017c 1360     		str	r3, [r2]
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6907              		.loc 1 2066 30
 6908 017e BB69     		ldr	r3, [r7, #24]
 6909 0180 5A01     		lsls	r2, r3, #5
 6910 0182 FB69     		ldr	r3, [r7, #28]
 6911 0184 1344     		add	r3, r3, r2
 6912 0186 03F5A063 		add	r3, r3, #1280
 6913 018a 1B68     		ldr	r3, [r3]
 6914 018c BA69     		ldr	r2, [r7, #24]
 6915 018e 5101     		lsls	r1, r2, #5
 6916 0190 FA69     		ldr	r2, [r7, #28]
 6917 0192 0A44     		add	r2, r2, r1
 6918 0194 02F5A062 		add	r2, r2, #1280
 6919 0198 43F00043 		orr	r3, r3, #-2147483648
 6920 019c 1360     		str	r3, [r2]
 6921              	.L308:
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/cc1ThuXR.s 			page 158


2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 6922              		.loc 1 2069 14
 6923 019e FB68     		ldr	r3, [r7, #12]
 6924 01a0 0133     		adds	r3, r3, #1
 6925 01a2 FB60     		str	r3, [r7, #12]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 1000U)
 6926              		.loc 1 2071 19
 6927 01a4 FB68     		ldr	r3, [r7, #12]
 6928              		.loc 1 2071 12
 6929 01a6 B3F57A7F 		cmp	r3, #1000
 6930 01aa 1DD8     		bhi	.L311
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6931              		.loc 1 2075 17
 6932 01ac BB69     		ldr	r3, [r7, #24]
 6933 01ae 5A01     		lsls	r2, r3, #5
 6934 01b0 FB69     		ldr	r3, [r7, #28]
 6935 01b2 1344     		add	r3, r3, r2
 6936 01b4 03F5A063 		add	r3, r3, #1280
 6937              		.loc 1 2075 31
 6938 01b8 1B68     		ldr	r3, [r3]
 6939              		.loc 1 2075 40
 6940 01ba 03F00043 		and	r3, r3, #-2147483648
 6941              		.loc 1 2075 7
 6942 01be B3F1004F 		cmp	r3, #-2147483648
 6943 01c2 ECD0     		beq	.L308
 6944 01c4 11E0     		b	.L304
 6945              	.L305:
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6946              		.loc 1 2079 30
 6947 01c6 BB69     		ldr	r3, [r7, #24]
 6948 01c8 5A01     		lsls	r2, r3, #5
 6949 01ca FB69     		ldr	r3, [r7, #28]
 6950 01cc 1344     		add	r3, r3, r2
 6951 01ce 03F5A063 		add	r3, r3, #1280
 6952 01d2 1B68     		ldr	r3, [r3]
 6953 01d4 BA69     		ldr	r2, [r7, #24]
 6954 01d6 5101     		lsls	r1, r2, #5
 6955 01d8 FA69     		ldr	r2, [r7, #28]
 6956 01da 0A44     		add	r2, r2, r1
 6957 01dc 02F5A062 		add	r2, r2, #1280
 6958 01e0 43F00043 		orr	r3, r3, #-2147483648
 6959 01e4 1360     		str	r3, [r2]
 6960 01e6 00E0     		b	.L304
 6961              	.L311:
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 6962              		.loc 1 2073 11
 6963 01e8 00BF     		nop
 6964              	.L304:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/cc1ThuXR.s 			page 159


2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6965              		.loc 1 2083 10
 6966 01ea 0023     		movs	r3, #0
 6967              	.L296:
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6968              		.loc 1 2084 1
 6969 01ec 1846     		mov	r0, r3
 6970 01ee 2437     		adds	r7, r7, #36
 6971              	.LCFI267:
 6972              		.cfi_def_cfa_offset 4
 6973 01f0 BD46     		mov	sp, r7
 6974              	.LCFI268:
 6975              		.cfi_def_cfa_register 13
 6976              		@ sp needed
 6977 01f2 5DF8047B 		ldr	r7, [sp], #4
 6978              	.LCFI269:
 6979              		.cfi_restore 7
 6980              		.cfi_def_cfa_offset 0
 6981 01f6 7047     		bx	lr
 6982              		.cfi_endproc
 6983              	.LFE279:
 6985              		.section	.text.USB_DoPing,"ax",%progbits
 6986              		.align	1
 6987              		.global	USB_DoPing
 6988              		.syntax unified
 6989              		.thumb
 6990              		.thumb_func
 6992              	USB_DoPing:
 6993              	.LFB280:
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6994              		.loc 1 2094 1
 6995              		.cfi_startproc
 6996              		@ args = 0, pretend = 0, frame = 24
 6997              		@ frame_needed = 1, uses_anonymous_args = 0
 6998              		@ link register save eliminated.
 6999 0000 80B4     		push	{r7}
 7000              	.LCFI270:
 7001              		.cfi_def_cfa_offset 4
 7002              		.cfi_offset 7, -4
 7003 0002 87B0     		sub	sp, sp, #28
 7004              	.LCFI271:
 7005              		.cfi_def_cfa_offset 32
 7006 0004 00AF     		add	r7, sp, #0
 7007              	.LCFI272:
 7008              		.cfi_def_cfa_register 7
 7009 0006 7860     		str	r0, [r7, #4]
 7010 0008 0B46     		mov	r3, r1
ARM GAS  /tmp/cc1ThuXR.s 			page 160


 7011 000a FB70     		strb	r3, [r7, #3]
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7012              		.loc 1 2095 12
 7013 000c 7B68     		ldr	r3, [r7, #4]
 7014 000e 7B61     		str	r3, [r7, #20]
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 7015              		.loc 1 2096 12
 7016 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7017 0012 3B61     		str	r3, [r7, #16]
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 7018              		.loc 1 2097 12
 7019 0014 0123     		movs	r3, #1
 7020 0016 FB60     		str	r3, [r7, #12]
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 7021              		.loc 1 2100 42
 7022 0018 FB68     		ldr	r3, [r7, #12]
 7023 001a DA04     		lsls	r2, r3, #19
 7024              		.loc 1 2100 49
 7025 001c 154B     		ldr	r3, .L314
 7026 001e 1340     		ands	r3, r3, r2
 7027              		.loc 1 2100 3
 7028 0020 3A69     		ldr	r2, [r7, #16]
 7029 0022 5101     		lsls	r1, r2, #5
 7030 0024 7A69     		ldr	r2, [r7, #20]
 7031 0026 0A44     		add	r2, r2, r1
 7032 0028 02F5A062 		add	r2, r2, #1280
 7033              		.loc 1 2100 74
 7034 002c 43F00043 		orr	r3, r3, #-2147483648
 7035              		.loc 1 2100 26
 7036 0030 1361     		str	r3, [r2, #16]
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 7037              		.loc 1 2104 12
 7038 0032 3B69     		ldr	r3, [r7, #16]
 7039 0034 5A01     		lsls	r2, r3, #5
 7040 0036 7B69     		ldr	r3, [r7, #20]
 7041 0038 1344     		add	r3, r3, r2
 7042 003a 03F5A063 		add	r3, r3, #1280
 7043              		.loc 1 2104 10
 7044 003e 1B68     		ldr	r3, [r3]
 7045 0040 BB60     		str	r3, [r7, #8]
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 7046              		.loc 1 2105 10
 7047 0042 BB68     		ldr	r3, [r7, #8]
 7048 0044 23F08043 		bic	r3, r3, #1073741824
 7049 0048 BB60     		str	r3, [r7, #8]
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 7050              		.loc 1 2106 10
 7051 004a BB68     		ldr	r3, [r7, #8]
 7052 004c 43F00043 		orr	r3, r3, #-2147483648
 7053 0050 BB60     		str	r3, [r7, #8]
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 7054              		.loc 1 2107 3
ARM GAS  /tmp/cc1ThuXR.s 			page 161


 7055 0052 3B69     		ldr	r3, [r7, #16]
 7056 0054 5A01     		lsls	r2, r3, #5
 7057 0056 7B69     		ldr	r3, [r7, #20]
 7058 0058 1344     		add	r3, r3, r2
 7059 005a 03F5A063 		add	r3, r3, #1280
 7060 005e 1A46     		mov	r2, r3
 7061              		.loc 1 2107 26
 7062 0060 BB68     		ldr	r3, [r7, #8]
 7063 0062 1360     		str	r3, [r2]
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7064              		.loc 1 2109 10
 7065 0064 0023     		movs	r3, #0
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7066              		.loc 1 2110 1
 7067 0066 1846     		mov	r0, r3
 7068 0068 1C37     		adds	r7, r7, #28
 7069              	.LCFI273:
 7070              		.cfi_def_cfa_offset 4
 7071 006a BD46     		mov	sp, r7
 7072              	.LCFI274:
 7073              		.cfi_def_cfa_register 13
 7074              		@ sp needed
 7075 006c 5DF8047B 		ldr	r7, [sp], #4
 7076              	.LCFI275:
 7077              		.cfi_restore 7
 7078              		.cfi_def_cfa_offset 0
 7079 0070 7047     		bx	lr
 7080              	.L315:
 7081 0072 00BF     		.align	2
 7082              	.L314:
 7083 0074 0000F81F 		.word	536346624
 7084              		.cfi_endproc
 7085              	.LFE280:
 7087              		.section	.text.USB_StopHost,"ax",%progbits
 7088              		.align	1
 7089              		.global	USB_StopHost
 7090              		.syntax unified
 7091              		.thumb
 7092              		.thumb_func
 7094              	USB_StopHost:
 7095              	.LFB281:
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7096              		.loc 1 2118 1
 7097              		.cfi_startproc
 7098              		@ args = 0, pretend = 0, frame = 32
 7099              		@ frame_needed = 1, uses_anonymous_args = 0
 7100 0000 80B5     		push	{r7, lr}
 7101              	.LCFI276:
 7102              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc1ThuXR.s 			page 162


 7103              		.cfi_offset 7, -8
 7104              		.cfi_offset 14, -4
 7105 0002 88B0     		sub	sp, sp, #32
 7106              	.LCFI277:
 7107              		.cfi_def_cfa_offset 40
 7108 0004 00AF     		add	r7, sp, #0
 7109              	.LCFI278:
 7110              		.cfi_def_cfa_register 7
 7111 0006 7860     		str	r0, [r7, #4]
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 7112              		.loc 1 2119 21
 7113 0008 0023     		movs	r3, #0
 7114 000a FB77     		strb	r3, [r7, #31]
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7115              		.loc 1 2120 12
 7116 000c 7B68     		ldr	r3, [r7, #4]
 7117 000e 7B61     		str	r3, [r7, #20]
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 7118              		.loc 1 2121 17
 7119 0010 0023     		movs	r3, #0
 7120 0012 FB60     		str	r3, [r7, #12]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 7121              		.loc 1 2125 9
 7122 0014 7868     		ldr	r0, [r7, #4]
 7123 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush USB FIFO */
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 7124              		.loc 1 2128 7
 7125 001a 1021     		movs	r1, #16
 7126 001c 7868     		ldr	r0, [r7, #4]
 7127 001e FFF7FEFF 		bl	USB_FlushTxFifo
 7128 0022 0346     		mov	r3, r0
 7129              		.loc 1 2128 6
 7130 0024 002B     		cmp	r3, #0
 7131 0026 01D0     		beq	.L317
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 7132              		.loc 1 2130 9
 7133 0028 0123     		movs	r3, #1
 7134 002a FB77     		strb	r3, [r7, #31]
 7135              	.L317:
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 7136              		.loc 1 2133 7
 7137 002c 7868     		ldr	r0, [r7, #4]
 7138 002e FFF7FEFF 		bl	USB_FlushRxFifo
 7139 0032 0346     		mov	r3, r0
 7140              		.loc 1 2133 6
 7141 0034 002B     		cmp	r3, #0
 7142 0036 01D0     		beq	.L318
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
ARM GAS  /tmp/cc1ThuXR.s 			page 163


 7143              		.loc 1 2135 9
 7144 0038 0123     		movs	r3, #1
 7145 003a FB77     		strb	r3, [r7, #31]
 7146              	.L318:
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7147              		.loc 1 2139 10
 7148 003c 0023     		movs	r3, #0
 7149 003e BB61     		str	r3, [r7, #24]
 7150              		.loc 1 2139 3
 7151 0040 1FE0     		b	.L319
 7152              	.L320:
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7153              		.loc 1 2141 13 discriminator 3
 7154 0042 BB69     		ldr	r3, [r7, #24]
 7155 0044 5A01     		lsls	r2, r3, #5
 7156 0046 7B69     		ldr	r3, [r7, #20]
 7157 0048 1344     		add	r3, r3, r2
 7158 004a 03F5A063 		add	r3, r3, #1280
 7159              		.loc 1 2141 11 discriminator 3
 7160 004e 1B68     		ldr	r3, [r3]
 7161 0050 3B61     		str	r3, [r7, #16]
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 7162              		.loc 1 2142 11 discriminator 3
 7163 0052 3B69     		ldr	r3, [r7, #16]
 7164 0054 43F08043 		orr	r3, r3, #1073741824
 7165 0058 3B61     		str	r3, [r7, #16]
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 7166              		.loc 1 2143 11 discriminator 3
 7167 005a 3B69     		ldr	r3, [r7, #16]
 7168 005c 23F00043 		bic	r3, r3, #-2147483648
 7169 0060 3B61     		str	r3, [r7, #16]
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7170              		.loc 1 2144 11 discriminator 3
 7171 0062 3B69     		ldr	r3, [r7, #16]
 7172 0064 23F40043 		bic	r3, r3, #32768
 7173 0068 3B61     		str	r3, [r7, #16]
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7174              		.loc 1 2145 5 discriminator 3
 7175 006a BB69     		ldr	r3, [r7, #24]
 7176 006c 5A01     		lsls	r2, r3, #5
 7177 006e 7B69     		ldr	r3, [r7, #20]
 7178 0070 1344     		add	r3, r3, r2
 7179 0072 03F5A063 		add	r3, r3, #1280
 7180 0076 1A46     		mov	r2, r3
 7181              		.loc 1 2145 24 discriminator 3
 7182 0078 3B69     		ldr	r3, [r7, #16]
 7183 007a 1360     		str	r3, [r2]
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7184              		.loc 1 2139 27 discriminator 3
 7185 007c BB69     		ldr	r3, [r7, #24]
 7186 007e 0133     		adds	r3, r3, #1
 7187 0080 BB61     		str	r3, [r7, #24]
 7188              	.L319:
ARM GAS  /tmp/cc1ThuXR.s 			page 164


2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7189              		.loc 1 2139 3 discriminator 1
 7190 0082 BB69     		ldr	r3, [r7, #24]
 7191 0084 0F2B     		cmp	r3, #15
 7192 0086 DCD9     		bls	.L320
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7193              		.loc 1 2149 10
 7194 0088 0023     		movs	r3, #0
 7195 008a BB61     		str	r3, [r7, #24]
 7196              		.loc 1 2149 3
 7197 008c 34E0     		b	.L321
 7198              	.L325:
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7199              		.loc 1 2151 13
 7200 008e BB69     		ldr	r3, [r7, #24]
 7201 0090 5A01     		lsls	r2, r3, #5
 7202 0092 7B69     		ldr	r3, [r7, #20]
 7203 0094 1344     		add	r3, r3, r2
 7204 0096 03F5A063 		add	r3, r3, #1280
 7205              		.loc 1 2151 11
 7206 009a 1B68     		ldr	r3, [r3]
 7207 009c 3B61     		str	r3, [r7, #16]
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 7208              		.loc 1 2152 11
 7209 009e 3B69     		ldr	r3, [r7, #16]
 7210 00a0 43F08043 		orr	r3, r3, #1073741824
 7211 00a4 3B61     		str	r3, [r7, #16]
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 7212              		.loc 1 2153 11
 7213 00a6 3B69     		ldr	r3, [r7, #16]
 7214 00a8 43F00043 		orr	r3, r3, #-2147483648
 7215 00ac 3B61     		str	r3, [r7, #16]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7216              		.loc 1 2154 11
 7217 00ae 3B69     		ldr	r3, [r7, #16]
 7218 00b0 23F40043 		bic	r3, r3, #32768
 7219 00b4 3B61     		str	r3, [r7, #16]
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7220              		.loc 1 2155 5
 7221 00b6 BB69     		ldr	r3, [r7, #24]
 7222 00b8 5A01     		lsls	r2, r3, #5
 7223 00ba 7B69     		ldr	r3, [r7, #20]
 7224 00bc 1344     		add	r3, r3, r2
 7225 00be 03F5A063 		add	r3, r3, #1280
 7226 00c2 1A46     		mov	r2, r3
 7227              		.loc 1 2155 24
 7228 00c4 3B69     		ldr	r3, [r7, #16]
 7229 00c6 1360     		str	r3, [r2]
 7230              	.L324:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       count++;
ARM GAS  /tmp/cc1ThuXR.s 			page 165


 7231              		.loc 1 2159 12
 7232 00c8 FB68     		ldr	r3, [r7, #12]
 7233 00ca 0133     		adds	r3, r3, #1
 7234 00cc FB60     		str	r3, [r7, #12]
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (count > 1000U)
 7235              		.loc 1 2161 17
 7236 00ce FB68     		ldr	r3, [r7, #12]
 7237              		.loc 1 2161 10
 7238 00d0 B3F57A7F 		cmp	r3, #1000
 7239 00d4 0CD8     		bhi	.L327
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7240              		.loc 1 2165 15
 7241 00d6 BB69     		ldr	r3, [r7, #24]
 7242 00d8 5A01     		lsls	r2, r3, #5
 7243 00da 7B69     		ldr	r3, [r7, #20]
 7244 00dc 1344     		add	r3, r3, r2
 7245 00de 03F5A063 		add	r3, r3, #1280
 7246              		.loc 1 2165 25
 7247 00e2 1B68     		ldr	r3, [r3]
 7248              		.loc 1 2165 34
 7249 00e4 03F00043 		and	r3, r3, #-2147483648
 7250              		.loc 1 2165 5
 7251 00e8 B3F1004F 		cmp	r3, #-2147483648
 7252 00ec ECD0     		beq	.L324
 7253 00ee 00E0     		b	.L323
 7254              	.L327:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 7255              		.loc 1 2163 9
 7256 00f0 00BF     		nop
 7257              	.L323:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7258              		.loc 1 2149 27 discriminator 2
 7259 00f2 BB69     		ldr	r3, [r7, #24]
 7260 00f4 0133     		adds	r3, r3, #1
 7261 00f6 BB61     		str	r3, [r7, #24]
 7262              	.L321:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7263              		.loc 1 2149 3 discriminator 1
 7264 00f8 BB69     		ldr	r3, [r7, #24]
 7265 00fa 0F2B     		cmp	r3, #15
 7266 00fc C7D9     		bls	.L325
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 7267              		.loc 1 2169 3
 7268 00fe 7B69     		ldr	r3, [r7, #20]
 7269 0100 03F58063 		add	r3, r3, #1024
 7270 0104 1A46     		mov	r2, r3
 7271              		.loc 1 2169 20
 7272 0106 4FF0FF33 		mov	r3, #-1
 7273 010a 5361     		str	r3, [r2, #20]
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
ARM GAS  /tmp/cc1ThuXR.s 			page 166


 7274              		.loc 1 2170 17
 7275 010c 7B68     		ldr	r3, [r7, #4]
 7276 010e 4FF0FF32 		mov	r2, #-1
 7277 0112 5A61     		str	r2, [r3, #20]
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 7278              		.loc 1 2172 9
 7279 0114 7868     		ldr	r0, [r7, #4]
 7280 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 7281              		.loc 1 2174 10
 7282 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7283              		.loc 1 2175 1
 7284 011c 1846     		mov	r0, r3
 7285 011e 2037     		adds	r7, r7, #32
 7286              	.LCFI279:
 7287              		.cfi_def_cfa_offset 8
 7288 0120 BD46     		mov	sp, r7
 7289              	.LCFI280:
 7290              		.cfi_def_cfa_register 13
 7291              		@ sp needed
 7292 0122 80BD     		pop	{r7, pc}
 7293              		.cfi_endproc
 7294              	.LFE281:
 7296              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 7297              		.align	1
 7298              		.global	USB_ActivateRemoteWakeup
 7299              		.syntax unified
 7300              		.thumb
 7301              		.thumb_func
 7303              	USB_ActivateRemoteWakeup:
 7304              	.LFB282:
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7305              		.loc 1 2183 1
 7306              		.cfi_startproc
 7307              		@ args = 0, pretend = 0, frame = 16
 7308              		@ frame_needed = 1, uses_anonymous_args = 0
 7309              		@ link register save eliminated.
 7310 0000 80B4     		push	{r7}
 7311              	.LCFI281:
 7312              		.cfi_def_cfa_offset 4
 7313              		.cfi_offset 7, -4
 7314 0002 85B0     		sub	sp, sp, #20
 7315              	.LCFI282:
 7316              		.cfi_def_cfa_offset 24
 7317 0004 00AF     		add	r7, sp, #0
 7318              	.LCFI283:
 7319              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc1ThuXR.s 			page 167


 7320 0006 7860     		str	r0, [r7, #4]
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7321              		.loc 1 2184 12
 7322 0008 7B68     		ldr	r3, [r7, #4]
 7323 000a FB60     		str	r3, [r7, #12]
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 7324              		.loc 1 2186 8
 7325 000c FB68     		ldr	r3, [r7, #12]
 7326 000e 03F50063 		add	r3, r3, #2048
 7327              		.loc 1 2186 19
 7328 0012 9B68     		ldr	r3, [r3, #8]
 7329              		.loc 1 2186 26
 7330 0014 03F00103 		and	r3, r3, #1
 7331              		.loc 1 2186 6
 7332 0018 012B     		cmp	r3, #1
 7333 001a 09D1     		bne	.L329
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 7334              		.loc 1 2189 23
 7335 001c FB68     		ldr	r3, [r7, #12]
 7336 001e 03F50063 		add	r3, r3, #2048
 7337 0022 5B68     		ldr	r3, [r3, #4]
 7338 0024 FA68     		ldr	r2, [r7, #12]
 7339 0026 02F50062 		add	r2, r2, #2048
 7340 002a 43F00103 		orr	r3, r3, #1
 7341 002e 5360     		str	r3, [r2, #4]
 7342              	.L329:
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7343              		.loc 1 2192 10
 7344 0030 0023     		movs	r3, #0
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7345              		.loc 1 2193 1
 7346 0032 1846     		mov	r0, r3
 7347 0034 1437     		adds	r7, r7, #20
 7348              	.LCFI284:
 7349              		.cfi_def_cfa_offset 4
 7350 0036 BD46     		mov	sp, r7
 7351              	.LCFI285:
 7352              		.cfi_def_cfa_register 13
 7353              		@ sp needed
 7354 0038 5DF8047B 		ldr	r7, [sp], #4
 7355              	.LCFI286:
 7356              		.cfi_restore 7
 7357              		.cfi_def_cfa_offset 0
 7358 003c 7047     		bx	lr
 7359              		.cfi_endproc
 7360              	.LFE282:
 7362              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 7363              		.align	1
 7364              		.global	USB_DeActivateRemoteWakeup
 7365              		.syntax unified
 7366              		.thumb
 7367              		.thumb_func
ARM GAS  /tmp/cc1ThuXR.s 			page 168


 7369              	USB_DeActivateRemoteWakeup:
 7370              	.LFB283:
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7371              		.loc 1 2201 1
 7372              		.cfi_startproc
 7373              		@ args = 0, pretend = 0, frame = 16
 7374              		@ frame_needed = 1, uses_anonymous_args = 0
 7375              		@ link register save eliminated.
 7376 0000 80B4     		push	{r7}
 7377              	.LCFI287:
 7378              		.cfi_def_cfa_offset 4
 7379              		.cfi_offset 7, -4
 7380 0002 85B0     		sub	sp, sp, #20
 7381              	.LCFI288:
 7382              		.cfi_def_cfa_offset 24
 7383 0004 00AF     		add	r7, sp, #0
 7384              	.LCFI289:
 7385              		.cfi_def_cfa_register 7
 7386 0006 7860     		str	r0, [r7, #4]
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7387              		.loc 1 2202 12
 7388 0008 7B68     		ldr	r3, [r7, #4]
 7389 000a FB60     		str	r3, [r7, #12]
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 7390              		.loc 1 2205 21
 7391 000c FB68     		ldr	r3, [r7, #12]
 7392 000e 03F50063 		add	r3, r3, #2048
 7393 0012 5B68     		ldr	r3, [r3, #4]
 7394 0014 FA68     		ldr	r2, [r7, #12]
 7395 0016 02F50062 		add	r2, r2, #2048
 7396 001a 23F00103 		bic	r3, r3, #1
 7397 001e 5360     		str	r3, [r2, #4]
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7398              		.loc 1 2207 10
 7399 0020 0023     		movs	r3, #0
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7400              		.loc 1 2208 1
 7401 0022 1846     		mov	r0, r3
 7402 0024 1437     		adds	r7, r7, #20
 7403              	.LCFI290:
 7404              		.cfi_def_cfa_offset 4
 7405 0026 BD46     		mov	sp, r7
 7406              	.LCFI291:
 7407              		.cfi_def_cfa_register 13
 7408              		@ sp needed
 7409 0028 5DF8047B 		ldr	r7, [sp], #4
 7410              	.LCFI292:
ARM GAS  /tmp/cc1ThuXR.s 			page 169


 7411              		.cfi_restore 7
 7412              		.cfi_def_cfa_offset 0
 7413 002c 7047     		bx	lr
 7414              		.cfi_endproc
 7415              	.LFE283:
 7417              		.text
 7418              	.Letext0:
 7419              		.file 2 "/usr/local/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_ty
 7420              		.file 3 "/usr/local/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 7421              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 7422              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 7423              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 7424              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
ARM GAS  /tmp/cc1ThuXR.s 			page 170


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/cc1ThuXR.s:20     .text.USB_CoreInit:0000000000000000 $t
     /tmp/cc1ThuXR.s:26     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/cc1ThuXR.s:5085   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/cc1ThuXR.s:166    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/cc1ThuXR.s:172    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/cc1ThuXR.s:387    .text.USB_SetTurnaroundTime:000000000000011c $d
     /tmp/cc1ThuXR.s:401    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/cc1ThuXR.s:407    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/cc1ThuXR.s:451    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/cc1ThuXR.s:457    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/cc1ThuXR.s:501    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/cc1ThuXR.s:507    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/cc1ThuXR.s:4841   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/cc1ThuXR.s:627    .text.USB_DevInit:0000000000000000 $t
     /tmp/cc1ThuXR.s:633    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/cc1ThuXR.s:1295   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/cc1ThuXR.s:1084   .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/cc1ThuXR.s:1192   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/cc1ThuXR.s:1073   .text.USB_DevInit:00000000000002b8 $d
     /tmp/cc1ThuXR.s:1078   .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/cc1ThuXR.s:1181   .text.USB_FlushTxFifo:0000000000000064 $d
     /tmp/cc1ThuXR.s:1186   .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/cc1ThuXR.s:1284   .text.USB_FlushRxFifo:000000000000005c $d
     /tmp/cc1ThuXR.s:1289   .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/cc1ThuXR.s:1347   .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/cc1ThuXR.s:1353   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/cc1ThuXR.s:1429   .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/cc1ThuXR.s:1435   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/cc1ThuXR.s:1618   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/cc1ThuXR.s:1624   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/cc1ThuXR.s:1813   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/cc1ThuXR.s:1819   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/cc1ThuXR.s:2074   .text.USB_DeactivateEndpoint:00000000000001b0 $d
     /tmp/cc1ThuXR.s:2080   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/cc1ThuXR.s:2086   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/cc1ThuXR.s:2296   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/cc1ThuXR.s:2302   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/cc1ThuXR.s:3578   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/cc1ThuXR.s:2772   .text.USB_EPStartXfer:0000000000000370 $d
     /tmp/cc1ThuXR.s:2775   .text.USB_EPStartXfer:0000000000000374 $t
     /tmp/cc1ThuXR.s:2944   .text.USB_EPStartXfer:000000000000048c $d
     /tmp/cc1ThuXR.s:2949   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/cc1ThuXR.s:2955   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/cc1ThuXR.s:3343   .text.USB_EPStopXfer:0000000000000000 $t
     /tmp/cc1ThuXR.s:3349   .text.USB_EPStopXfer:0000000000000000 USB_EPStopXfer
     /tmp/cc1ThuXR.s:3572   .text.USB_WritePacket:0000000000000000 $t
     /tmp/cc1ThuXR.s:3685   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/cc1ThuXR.s:3691   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/cc1ThuXR.s:3832   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/cc1ThuXR.s:3838   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/cc1ThuXR.s:3982   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/cc1ThuXR.s:3988   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/cc1ThuXR.s:4126   .text.USB_StopDevice:0000000000000000 $t
     /tmp/cc1ThuXR.s:4132   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/cc1ThuXR.s:4253   .text.USB_SetDevAddress:0000000000000000 $t
ARM GAS  /tmp/cc1ThuXR.s 			page 171


     /tmp/cc1ThuXR.s:4259   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/cc1ThuXR.s:4325   .text.USB_DevConnect:0000000000000000 $t
     /tmp/cc1ThuXR.s:4331   .text.USB_DevConnect:0000000000000000 USB_DevConnect
     /tmp/cc1ThuXR.s:4388   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/cc1ThuXR.s:4394   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/cc1ThuXR.s:4451   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/cc1ThuXR.s:4457   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/cc1ThuXR.s:4506   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/cc1ThuXR.s:4512   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/cc1ThuXR.s:4569   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/cc1ThuXR.s:4575   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/cc1ThuXR.s:4632   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/cc1ThuXR.s:4638   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/cc1ThuXR.s:4699   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/cc1ThuXR.s:4705   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/cc1ThuXR.s:4785   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/cc1ThuXR.s:4791   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/cc1ThuXR.s:4835   .text.USB_GetMode:0000000000000000 $t
     /tmp/cc1ThuXR.s:4882   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/cc1ThuXR.s:4888   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/cc1ThuXR.s:4946   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/cc1ThuXR.s:4952   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/cc1ThuXR.s:5075   .text.USB_EP0_OutStart:00000000000000b8 $d
     /tmp/cc1ThuXR.s:5080   .text.USB_CoreReset:0000000000000000 $t
     /tmp/cc1ThuXR.s:5179   .text.USB_CoreReset:0000000000000064 $d
     /tmp/cc1ThuXR.s:5184   .text.USB_HostInit:0000000000000000 $t
     /tmp/cc1ThuXR.s:5190   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/cc1ThuXR.s:5419   .text.USB_HostInit:0000000000000154 $d
     /tmp/cc1ThuXR.s:5428   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/cc1ThuXR.s:5434   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/cc1ThuXR.s:5522   .text.USB_ResetPort:0000000000000000 $t
     /tmp/cc1ThuXR.s:5528   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/cc1ThuXR.s:5602   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/cc1ThuXR.s:5608   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/cc1ThuXR.s:5704   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/cc1ThuXR.s:5710   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/cc1ThuXR.s:5762   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/cc1ThuXR.s:5768   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/cc1ThuXR.s:5814   .text.USB_HC_Init:0000000000000000 $t
     /tmp/cc1ThuXR.s:5820   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/cc1ThuXR.s:5871   .text.USB_HC_Init:0000000000000044 $d
     /tmp/cc1ThuXR.s:5875   .text.USB_HC_Init:0000000000000054 $t
     /tmp/cc1ThuXR.s:6166   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/cc1ThuXR.s:6172   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/cc1ThuXR.s:6992   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/cc1ThuXR.s:6514   .text.USB_HC_StartXfer:00000000000001f8 $d
     /tmp/cc1ThuXR.s:6518   .text.USB_HC_StartXfer:0000000000000208 $t
     /tmp/cc1ThuXR.s:6620   .text.USB_HC_StartXfer:0000000000000280 $d
     /tmp/cc1ThuXR.s:6625   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/cc1ThuXR.s:6631   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/cc1ThuXR.s:6677   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/cc1ThuXR.s:6683   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/cc1ThuXR.s:6986   .text.USB_DoPing:0000000000000000 $t
     /tmp/cc1ThuXR.s:7083   .text.USB_DoPing:0000000000000074 $d
     /tmp/cc1ThuXR.s:7088   .text.USB_StopHost:0000000000000000 $t
     /tmp/cc1ThuXR.s:7094   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/cc1ThuXR.s:7297   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
ARM GAS  /tmp/cc1ThuXR.s 			page 172


     /tmp/cc1ThuXR.s:7303   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
     /tmp/cc1ThuXR.s:7363   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/cc1ThuXR.s:7369   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
